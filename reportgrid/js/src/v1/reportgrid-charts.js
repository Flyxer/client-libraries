(function(){var mb,nb,Eb,eb,Fa,Ra,fb,vb,ad,$b,bd,ia,Qa,Od,pb,cd,dd,xa,ed,fd,gd,hd,id,jd,Fb,kd,ld,mc,Oa,Ya,Qb,Pd,nc,md,Rb,Za,Gb,nd,Hb,wb,ac,Ib,sb,Sb,vc,Oc,bc,od,pd,Jb,db,ta,V,s,p,X,Ka,wc,qd,W,ya,Ca,Qd,Rd,Pa,aa,Sd,xb,xc,L,qb,Sa,Tb,ne,yc,Pc,Td,Ud,Qc,cc,Kb,Vd,Wd,Xd,rd,Yd,dc,Zd,ua,sd,td,ud,vd,wd,xd,yd,Lb,zd,Rc,Ad,Bd,Sc,Tc,Cd,Dd,Uc,Vc,yb,i,La,Mb,gb,oc,zc,Ma,Wc,Ac,Bc,Cc,Xc,Ed,Fd,ec,zb,$d,fc,Ab,rb,o,J,C,hb,g,x,ca,Y,q,ja,Ua,T,t,Ta,tb,gc,ib,Bb,oe,pe,Va,r,$a,oa,la,Ub,Vb,qe,ae,be,Yc,Dc,Wb,S,hc,Ec,qa,jb,M,Q,Nb,
z,I,ma,Gd,G,ba,Xb,Ha,Z,re;function H(a,b){function c(){}c.prototype=a;var e=new c,f;for(f in b)e[f]=b[f];return e}function ra(a){return a instanceof Array?function(){return u.iter(a)}:"function"==typeof a.iterator?y(a,a.iterator):a.iterator}function y(a,b){var c=function(){return c.method.apply(c.scope,arguments)};c.scope=a;c.method=b;return c}var j={},v=function(){return I.__string_rec(this,"")},B=function(){};j.Arrays=B;B.__name__=["Arrays"];B.addIf=function(a,b,c){null!=b?b&&a.push(c):null!=c&&
a.push(c);return a};B.add=function(a,b){a.push(b);return a};B["delete"]=function(a,b){u.remove(a,b);return a};B.removef=function(a,b){for(var c=-1,e=0,f=a.length;e<f;){var h=e++;if(b(a[h])){c=h;break}}if(0>c)return!1;a.splice(c,1);return!0};B.deletef=function(a,b){B.removef(a,b);return a};B.filter=function(a,b){for(var c=[],e=0;e<a.length;){var f=a[e];++e;b(f)&&c.push(f)}return c};B.min=function(a,b){if(0==a.length)return null;if(null==b)for(var c=a[0],e=0,f=fa.comparef(c),h=1,m=a.length;h<m;){var A=
h++;0<f(c,a[A])&&(c=a[e=A])}else{c=b(a[0]);e=0;h=1;for(m=a.length;h<m;)if(A=h++,c>(f=b(a[A])))c=f,e=A}return a[e]};B.floatMin=function(a,b){if(0==a.length)return Math.NaN;for(var c=b(a[0]),e,f=1,h=a.length;f<h;)if(e=f++,c>(e=b(a[e])))c=e;return c};B.bounds=function(a,b){if(0==a.length)return null;if(null==b)for(var c=a[0],e=0,f=a[0],h=0,m=1,A=a.length;m<A;){var g=m++,k=fa.comparef(c);0<k(c,a[g])&&(c=a[e=g]);0>k(f,a[g])&&(f=a[h=g])}else{c=b(a[0]);e=0;k=b(a[0]);h=0;m=1;for(A=a.length;m<A;)if(g=m++,
c>(f=b(a[g])))c=f,e=g;m=1;for(A=a.length;m<A;)if(g=m++,k<(c=b(a[g])))k=c,h=g}return[a[e],a[h]]};B.boundsFloat=function(a,b){if(0==a.length)return null;for(var c=b(a[0]),e,f=b(a[0]),h=1,m=a.length;h<m;){var A=h++;if(c>(e=b(a[A])))c=e;if(f<(e=b(a[A])))f=e}return[c,f]};B.max=function(a,b){if(0==a.length)return null;if(null==b)for(var c=a[0],e=0,f=fa.comparef(c),h=1,m=a.length;h<m;){var A=h++;0>f(c,a[A])&&(c=a[e=A])}else{c=b(a[0]);e=0;h=1;for(m=a.length;h<m;)if(A=h++,c<(f=b(a[A])))c=f,e=A}return a[e]};
B.floatMax=function(a,b){if(0==a.length)return Math.NaN;for(var c=b(a[0]),e,f=1,h=a.length;f<h;)if(e=f++,c<(e=b(a[e])))c=e;return c};B.flatten=function(a){for(var b=[],c=0;c<a.length;){var e=a[c];++c;b=b.concat(e)}return b};B.map=function(a,b){return a.map(b)};B.reduce=function(a,b,c){return a.reduce(b,c)};B.order=function(a,b){a.sort(null==b?fa.compare:b);return a};B.orderMultiple=function(a,b,c){var e=!0,f;for(u.remove(c,a);e;)for(var e=!1,h=0,m=a.length-1;h<m;){var A=h++;if(0<b(a[A],a[A+1])){e=
!0;f=a[A];a[A]=a[A+1];a[A+1]=f;for(var g=0;g<c.length;){var k=c[g];++g;f=k[A];k[A]=k[A+1];k[A+1]=f}}}};B.split=function(a,b){null==b&&(b=function(a){return null==a});for(var c=[],e=[],f,h=0,m=a.length;h<m;){var A=h++;b(f=a[A],A)?e=[]:(0==e.length&&c.push(e),e.push(f))}return c};B.exists=function(a,b,c){if(null!=c)for(var e=0;e<a.length;){var f=a[e];++e;if(c(f))return!0}else for(e=0;e<a.length;)if(f=a[e],++e,f==b)return!0;return!1};B.format=function(a,b,c,e){c=o.FormatParams.params(b,c,"J");b=c.shift();
switch(b){case "J":if(0==a.length)return null==c[1]?"[]":c[1];var b=null==c[2]?", ":c[2],f=null==c[3]?null:""==c[3]?null:n.parseInt(c[3]);if(null!=f&&f<a.length){var h=null==c[4]?" ...":c[4];return a.slice().splice(0,f).map(function(a){return fa.format(a,c[0],null,null,e)}).join(b)+h}return a.map(function(a){return fa.format(a,c[0],null,null,e)}).join(b);case "C":return O.format(a.length,"I",[],e);default:throw"Unsupported array format: "+b;}};B.formatf=function(a,b,c){b=o.FormatParams.params(a,b,
"J");a=b.shift();switch(a){case "J":return function(a){if(0==a.length)return null==b[1]?"[]":b[1];var e=null==b[2]?", ":b[2],m=null==b[3]?null:""==b[3]?null:n.parseInt(b[3]);if(null!=m&&m<a.length){var A=null==b[4]?" ...":b[4];return a.slice().splice(0,m).map(function(a){return fa.format(a,b[0],null,null,c)}).join(e)+A}return a.map(function(a){return fa.format(a,b[0],null,null,c)}).join(e)};case "C":var e=O.formatf("I",[],c);return function(a){return e(a.length)};default:throw"Unsupported array format: "+
a;}};B.interpolate=function(a,b,c,e){return B.interpolatef(b,c,e)(a)};B.interpolatef=function(a,b,c){for(var e=[],f=0,h=O.min(a.length,b.length);f<h;)a[f]==b[f]?e.push(function(a){return function(){return a[0]}}([b[f]])):e.push(D.interpolatef(a[f],b[f],c)),f++;for(;f<b.length;)e.push(function(a){return function(){return a[0]}}([b[f]])),f++;return function(a){return e.map(function(b){return b(a)})}};B.interpolateStrings=function(a,b,c,e){return B.interpolateStringsf(b,c,e)(a)};B.interpolateStringsf=
function(a,b,c){for(var e=[],f=0,h=O.min(a.length,b.length);f<h;)a[f]==b[f]?e.push(function(a){return function(){return a[0]}}([b[f]])):e.push(E.interpolatef(a[f],b[f],c)),f++;for(;f<b.length;)e.push(function(a){return function(){return a[0]}}([b[f]])),f++;return function(a){return e.map(function(b){return b(a)})}};B.interpolateInts=function(a,b,c,e){return B.interpolateIntsf(b,c,e)(a)};B.interpolateIntsf=function(a,b,c){for(var e=[],f=0,h=O.min(a.length,b.length);f<h;)a[f]==b[f]?e.push(function(a){return function(){return a[0]}}([b[f]])):
e.push(O.interpolatef(a[f],b[f],c)),f++;for(;f<b.length;)e.push(function(a){return function(){return a[0]}}([b[f]])),f++;return function(a){return e.map(function(b){return b(a)})}};B.indexOf=function(a,b){return a.indexOf(b)};B.every=function(a,b){return a.every(b)};B.each=function(a,b){a.forEach(b)};B.any=function(a,b){return N.any(u.iter(a),b)};B.all=function(a,b){return N.all(u.iter(a),b)};B.random=function(a){return a[n.random(a.length)]};B.string=function(a){return"["+a.map(function(a){return fa.string(a)}).join(", ")+
"]"};B.last=function(a){return a[a.length-1]};B.lastf=function(a,b){for(var c=a.length;0<=--c;)if(b(a[c]))return a[c];return null};B.first=function(a){return a[0]};B.firstf=function(a,b){for(var c=0;c<a.length;){var e=a[c];++c;if(b(e))return e}return null};B.bisect=function(a,b,c,e){null==c&&(c=0);return B.bisectRight(a,b,c,e)};B.bisectRight=function(a,b,c,e){null==c&&(c=0);if(null==e)e=a.length;for(;c<e;){var f=c+e>>1;b<a[f]?e=f:c=f+1}return c};B.bisectLeft=function(a,b,c,e){null==c&&(c=0);if(null==
e)e=a.length;for(;c<e;){var f=c+e>>1;a[f]<b?c=f+1:e=f}return c};B.nearest=function(a,b,c){for(var e=[],f=0,h=a.length;f<h;){var m=f++;e.push({i:m,v:Math.abs(c(a[m])-b)})}e.sort(function(a,b){return D.compare(a.v,b.v)});return a[e[0].i]};B.compare=function(a,b){var c;if(0!=(c=a.length-b.length))return c;for(var e=0,f=a.length;e<f;)if(c=e++,0!=(c=fa.compare(a[c],b[c])))return c;return 0};B.product=function(a){if(0==a.length)return[];for(var a=a.slice(),b=[],c,e=0,f=a[0];e<f.length;){var h=f[e];++e;
b.push([h])}f=1;for(e=a.length;f<e;){var m=f++;c=[];for(var A=0;A<b.length;){var g=b[A];++A;for(var k=0,w=a[m];k<w.length;)h=w[k],++k,c.push(g.slice().concat([h]))}b=c}return b};B.rotate=function(a){if(0==a.length)return[];for(var b=[],c=0,e=a[0].length;c<e;){var f=c++;b[f]=[]}c=0;for(e=a.length;c<e;)for(var h=c++,m=0,A=a[0].length;m<A;)f=m++,b[f][h]=a[h][f];return b};B.shuffle=function(a){for(var b=O.range(a.length),c=[];0<b.length;){var e=n.random(b.length),f=b[e];b.splice(e,1);c.push(a[f])}return c};
B.scanf=function(a,b,c){null==c&&(c=!0);var e=0,f=[];if(c)for(var c=0,h=a.length;c<h;){var m=c++;f[m]=e+=b(a[m],m)}else{c=0;for(h=a.length;c<h;)m=c++,f[m]=b(a[m],m);e=f[f.length-1]}var A=function(){var b=null;return b=function(c,e,h){if(e==h)return a[e];var m=Math.floor((h-e)/2)+e;return c<f[m]?b(c,e,m):b(c,m+1,h)}}(this);return function(a){return 0>a||a>e?null:A(a,0,f.length-1)}};var ab=function(){};j.Bools=ab;ab.__name__=["Bools"];ab.format=function(a,b,c,e){return ab.formatf(b,c,e)(a)};ab.formatf=
function(a,b){var b=o.FormatParams.params(a,b,"B"),c=b.shift();switch(c){case "B":return function(a){return a?"true":"false"};case "N":return function(a){return a?"1":"0"};case "R":if(2!=b.length)throw"bool format R requires 2 parameters";return function(a){return a?b[0]:b[1]};default:throw"Unsupported bool format: "+c;}};ab.interpolate=function(a,b,c,e){return ab.interpolatef(b,c,e)(a)};ab.interpolatef=function(a,b,c){if(a==b)return function(){return a};var e=D.interpolatef(0,1,c);return function(c){return 0.5>
e(c)?a:b}};ab.canParse=function(a){a=a.toLowerCase();return"true"==a||"false"==a};ab.parse=function(a){return"true"==a.toLowerCase()};ab.compare=function(a,b){return a==b?0:a?-1:1};var pa=function(a,b){this.length=a;this.b=b};j.Bytes=pa;pa.__name__=["Bytes"];pa.alloc=function(a){for(var b=[],c=0;c<a;)c++,b.push(0);return new pa(a,b)};pa.ofString=function(a){for(var b=[],c=0,e=a.length;c<e;){var f=c++,f=u.cca(a,f);127>=f?b.push(f):(2047>=f?b.push(192|f>>6):(65535>=f?b.push(224|f>>12):(b.push(240|f>>
18),b.push(128|f>>12&63)),b.push(128|f>>6&63)),b.push(128|f&63))}return new pa(b.length,b)};pa.ofStringData=function(a){for(var b=[],c=0,e=a.length;c<e;){var f=c++;b.push(u.cca(a,f))}return new pa(b.length,b)};pa.ofData=function(a){return new pa(a.length,a)};pa.ofHex=function(a){a=F.stripWhite(a);a=F.replaceRecurse(a,":","").toLowerCase();F.startsWith(a,"0x")&&(a=u.substr(a,2,null));1==(a.length&1)&&(a="0"+a);for(var b=new Ga,c=a.length/2|0,e=0;e<c;){var f=e++,f=u.substr(a,2*f,2);b.b.push(n.parseInt("0x"+
f))}return b.getBytes()};pa.prototype={toHex:function(a,b,c){null==b&&(b=0);null==a&&(a="");null==c&&(c=this.length-b);for(var c=this.sub(b,c),b=new bb,c=c.length,e=!0,f=0;f<c;){var h=f++;e?e=!1:b.b+=n.string(a);b.b+=n.string(F.hex(this.b[h],2).toLowerCase())}b=F.rtrim(b.b);""==a&&0!=b.length%2&&(b="0"+b);return b},getData:function(){return this.b},toString:function(){return this.readString(0,this.length)},readString:function(a,b){if(0>a||0>b||a+b>this.length)throw new G.OutsideBoundsException;for(var c=
"",e=this.b,f=String.fromCharCode,h=a,m=a+b;h<m;){var A=e[h++];if(128>A){if(0==A)break;c+=f(A)}else if(224>A)c+=f((A&63)<<6|e[h++]&127);else if(240>A)var g=e[h++],c=c+f((A&31)<<12|(g&127)<<6|e[h++]&127);else var g=e[h++],k=e[h++],c=c+f((A&15)<<18|(g&127)<<12|k<<6&127|e[h++]&127)}return c},compare:function(a){for(var b=this.b,c=a.b,e=this.length<a.length?this.length:a.length,f=0;f<e;){var h=f++;if(b[h]!=c[h])return b[h]-c[h]}return this.length-a.length},sub:function(a,b){null==b&&(b=this.length-a);
a+b>this.length&&(b=this.length-a);if(0>a||0>b)throw new G.OutsideBoundsException;return new pa(b,this.b.slice(a,a+b))},blit:function(a,b,c,e){null==e&&(e=b.length-c);c+e>b.length&&(e=b.length-c);if(0>a||0>c||0>e||a+e>this.length||c+e>b.length)throw new G.OutsideBoundsException;var f=this.b,b=b.b;if(f==b&&a>c)for(var h=e;0<h;)h--,f[h+a]=b[h+c];else for(var m=0;m<e;)h=m++,f[h+a]=b[h+c]},set:function(a,b){this.b[a]=b&255},get:function(a){return this.b[a]},b:null,length:null,__class__:pa};var Ga=function(){this.b=
[]};j.BytesBuffer=Ga;Ga.__name__=["BytesBuffer"];Ga.prototype={writeBytes:function(a,b,c){this.addBytes(a,b,c)},writeByte:function(a){this.b.push(a)},getBytes:function(){var a=new pa(this.b.length,this.b);this.b=null;return a},addBytes:function(a,b,c){if(0>b||0>c||b+c>a.length)throw new G.OutsideBoundsException;for(var a=a.b,e=b,b=b+c;e<b;)c=e++,this.b.push(a[c])},add:function(a){for(var b=a.b,c=0,a=a.length;c<a;){var e=c++;this.b.push(b[e])}},addByte:function(a){this.b.push(a)},b:null,__class__:Ga};
var na=function(){};j.BytesUtil=na;na.__name__=["BytesUtil"];na.byteArrayToBytes=function(a,b){for(var c=new Ga,e=0;e<a.length;){var f=a[e];++e;if(255<f||0>f)throw"Value out of range";c.b.push(f)}return null!=b&&0<b?na.nullPad(c.getBytes(),b):c.getBytes()};na.byteToHex=function(a){return F.hex(a&255,2).toLowerCase()};na.byte32ToHex=function(a){return F.hex(a&255,2).toLowerCase()};na.bytesToInt32LE=function(a){return da.unpackLE(na.nullPad(a,4))};na.cleanHexFormat=function(a){a=F.replace(a,":","");
a=a.split("|").join("");a=(new R("([\\s]*)","g")).replace(a,"");F.startsWith(a,"0x")&&(a=u.substr(a,2,null));1==(a.length&1)&&(a="0"+a);return a.toLowerCase()};na.encodeToBase=function(a,b){return(new Ub(pa.ofString(b))).encodeBytes(a)};na.eq=function(a,b){if(a.length!=b.length)return!1;for(var c=a.length,e=0;e<c;){var f=e++;if(a.b[f]!=b.b[f])return!1}return!0};na.hexDump=function(a,b){return na.toHex(a,b)};na.int32ToBytesLE=function(a){return da.packLE(a)};na.int32ArrayToBytes=function(a,b){for(var c=
new Ga,e=0;e<a.length;){var f=a[e];++e;f&=-1;if(255<f||0>f)throw"Value out of range";c.b.push(f)}return null!=b&&0<b?na.nullPad(c.getBytes(),b):c.getBytes()};na.intArrayToBytes=function(a,b){for(var c=new Ga,e=0;e<a.length;){var f=a[e];++e;if(255<f||0>f)throw"Value out of range";c.b.push(f)}return null!=b&&0<b?na.nullPad(c.getBytes(),b):c.getBytes()};na.nullBytes=function(a){for(var b=pa.alloc(a),c=0;c<a;){var e=c++;b.b[e]=0}return b};na.nullPad=function(a,b){var c=b-a.length%b;if(c==b)return a;var e=
new Ga;e.add(a);for(var f=0;f<c;)f++,e.b.push(0);return e.getBytes()};na.ofIntArray=function(a){for(var b=new Ga,c=0,e=a.length;c<e;){var f=c++;b.b.push(na.cleanValue(a[f]))}return b.getBytes()};na.ofHex=function(a){for(var a=na.cleanHexFormat(a),b=new Ga,c=a.length/2|0,e=0;e<c;){var f=e++,f=u.substr(a,2*f,2),f=n.parseInt("0x"+f);if(255<f)throw"error";b.b.push(f)}return b.getBytes()};na.toHex=function(a,b){null==b&&(b=" ");for(var c=new bb,e=a.length,f=!0,h=0;h<e;){var m=h++;f?f=!1:c.b+=n.string(b);
c.b+=n.string(F.hex(a.b[m],2).toLowerCase())}return F.rtrim(c.b)};na.unNullPad=function(a){for(var b=a.length-1;0<b--&&!(0!=a.b[b]););if(0==b&&0==a.b[0])return(new Ga).getBytes();b++;var c=pa.alloc(b);c.blit(0,a,0,b);return c};na.cleanValue=function(a){if(0>a){if(-128>a)throw"not a byte";a=a&255|128}if(255<a)throw"not a byte";return a};var Yb=function(){};j.Constants=Yb;Yb.__name__=["Constants"];var za=function(){};j.DateTools=za;za.__name__=["DateTools"];za.__format_get=function(a,b){return function(c){switch(b){case "%":c=
"%";break;case "a":c=za.WEEKDAYS_ABBREV[a.getDay()];break;case "b":c=za.MONTHS_ABBREV[a.getMonth()];break;case "C":c=F.lpad(n.string(a.getFullYear()/100|0),"0",2);break;case "d":c=F.lpad(n.string(a.getDate()),"0",2);break;case "D":c=za.__format(a,"%m/%d/%y");break;case "e":c=n.string(a.getDate());break;case "H":c=F.lpad(n.string(a.getHours()),"H"==b?"0":" ",2);break;case "k":c=F.lpad(n.string(a.getHours()),"H"==b?"0":" ",2);break;case "I":c=function(){var c=a.getHours()%12;return F.lpad(n.string(0==
c?12:c),"I"==b?"0":" ",2)}(c);break;case "l":c=function(){var c=a.getHours()%12;return F.lpad(n.string(0==c?12:c),"I"==b?"0":" ",2)}(c);break;case "m":c=F.lpad(n.string(a.getMonth()+1),"0",2);break;case "M":c=F.lpad(n.string(a.getMinutes()),"0",2);break;case "n":c="\n";break;case "p":c=11<a.getHours()?"PM":"AM";break;case "r":c=za.__format(a,"%I:%M:%S %p");break;case "R":c=za.__format(a,"%H:%M");break;case "s":c=n.string(a.getTime()/1E3|0);break;case "S":c=F.lpad(n.string(a.getSeconds()),"0",2);break;
case "t":c="\t";break;case "T":c=za.__format(a,"%H:%M:%S");break;case "u":c=function(){var b=a.getDay();return 0==b?"7":n.string(b)}(c);break;case "w":c=n.string(a.getDay());break;case "y":c=F.lpad(n.string(a.getFullYear()%100),"0",2);break;case "Y":c=n.string(a.getFullYear());break;case "z":c=function(){var b=a.getTimezoneOffset(),c=n.string(Math.abs(Math.floor(100*(b/60)))|0),b=0>b?!0:!1,c=F.lpad(c,"0",4);return b?"-"+c:"+"+c}(c);break;default:throw"Date.format %"+b+"- not implemented yet.";}return c}(this)};
za.__format=function(a,b){for(var c=new bb,e=0;;){var f=b.indexOf("%",e);if(0>f)break;c.b+=u.substr(b,e,f-e);c.b+=n.string(za.__format_get(a,u.substr(b,f+1,1)));e=f+2}c.b+=u.substr(b,e,b.length-e);return c.b};za.format=function(a,b){return za.__format(a,b)};za.delta=function(a,b){var c=new Date;c.setTime(a.getTime()+b);return c};za.getMonthDays=function(a){var b=a.getMonth(),a=a.getFullYear();return 1!=b?za.DAYS_OF_MONTH[b]:0==a%4&&0!=a%100||0==a%400?29:28};za.seconds=function(a){return 1E3*a};za.minutes=
function(a){return 6E4*a};za.hours=function(a){return 36E5*a};za.days=function(a){return 864E5*a};za.parse=function(a){var b=a/1E3,c=b/60,e=c/60;return{ms:a%1E3,seconds:b%60|0,minutes:c%60|0,hours:e%24|0,days:e/24|0}};za.make=function(a){return a.ms+1E3*(a.seconds+60*(a.minutes+60*(a.hours+24*a.days)))};var R=function(a,b){b=b.split("u").join("");this.r=RegExp(a,b)};j.EReg=R;R.__name__=["EReg"];R.prototype={customReplace:function(a,b){for(var c=new bb;this.match(a);){c.b+=n.string(this.matchedLeft());
c.b+=n.string(b(this));a=this.matchedRight()}c.b+=n.string(a);return c.b},replace:function(a,b){return a.replace(this.r,b)},split:function(a){return a.replace(this.r,"#__delim__#").split("#__delim__#")},matchedPos:function(){if(null==this.r.m)throw"No string matched";return{pos:this.r.m.index,len:this.r.m[0].length}},matchedRight:function(){if(null==this.r.m)throw"No string matched";if(null==this.r.r){var a=this.r.m.index+this.r.m[0].length;return this.r.s.substr(a,this.r.s.length-a)}return this.r.r},
matchedLeft:function(){if(null==this.r.m)throw"No string matched";return null==this.r.l?this.r.s.substr(0,this.r.m.index):this.r.l},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)a=this.r.m[a];else throw"EReg::matched";return a},match:function(a){this.r.m=this.r.exec(a);this.r.s=a;this.r.l=RegExp.leftContext;this.r.r=RegExp.rightContext;return null!=this.r.m},r:null,__class__:R};var va=function(){};j.Dates=va;va.__name__=["Dates"];va.format=function(a,b,c,e){return va.formatf(b,c,
e)(a)};va.formatf=function(a,b,c){b=o.FormatParams.params(a,b,"D");a=b.shift();switch(a){case "D":return function(a){return o.FormatDate.date(a,c)};case "DS":return function(a){return o.FormatDate.dateShort(a,c)};case "DST":return function(a){return o.FormatDate.dateShort(a,c)+" "+o.FormatDate.time(a,c)};case "DSTS":return function(a){return o.FormatDate.dateShort(a,c)+" "+o.FormatDate.timeShort(a,c)};case "DTS":return function(a){return o.FormatDate.date(a,c)+" "+o.FormatDate.timeShort(a,c)};case "Y":return function(a){return o.FormatDate.year(a,
c)};case "YM":return function(a){return o.FormatDate.yearMonth(a,c)};case "M":return function(a){return o.FormatDate.month(a,c)};case "MN":return function(a){return o.FormatDate.monthName(a,c)};case "MS":return function(a){return o.FormatDate.monthNameShort(a,c)};case "MD":return function(a){return o.FormatDate.monthDay(a,c)};case "WD":return function(a){return o.FormatDate.weekDay(a,c)};case "WDN":return function(a){return o.FormatDate.weekDayName(a,c)};case "WDS":return function(a){return o.FormatDate.weekDayNameShort(a,
c)};case "R":return function(a){return o.FormatDate.dateRfc(a,c)};case "DT":return function(a){return o.FormatDate.dateTime(a,c)};case "U":return function(a){return o.FormatDate.universal(a,c)};case "S":return function(a){return o.FormatDate.sortable(a,c)};case "T":return function(a){return o.FormatDate.time(a,c)};case "TS":return function(a){return o.FormatDate.timeShort(a,c)};case "C":var e=b[0];return null==e?function(a){return o.FormatDate.date(a,c)}:function(a){return o.FormatDate.format(e,a,
c,null!=b[1]?"true"==b[1]:!0)};default:throw new J.Error("Unsupported date format: {0}",null,a,{fileName:"Dates.hx",lineNumber:71,className:"Dates",methodName:"formatf"});}};va.interpolate=function(a,b,c,e){return va.interpolatef(b,c,e)(a)};va.interpolatef=function(a,b,c){var e=D.interpolatef(a.getTime(),b.getTime(),c);return function(a){var b=new Date;b.setTime(e(a));return b}};va.snap=function(a,b,c){null==c&&(c=0);if(0>c)switch(b){case "second":return 1E3*Math.floor(a/1E3);case "minute":return 6E4*
Math.floor(a/6E4);case "hour":return 36E5*Math.floor(a/36E5);case "day":return b=function(){var b=new Date;b.setTime(a);return b}(this),(new Date(b.getFullYear(),b.getMonth(),b.getDate(),0,0,0)).getTime();case "week":return 6048E5*Math.floor(a/6048E5);case "month":return b=function(){var b=new Date;b.setTime(a);return b}(this),(new Date(b.getFullYear(),b.getMonth(),1,0,0,0)).getTime();case "year":return b=function(){var b=new Date;b.setTime(a);return b}(this),(new Date(b.getFullYear(),0,1,0,0,0)).getTime();
default:return 0}else if(0<c)switch(b){case "second":return 1E3*Math.ceil(a/1E3);case "minute":return 6E4*Math.ceil(a/6E4);case "hour":return 36E5*Math.ceil(a/36E5);case "day":return b=function(){var b=new Date;b.setTime(a);return b}(this),(new Date(b.getFullYear(),b.getMonth(),b.getDate()+1,0,0,0)).getTime();case "week":return 6048E5*Math.ceil(a/6048E5);case "month":return b=function(){var b=new Date;b.setTime(a);return b}(this),(new Date(b.getFullYear(),b.getMonth()+1,1,0,0,0)).getTime();case "year":return b=
function(){var b=new Date;b.setTime(a);return b}(this),(new Date(b.getFullYear()+1,0,1,0,0,0)).getTime();default:return 0}else switch(b){case "second":return 1E3*Math.round(a/1E3);case "minute":return 6E4*Math.round(a/6E4);case "hour":return 36E5*Math.round(a/36E5);case "day":return b=function(){var b=new Date;b.setTime(a);return b}(this),c=12<=b.getHours()?1:0,(new Date(b.getFullYear(),b.getMonth(),b.getDate()+c,0,0,0)).getTime();case "week":return 6048E5*Math.round(a/6048E5);case "month":return b=
function(){var b=new Date;b.setTime(a);return b}(this),c=b.getDate()>Math.round(za.getMonthDays(b)/2)?1:0,(new Date(b.getFullYear(),b.getMonth()+c,1,0,0,0)).getTime();case "year":return b=function(){var b=new Date;b.setTime(a);return b}(this),c=a>(new Date(b.getFullYear(),6,2,0,0,0)).getTime()?1:0,(new Date(b.getFullYear()+c,0,1,0,0,0)).getTime();default:return 0}};va.snapToWeekDay=function(a,b){var c=new Date;c.setTime(a);var c=c.getDay(),e=0;switch(b.toLowerCase()){case "sunday":e=0;break;case "monday":e=
1;break;case "tuesday":e=2;break;case "wednesday":e=3;break;case "thursday":e=4;break;case "friday":e=5;break;case "saturday":e=6;break;default:throw new J.Error("unknown week day '{0}'",null,b,{fileName:"Dates.hx",lineNumber:186,className:"Dates",methodName:"snapToWeekDay"});}return a-864E5*((c-e)%7)};va.canParse=function(a){return va._reparse.match(a)};va.parse=function(a){var a=a.split("."),b=u.strDate(F.replace(a[0],"T"," "));if(1<a.length){var c=new Date;c.setTime(b.getTime()+n.parseInt(a[1]));
b=c}return b};va.compare=function(a,b){return D.compare(a.getTime(),b.getTime())};var fa=function(){};j.Dynamics=fa;fa.__name__=["Dynamics"];fa.format=function(a,b,c,e,f){return fa.formatf(b,c,e,f)(a)};fa.formatf=function(a,b,c,e){null==c&&(c="null");return function(f){var h=K["typeof"](f);switch(h[1]){case 0:return c;case 1:return O.format(f,a,b,e);case 2:return D.format(f,a,b,e);case 3:return ab.format(f,a,b,e);case 6:return h=h[2],h==String?E.formatOne(f,a,b,e):h==Array?B.format(f,a,b,e):h==Date?
va.format(f,a,b,e):ga.format(f,a,b,e);case 4:return ga.format(f,a,b,e);case 5:return"function()";default:throw new J.Error("Unsupported type format: {0}",null,K["typeof"](f),{fileName:"Dynamics.hx",lineNumber:44,className:"Dynamics",methodName:"formatf"});}}};fa.interpolate=function(a,b,c,e){return fa.interpolatef(b,c,e)(a)};fa.interpolatef=function(a,b,c){var e=K["typeof"](a),f=K["typeof"](b);if((!I.__instanceof(a,Fc)&&!I.__instanceof(a,Hd)||!I.__instanceof(b,Fc)&&!I.__instanceof(b,Hd))&&!K.enumEq(e,
f))throw new J.Error("arguments a ({0}) and b ({0}) have different types",[a,b],null,{fileName:"Dynamics.hx",lineNumber:59,className:"Dynamics",methodName:"interpolatef"});switch(e[1]){case 0:return function(){return null};case 1:return I.__instanceof(b,Hd)?O.interpolatef(a,b,c):D.interpolatef(a,b,c);case 2:return D.interpolatef(a,b,c);case 3:return ab.interpolatef(a,b,c);case 4:return ga.interpolatef(a,b,c);case 6:switch(e=K.getClassName(e[2]),e){case "String":return E.interpolatef(a,b,c);case "Date":return va.interpolatef(a,
b,c);default:throw new J.Error("cannot interpolate on instances of {0}",null,e,{fileName:"Dynamics.hx",lineNumber:77,className:"Dynamics",methodName:"interpolatef"});}default:throw new J.Error("cannot interpolate on functions/enums/unknown",null,null,{fileName:"Dynamics.hx",lineNumber:79,className:"Dynamics",methodName:"interpolatef"});}};fa.string=function(a){var b=K["typeof"](a);switch(b[1]){case 0:return"null";case 1:return O.format(a);case 2:return D.format(a);case 3:return ab.format(a);case 4:for(var b=
ga.keys(a),c=[],e=0;e<b.length;){var f=b[e];++e;c.push(f+" : "+fa.string(l.field(a,f)))}return"{"+c.join(", ")+"}";case 6:switch(K.getClassName(b[2])){case "Array":return B.string(a);case "String":return 0>a.indexOf('"')?'"'+a+'"':0>a.indexOf("'")?"'"+a+"'":'"'+F.replace(a,'"','\\"')+'"';case "Date":return va.format(a);default:return n.string(a)}case 7:return ce.string(a);case 8:return"<unknown>";case 5:return"<function>"}};fa.compare=function(a,b){if(null==a&&null==b)return 0;if(null==a)return-1;
if(null==b)return 1;var c=K["typeof"](a);switch(c[1]){case 1:return D.compare(a,b);case 2:return D.compare(a,b);case 3:return ab.compare(a,b);case 4:return ga.compare(a,b);case 6:switch(K.getClassName(c[2])){case "Array":return B.compare(a,b);case "String":return E.compare(a,b);case "Date":return va.compare(a,b);default:return E.compare(n.string(a),n.string(b))}case 7:return ce.compare(a,b);default:return 0}};fa.comparef=function(a){a=K["typeof"](a);switch(a[1]){case 1:return D.compare;case 2:return D.compare;
case 3:return ab.compare;case 4:return ga.compare;case 6:switch(K.getClassName(a[2])){case "Array":return B.compare;case "String":return E.compare;case "Date":return va.compare;default:return function(a,c){return E.compare(n.string(a),n.string(c))}}case 7:return ce.compare;default:return fa.compare}};fa.clone=function(a,b){null==b&&(b=!1);var c=K["typeof"](a);switch(c[1]){case 0:return null;case 1:return a;case 2:return a;case 3:return a;case 7:return a;case 8:return a;case 5:return a;case 4:var e=
{};ga.copyTo(a,e);return e;case 6:switch(c=c[2],K.getClassName(c)){case "Array":e=[];for(c=0;c<a.length;){var f=a[c];++c;e.push(fa.clone(f))}return e;case "String":return a;case "Date":return a;default:if(b){e=K.createEmptyInstance(c);c=0;for(f=l.fields(a);c<f.length;){var h=f[c];++c;e[h]=fa.clone(l.field(a,h))}return e}return a}}};fa.same=function(a,b){var c=cb.typeName(a),e=cb.typeName(b);if(c!=e)return!1;c=K["typeof"](a);switch(c[1]){case 2:return D.equals(a,b);case 0:return a==b;case 1:return a==
b;case 3:return a==b;case 5:return l.compareMethods(a,b);case 6:c=K.getClassName(c[2]);e=K.getClassName(K.getClass(b));if(c!=e||I.__instanceof(a,String)&&a!=b)return!1;if(I.__instanceof(a,Array)){var e=a,f=b;if(e.length!=f.length)return!1;for(var h=0,c=e.length;h<c;){var m=h++;if(!fa.same(e[m],f[m]))return!1}return!0}if(I.__instanceof(a,Date))return a.getTime()==b.getTime();if(I.__instanceof(a,ea)||I.__instanceof(a,Gc)){e=N.array(a.keys());c=N.array(b.keys());if(e.length!=c.length)return!1;for(c=
0;c<e.length;)if(h=e[c],++c,!b.exists(h)||!fa.same(a.get(h),b.get(h)))return!1;return!0}c=!1;if((c=N.isIterator(a))||Wa.isIterable(a)){e=c?N.array(a):N.array(ra(a)());f=c?N.array(b):N.array(ra(b)());if(e.length!=f.length)return!1;h=0;for(c=e.length;h<c;)if(m=h++,!fa.same(e[m],f[m]))return!1;return!0}m=K.getInstanceFields(K.getClass(a));for(c=0;c<m.length;)if(h=m[c],++c,e=l.field(a,h),!l.isFunction(e)&&(f=l.field(b,h),!fa.same(e,f)))return!1;return!0;case 7:c=K.getEnumName(c[2]);e=K.getEnum(b);e=K.getEnumName(e);
if(c!=e||a[1]!=b[1])return!1;e=a.slice(2);f=b.slice(2);h=0;for(c=e.length;h<c;)if(m=h++,!fa.same(e[m],f[m]))return!1;return!0;case 4:for(var m=l.fields(a),A=l.fields(b),c=0;c<m.length;){h=m[c];++c;u.remove(A,h);if(!l.hasField(b,h))return!1;e=l.field(a,h);if(!l.isFunction(e)&&(f=l.field(b,h),!fa.same(e,f)))return!1}if(0<A.length)return!1;if((c=N.isIterator(a))||Wa.isIterable(a)){if(c&&!N.isIterator(b)||!c&&!Wa.isIterable(b))return!1;e=c?N.array(a):N.array(ra(a)());f=c?N.array(b):N.array(ra(b)());if(e.length!=
f.length)return!1;h=0;for(c=e.length;h<c;)if(m=h++,!fa.same(e[m],f[m]))return!1}return!0;case 8:throw"Unable to compare two unknown types";}throw new J.Error("Unable to compare values: {0} and {1}",[a,b],null,{fileName:"Dynamics.hx",lineNumber:368,className:"Dynamics",methodName:"same"});};fa.number=function(a){return Number(a)};var se=function(){};j.DynamicsT=se;se.__name__=["DynamicsT"];se.toHash=function(a){var b=new ea;return se.copyToHash(a,b)};se.copyToHash=function(a,b){for(var c=0,e=l.fields(a);c<
e.length;){var f=e[c];++c;b.set(f,l.field(a,f))}return b};var ce=function(){};j.Enums=ce;ce.__name__=["Enums"];ce.string=function(a){for(var b=K.enumConstructor(a),c=[],e=0,a=K.enumParameters(a);e<a.length;){var f=a[e];++e;c.push(fa.string(f))}return b+(0==c.length?"":"("+c.join(", ")+")")};ce.compare=function(a,b){var c;return 0!=(c=K.enumIndex(a)-K.enumIndex(b))?c:B.compare(K.enumParameters(a),K.enumParameters(b))};var D=function(){};j.Floats=D;D.__name__=["Floats"];D.normalize=function(a){return 0>
a?0:1<a?1:a};D.clamp=function(a,b,c){return a<b?b:a>c?c:a};D.clampSym=function(a,b){return a<-b?-b:a>b?b:a};D.range=function(a,b,c,e){null==e&&(e=!1);null==c&&(c=1);null==b&&(b=a,a=0);if((b-a)/c==Math.POSITIVE_INFINITY)throw new J.Error("infinite range",null,null,{fileName:"Floats.hx",lineNumber:50,className:"Floats",methodName:"range"});var f=[],h=-1;if(e)if(0>c)for(;(e=a+c*++h)>=b;)f.push(e);else for(;(e=a+c*++h)<=b;)f.push(e);else if(0>c)for(;(e=a+c*++h)>b;)f.push(e);else for(;(e=a+c*++h)<b;)f.push(e);
return f};D.sign=function(a){return 0>a?-1:1};D.abs=function(a){return 0>a?-a:a};D.min=function(a,b){return a<b?a:b};D.max=function(a,b){return a>b?a:b};D.wrap=function(a,b,c){c=c-b+1;a<b&&(a+=c*((b-a)/c+1));return b+(a-b)%c};D.circularWrap=function(a,b){a%=b;0>a&&(a+=b);return a};D.interpolate=function(a,b,c,e){null==c&&(c=1);null==b&&(b=0);if(null==e)e=C.Equations.linear;return b+e(a)*(c-b)};D.interpolatef=function(a,b,c){null==b&&(b=1);null==a&&(a=0);if(null==c)c=C.Equations.linear;var e=b-a;return function(b){return a+
c(b)*e}};D.interpolateClampf=function(a,b,c){if(null==c)c=C.Equations.linear;return function(e,f){var h=f-e;return function(f){return e+c(D.clamp(f,a,b))*h}}};D.format=function(a,b,c,e){return D.formatf(b,c,e)(a)};D.formatf=function(a,b,c){var b=o.FormatParams.params(a,b,"D"),a=b.shift(),e=0<b.length?n.parseInt(b[0]):null;switch(a){case "D":return function(a){return o.FormatNumber.decimal(a,e,c)};case "I":return function(a){return o.FormatNumber["int"](a,c)};case "C":var f=1<b.length?b[1]:null;return function(a){return o.FormatNumber.currency(a,
f,e,c)};case "P":return function(a){return o.FormatNumber.percent(a,e,c)};case "M":return function(a){return o.FormatNumber.permille(a,e,c)};default:throw new J.Error("Unsupported number format: {0}",null,a,{fileName:"Floats.hx",lineNumber:152,className:"Floats",methodName:"formatf"});}};D.canParse=function(a,b){null==b&&(b=!1);return b?D._reparseStrict.match(a):D._reparse.match(a)};D.parse=function(a){"+"==u.substr(a,0,1)&&(a=u.substr(a,1,null));return n.parseFloat(a)};D.compare=function(a,b){return a<
b?-1:a>b?1:0};D.isNumeric=function(a){return I.__instanceof(a,Fc)||I.__instanceof(a,Hd)};D.equals=function(a,b,c){null==c&&(c=1.0E-5);return Math.isNaN(a)?Math.isNaN(b):Math.isNaN(b)?!1:!Math.isFinite(a)&&!Math.isFinite(b)?0<a==0<b:Math.abs(b-a)<c};D.uninterpolatef=function(a,b){b=1/(b-a);return function(c){return(c-a)*b}};D.uninterpolateClampf=function(a,b){b=1/(b-a);return function(c){return D.clamp((c-a)*b,0,1)}};D.round=function(a,b){null==b&&(b=2);a*=Math.pow(10,b);return Math.round(a)/Math.pow(10,
b)};var ea=function(){this.h={}};j.Hash=ea;ea.__name__=["Hash"];ea.prototype={iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){return this.ref["$"+this.it.next()]}}},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b.substr(1));return u.iter(a)},remove:function(a){a="$"+a;if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},exists:function(a){return this.h.hasOwnProperty("$"+a)},get:function(a){return this.h["$"+
a]},set:function(a,b){this.h["$"+a]=b},h:null,__class__:ea};var kb=function(){};j.Hashes=kb;kb.__name__=["Hashes"];kb.entries=function(a){for(var b=[],c=a.keys();c.hasNext();){var e=c.next();b.push({key:e,value:a.get(e)})}return b};kb.toDynamic=function(a){for(var b={},c=a.keys();c.hasNext();){var e=c.next();b[e]=a.get(e)}return b};kb.importObject=function(a,b){return se.copyToHash(b,a)};kb.copyTo=function(a,b){for(var c=a.keys();c.hasNext();){var e=c.next();b.set(e,a.get(e))}return b};kb.clone=function(a){var b=
new ea;kb.copyTo(a,b);return b};kb.arrayOfKeys=function(a){return N.array(a.keys())};kb.setOfKeys=function(a){for(var b=new hb.Set,a=a.keys();a.hasNext();){var c=a.next();b.add(c)}return b};kb.empty=function(a){return 0==kb.count(a)};kb.count=function(a){for(var b=0,a=a.iterator();a.hasNext();)a.next(),b++;return b};kb.mergef=function(a,b,c){for(var e=b.keys();e.hasNext();){var f=e.next(),h=b.get(f);if(a.exists(f)){var m=a.get(f);a.set(f,c(f,m,h))}else a.set(f,h)}};kb.merge=function(a,b){kb.mergef(a,
b,function(a,b,f){return f})};kb.clear=function(a){a.h={};if(null!=a.h.__proto__)a.h.__proto__=null,delete a.h.__proto__};var u=function(){};j.HxOverrides=u;u.__name__=["HxOverrides"];u.dateStr=function(a){var b=a.getMonth()+1,c=a.getDate(),e=a.getHours(),f=a.getMinutes(),h=a.getSeconds();return a.getFullYear()+"-"+(10>b?"0"+b:""+b)+"-"+(10>c?"0"+c:""+c)+" "+(10>e?"0"+e:""+e)+":"+(10>f?"0"+f:""+f)+":"+(10>h?"0"+h:""+h)};u.strDate=function(a){switch(a.length){case 8:var a=a.split(":"),b=new Date;b.setTime(0);
b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return a=a.split(" "),b=a[0].split("-"),a=a[1].split(":"),new Date(b[0],b[1]-1,b[2],a[0],a[1],a[2]);default:throw"Invalid date format : "+a;}};u.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};u.substr=function(a,b,c){if(null!=b&&0!=b&&null!=c&&0>c)return"";if(null==c)c=a.length;0>b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+c-b);return a.substr(b,
c)};u.remove=function(a,b){for(var c=0,e=a.length;c<e;){if(a[c]==b)return a.splice(c,1),!0;c++}return!1};u.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var da=function(){};j.I32=da;da.__name__=["I32"];da.B4=function(a){return a>>>24&-1};da.B3=function(a){return a>>>16&255};da.B2=function(a){return a>>>8&255};da.B1=function(a){return a&255};da.abs=function(a){return Math.abs(a)|0};da.add=function(a,b){return a+
b};da.alphaFromArgb=function(a){return a>>>24&-1};da.and=function(a,b){return a&b};da.baseEncode=function(a,b){if(2>b||36<b)throw"radix out of range";for(var c="",e=Math.abs(a)|0;;){var f=e%b,c="0123456789abcdefghijklmnopqrstuvwxyz".charAt(f&-1)+c,e=(e-f)/b|0;if(0==e)break}return 0>a?"-"+c:c};da.complement=function(a){return~a};da.compare=function(a,b){return a-b};da.div=function(a,b){return a/b|0};da.encodeBE=function(a){var b=new Ga;b.b.push(a>>>24&-1);b.b.push(a>>>16&255);b.b.push(a>>>8&255);b.b.push(a&
255);return b.getBytes()};da.encodeLE=function(a){var b=new Ga;b.b.push(a&255);b.b.push(a>>>8&255);b.b.push(a>>>16&255);b.b.push(a>>>24&-1);return b.getBytes()};da.decodeBE=function(a,b){null==b&&(b=0);var c=a.b[b+3],e=a.b[b+2],f=a.b[b+1],h=a.b[b];return c+(e<<8)+(f<<16)+(h<<24)};da.decodeLE=function(a,b){null==b&&(b=0);var c=a.b[b],e=a.b[b+1],f=a.b[b+2],h=a.b[b+3];return c+(e<<8)+(f<<16)+(h<<24)};da.eq=function(a,b){return a==b};da.gt=function(a,b){return a>b};da.gteq=function(a,b){return a>=b};
da.lt=function(a,b){return a<b};da.lteq=function(a,b){return a<=b};da.make=function(a,b){return(a<<16)+b};da.makeColor=function(a,b){return a<<24|b&16777215};da.mod=function(a,b){return a%b};da.mul=function(a,b){return a*b};da.neg=function(a){return-a};da.ofInt=function(a){return a};da.or=function(a,b){return a|b};da.packBE=function(a){for(var b=new Ga,c=0,e=a.length;c<e;){var f=c++;b.b.push(a[f]>>>24&-1);b.b.push(a[f]>>>16&255);b.b.push(a[f]>>>8&255);b.b.push(a[f]&255)}return b.getBytes()};da.packLE=
function(a){for(var b=new Ga,c=0,e=a.length;c<e;){var f=c++;b.b.push(a[f]&255);b.b.push(a[f]>>>8&255);b.b.push(a[f]>>>16&255);b.b.push(a[f]>>>24&-1)}return b.getBytes()};da.rgbFromArgb=function(a){return a&16777215};da.sub=function(a,b){return a-b};da.shl=function(a,b){return a<<b};da.shr=function(a,b){return a>>b};da.toColor=function(a){return{alpha:a>>>24&-1,color:a&16777215}};da.toFloat=function(a){return 1*a};da.toInt=function(a){return a&-1};da.toNativeArray=function(a){return a};da.unpackLE=
function(a){if(null==a||0==a.length)return[];if(0!=a.length%4)throw"Buffer not multiple of 4 bytes";for(var b=[],c=0,e=0,f=a.length;c<f;)b[e]=da.decodeLE(a,c),c+=4,e++;return b};da.unpackBE=function(a){if(null==a||0==a.length)return[];if(0!=a.length%4)throw"Buffer not multiple of 4 bytes";for(var b=[],c=0,e=0;c<a.length;)b[e]=da.decodeBE(a,c),c+=4,e++;return b};da.ushr=function(a,b){return a>>>b};da.xor=function(a,b){return a^b};var Gc=function(){this.h={}};j.IntHash=Gc;Gc.__name__=["IntHash"];Gc.prototype=
{iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){return this.ref[this.it.next()]}}},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b|0);return u.iter(a)},remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},exists:function(a){return this.h.hasOwnProperty(a)},get:function(a){return this.h[a]},set:function(a,b){this.h[a]=b},h:null,__class__:Gc};var pc=function(){};j.IntHashes=
pc;pc.__name__=["IntHashes"];pc.empty=function(a){return 0==pc.count(a)};pc.count=function(a){for(var b=0,a=a.iterator();a.hasNext();)a.next(),b++;return b};pc.clear=function(a){a.h={};if(null!=a.h.__proto__)a.h.__proto__=null,delete a.h.__proto__};var ze=function(a,b){this.min=a;this.max=b};j.IntIterator=ze;ze.__name__=["IntIterator"];ze.prototype={max:null,min:null,__class__:ze};var O=function(){};j.Ints=O;O.__name__=["Ints"];O.range=function(a,b,c){null==c&&(c=1);null==b&&(b=a,a=0);if((b-a)/c==
Math.POSITIVE_INFINITY)throw new J.Error("infinite range",null,null,{fileName:"Ints.hx",lineNumber:19,className:"Ints",methodName:"range"});var e=[],f=-1,h;if(0>c)for(;(h=a+c*++f)>b;)e.push(h);else for(;(h=a+c*++f)<b;)e.push(h);return e};O.sign=function(a){return 0>a?-1:1};O.abs=function(a){return 0>a?-a:a};O.min=function(a,b){return a<b?a:b};O.max=function(a,b){return a>b?a:b};O.wrap=function(a,b,c){return Math.round(D.wrap(a,b,c))};O.clamp=function(a,b,c){return a<b?b:a>c?c:a};O.clampSym=function(a,
b){return a<-b?-b:a>b?b:a};O.interpolate=function(a,b,c,e){null==c&&(c=100);null==b&&(b=0);if(null==e)e=C.Equations.linear;return Math.round(b+e(a)*(c-b))};O.interpolatef=function(a,b,c){null==b&&(b=1);null==a&&(a=0);if(null==c)c=C.Equations.linear;var e=b-a;return function(b){return Math.round(a+c(b)*e)}};O.format=function(a,b,c,e){return O.formatf(b,c,e)(a)};O.formatf=function(a,b,c){return D.formatf(null,o.FormatParams.params(a,b,"I"),c)};O.canParse=function(a){return O._reparse.match(a)};O.parse=
function(a){"+"==u.substr(a,0,1)&&(a=u.substr(a,1,null));return n.parseInt(a)};O.compare=function(a,b){return a-b};var Wa=function(){};j.Iterables=Wa;Wa.__name__=["Iterables"];Wa.count=function(a){return N.count(ra(a)())};Wa.indexOf=function(a,b,c){return N.indexOf(ra(a)(),b,c)};Wa.contains=function(a,b,c){return N.contains(ra(a)(),b,c)};Wa.array=function(a){return N.array(ra(a)())};Wa.join=function(a,b){null==b&&(b=", ");return N.array(ra(a)()).join(b)};Wa.map=function(a,b){return N.map(ra(a)(),
b)};Wa.each=function(a,b){return N.each(ra(a)(),b)};Wa.filter=function(a,b){return N.filter(ra(a)(),b)};Wa.reduce=function(a,b,c){return N.reduce(ra(a)(),b,c)};Wa.random=function(a){return B.random(N.array(ra(a)()))};Wa.any=function(a,b){return N.any(ra(a)(),b)};Wa.all=function(a,b){return N.all(ra(a)(),b)};Wa.last=function(a){return N.last(ra(a)())};Wa.lastf=function(a,b){return N.lastf(ra(a)(),b)};Wa.first=function(a){return ra(a)().next()};Wa.firstf=function(a,b){return N.firstf(ra(a)(),b)};Wa.order=
function(a,b){return B.order(N.array(ra(a)()),b)};Wa.isIterable=function(a){var b=l.isObject(a)&&null==K.getClass(a)?l.fields(a):K.getInstanceFields(K.getClass(a));return!te.has(b,"iterator")?!1:l.isFunction(l.field(a,"iterator"))};var N=function(){};j.Iterators=N;N.__name__=["Iterators"];N.count=function(a){for(var b=0;a.hasNext();)a.next(),b++;return b};N.indexOf=function(a,b,c){null==c&&(c=function(a){return b==a});for(var e=0;a.hasNext();){var f=a.next();if(c(f))return e;e++}return-1};N.contains=
function(a,b,c){for(null==c&&(c=function(a){return b==a});a.hasNext();){var e=a.next();if(c(e))return!0}return!1};N.array=function(a){for(var b=[];a.hasNext();){var c=a.next();b.push(c)}return b};N.join=function(a,b){null==b&&(b=", ");return N.array(a).join(b)};N.map=function(a,b){for(var c=[],e=0;a.hasNext();){var f=a.next();c.push(b(f,e++))}return c};N.each=function(a,b){for(var c=0;a.hasNext();){var e=a.next();b(e,c++)}};N.filter=function(a,b){for(var c=[];a.hasNext();){var e=a.next();b(e)&&c.push(e)}return c};
N.reduce=function(a,b,c){for(var e=0;a.hasNext();)var f=a.next(),c=b(c,f,e++);return c};N.random=function(a){return B.random(N.array(a))};N.any=function(a,b){for(;a.hasNext();){var c=a.next();if(b(c))return!0}return!1};N.all=function(a,b){for(;a.hasNext();){var c=a.next();if(!b(c))return!1}return!0};N.last=function(a){for(var b=null;a.hasNext();)b=a.next();return b};N.lastf=function(a,b){var c=N.array(a);c.reverse();return B.lastf(c,b)};N.first=function(a){return a.next()};N.firstf=function(a,b){for(;a.hasNext();){var c=
a.next();if(b(c))return c}return null};N.order=function(a,b){return B.order(N.array(a),b)};N.isIterator=function(a){var b=l.isObject(a)&&null==K.getClass(a)?l.fields(a):K.getInstanceFields(K.getClass(a));return!te.has(b,"next")||!te.has(b,"hasNext")?!1:l.isFunction(l.field(a,"next"))&&l.isFunction(l.field(a,"hasNext"))};var te=function(){};j.Lambda=te;te.__name__=["Lambda"];te.has=function(a,b,c){if(null==c)for(c=ra(a)();c.hasNext();){if(a=c.next(),a==b)return!0}else for(var e=ra(a)();e.hasNext();)if(a=
e.next(),c(a,b))return!0;return!1};var Ae=function(){};j.List=Ae;Ae.__name__=["List"];Ae.prototype={iterator:function(){return{h:this.h,hasNext:function(){return null!=this.h},next:function(){if(null==this.h)return null;var a=this.h[0];this.h=this.h[1];return a}}},h:null,__class__:Ae};var ga=function(){};j.Objects=ga;ga.__name__=["Objects"];ga.field=function(a,b,c){return l.hasField(a,b)?l.field(a,b):c};ga.keys=function(a){return l.fields(a)};ga.values=function(a){for(var b=[],c=0,e=l.fields(a);c<
e.length;){var f=e[c];++c;b.push(l.field(a,f))}return b};ga.entries=function(a){for(var b=[],c=0,e=l.fields(a);c<e.length;){var f=e[c];++c;b.push({key:f,value:l.field(a,f)})}return b};ga.each=function(a,b){for(var c=0,e=l.fields(a);c<e.length;){var f=e[c];++c;b(f,l.field(a,f))}};ga.map=function(a,b){for(var c=[],e=0,f=l.fields(a);e<f.length;){var h=f[e];++e;c.push(b(h,l.field(a,h)))}return c};ga["with"]=function(a,b){b(a);return a};ga.toHash=function(a){var b=new ea;return ga.copyToHash(a,b)};ga.copyToHash=
function(a,b){for(var c=0,e=l.fields(a);c<e.length;){var f=e[c];++c;b.set(f,l.field(a,f))}return b};ga.interpolate=function(a,b,c,e){return ga.interpolatef(b,c,e)(a)};ga.interpolatef=function(a,b){for(var c={},e={},f=l.fields(a),h=0;h<f.length;){var m=f[h];++h;if(l.hasField(b,m)){var A=l.field(a,m);c[m]=fa.interpolatef(A,l.field(b,m))}else e[m]=l.field(a,m)}f=l.fields(b);for(h=0;h<f.length;)m=f[h],++h,l.hasField(a,m)||(e[m]=l.field(b,m));return function(a){for(var b=0,f=l.fields(c);b<f.length;){var h=
f[b];++b;e[h]=l.field(c,h).apply(c,[a])}return e}};ga.copyTo=function(a,b){for(var c=0,e=l.fields(a);c<e.length;){var f=e[c];++c;var h=fa.clone(l.field(a,f)),m=l.field(b,f);l.isObject(h)&&null==K.getClass(h)&&l.isObject(m)&&null==K.getClass(m)?ga.copyTo(h,m):b[f]=h}return b};ga.clone=function(a){return ga.copyTo(a,{})};ga.mergef=function(a,b,c){for(var e=0,f=l.fields(b);e<f.length;){var h=f[e];++e;var m=l.field(b,h);if(l.hasField(a,h)){var A=l.field(a,h);a[h]=c(h,A,m)}else a[h]=m}};ga.merge=function(a,
b){ga.mergef(a,b,function(a,b,f){return f})};ga._flatten=function(a,b,c,e,f){for(var h=0,m=l.fields(a);h<m.length;){var A=m[h];++h;var g=ga.clone(b),k=l.field(a,A);g.fields.push(A);l.isObject(k)&&null==K.getClass(k)&&(0==e||f+1<e)?ga._flatten(k,g,c,e,f+1):(g.value=k,c.push(g))}};ga.flatten=function(a,b){null==b&&(b=0);for(var c=[],e=0,f=l.fields(a);e<f.length;){var h=f[e];++e;var m=l.field(a,h);l.isObject(m)&&null==K.getClass(m)&&1!=b?ga._flatten(m,{fields:[h],value:null},c,b,1):c.push({fields:[h],
value:m})}return c};ga.compare=function(a,b){var c,e;if(0!=(c=B.compare(e=l.fields(a),l.fields(b))))return c;for(var f=0;f<e.length;)if(c=e[f],++f,0!=(c=fa.compare(l.field(a,c),l.field(b,c))))return c;return 0};ga.addFields=function(a,b,c){for(var e=0,f=b.length;e<f;){var h=e++;ga.addField(a,b[h],c[h])}return a};ga.addField=function(a,b,c){a[b]=c;return a};ga.format=function(a,b,c,e){return ga.formatf(b,c,e)(a)};ga.formatf=function(a,b,c){b=o.FormatParams.params(a,b,"R");a=b.shift();switch(a){case "O":return function(a){return n.string(a)};
case "R":return function(a){for(var b=[],h=0,m=l.fields(a);h<m.length;){var A=m[h];++h;b.push(A+":"+fa.format(l.field(a,A),null,null,null,c))}return"{"+b.join(",")+"}"};default:throw new J.Error("Unsupported number format: {0}",null,a,{fileName:"Objects.hx",lineNumber:242,className:"Objects",methodName:"formatf"});}};var l=function(){};j.Reflect=l;l.__name__=["Reflect"];l.hasField=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};l.field=function(a,b){var c=null;try{c=a[b]}catch(e){}return c};
l.setField=function(a,b,c){a[b]=c};l.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,e;for(e in a)c.call(a,e)&&b.push(e)}return b};l.isFunction=function(a){return"function"==typeof a&&!(a.__name__||a.__ename__)};l.compareMethods=function(a,b){return a==b?!0:!l.isFunction(a)||!l.isFunction(b)?!1:a.scope==b.scope&&a.method==b.method&&null!=a.method};l.isObject=function(a){if(null==a)return!1;var b=typeof a;return"string"==b||"object"==b&&!a.__enum__||"function"==b&&(a.__name__||
a.__ename__)};l.deleteField=function(a,b){if(!l.hasField(a,b))return!1;delete a[b];return!0};l.makeVarArgs=function(a){return function(){var b=Array.prototype.slice.call(arguments);return a(b)}};var n=function(){};j.Std=n;n.__name__=["Std"];n.string=function(a){return I.__string_rec(a,"")};n["int"]=function(a){return a|0};n.parseInt=function(a){var b=parseInt(a,10);if(0==b&&(120==u.cca(a,1)||88==u.cca(a,1)))b=parseInt(a);return isNaN(b)?null:b};n.parseFloat=function(a){return parseFloat(a)};n.random=
function(a){return 0>=a?0:Math.floor(Math.random()*a)};var bb=function(){this.b=""};j.StringBuf=bb;bb.__name__=["StringBuf"];bb.prototype={toString:function(){return this.b},addSub:function(a,b,c){this.b+=u.substr(a,b,c)},addChar:function(a){this.b+=String.fromCharCode(a)},add:function(a){this.b+=n.string(a)},b:null,__class__:bb};var F=function(){};j.StringTools=F;F.__name__=["StringTools"];F.urlEncode=function(a){return encodeURIComponent(a)};F.urlDecode=function(a){return decodeURIComponent(a.split("+").join(" "))};
F.htmlEscape=function(a){return a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")};F.htmlUnescape=function(a){return a.split("&gt;").join(">").split("&lt;").join("<").split("&amp;").join("&")};F.startsWith=function(a,b){return a.length>=b.length&&u.substr(a,0,b.length)==b};F.endsWith=function(a,b){var c=b.length,e=a.length;return e>=c&&u.substr(a,e-c,c)==b};F.isSpace=function(a,b){var c=u.cca(a,b);return 9<=c&&13>=c||32==c};F.ltrim=function(a){for(var b=a.length,c=0;c<b&&
F.isSpace(a,c);)c++;return 0<c?u.substr(a,c,b-c):a};F.rtrim=function(a){for(var b=a.length,c=0;c<b&&F.isSpace(a,b-c-1);)c++;return 0<c?u.substr(a,0,b-c):a};F.trim=function(a){return F.ltrim(F.rtrim(a))};F.rpad=function(a,b,c){for(var e=a.length,f=b.length;e<c;)c-e<f?(a+=u.substr(b,0,c-e),e=c):(a+=b,e+=f);return a};F.lpad=function(a,b,c){var e="",f=a.length;if(f>=c)return a;for(var h=b.length;f<c;)c-f<h?(e+=u.substr(b,0,c-f),f=c):(e+=b,f+=h);return e+a};F.replace=function(a,b,c){return a.split(b).join(c)};
F.hex=function(a,b){var c="";do c="0123456789ABCDEF".charAt(a&15)+c,a>>>=4;while(0<a);if(null!=b)for(;c.length<b;)c="0"+c;return c};F.fastCodeAt=function(a,b){return u.cca(a,b)};F.isEOF=function(a){return a!=a};F.replaceRecurse=function(a,b,c){if(0==b.length)return F.replace(a,b,c);if(0<=c.indexOf(b))throw"Infinite recursion";for(var a=a.toString(),e=0,f=a.length;e!=f;)e=a.length,F.replace(a,b,c),f=a.length;return a};F.stripWhite=function(a){for(var b=a.length,c=0,e=new bb;c<b;)F.isSpace(a,c)||(e.b+=
n.string(a.charAt(c))),c++;return e.b};F.isNum=function(a,b){var c=u.cca(a,b);return 48<=c&&57>=c};F.isAlpha=function(a,b){var c=u.cca(a,b);return 65<=c&&90>=c||97<=c&&122>=c};F.num=function(a,b){var c=u.cca(a,b);return 0<c?(c-=48,0>c||9<c?null:c):null};F.splitLines=function(a){for(var a=a.split("\n"),b=0,c=a.length;b<c;){var e=b++,f=a[e];"\r"==u.substr(f,-1,1)&&(a[e]=u.substr(f,0,-1))}return a};var E=function(){};j.Strings=E;E.__name__=["Strings"];E.format=function(a,b,c,e){null==c&&(c="null");return null==
b||0==b.length?a:E.formatf(a,c,e)(b)};E.formatf=function(a,b,c){null==b&&(b="null");for(var e=[];;){if(!E._reFormat.match(a)){e.push(function(){return function(){return a}}());break}var f=n.parseInt(E._reFormat.matched(1)),h=E._reFormat.matched(2);""==h&&(h=null);for(var m=null,A=[],g=3;20>g;){m=g++;m=E._reFormat.matched(m);if(null==m||""==m)break;A.push(o.FormatParams.cleanQuotes(m))}g=[E._reFormat.matchedLeft()];e.push(function(a){return function(){return a[0]}}(g));h=[fa.formatf(h,A,b,c)];e.push(function(){return function(a,
b){return function(){return function(c){return a(b,c)}}()}}()(function(a){return function(b,c){return a[0](c[b])}}(h),f));a=E._reFormat.matchedRight()}return function(a){null==a&&(a=[]);return e.map(function(b){return b(a)}).join("")}};E.formatOne=function(a,b,c,e){return E.formatOnef(b,c,e)(a)};E.formatOnef=function(a,b){var b=o.FormatParams.params(a,b,"S"),c=b.shift();switch(c){case "S":return function(a){return a};case "T":return c=1>b.length?20:n.parseInt(b[0]),E.ellipsisf(c,2>b.length?"...":
b[1]);case "PR":var e=1>b.length?10:n.parseInt(b[0]),f=2>b.length?" ":b[1];return function(a){return F.rpad(a,f,e)};case "PL":var h=1>b.length?10:n.parseInt(b[0]),m=2>b.length?" ":b[1];return function(a){return F.lpad(a,m,h)};default:throw"Unsupported string format: "+c;}};E.upTo=function(a,b){var c=a.indexOf(b);return 0>c?a:u.substr(a,0,c)};E.startFrom=function(a,b){var c=a.indexOf(b);return 0>c?a:u.substr(a,c+b.length,null)};E.rtrim=function(a,b){for(var c=a.length;0<c;){var e=u.substr(a,c-1,1);
if(0>b.indexOf(e))break;c--}return u.substr(a,0,c)};E.ltrim=function(a,b){for(var c=0;c<a.length;){var e=u.substr(a,c,1);if(0>b.indexOf(e))break;c++}return u.substr(a,c,null)};E.trim=function(a,b){return E.rtrim(E.ltrim(a,b),b)};E.collapse=function(a){return E._reCollapse.replace(F.trim(a)," ")};E.ucfirst=function(a){return null==a?null:a.charAt(0).toUpperCase()+u.substr(a,1,null)};E.lcfirst=function(a){return null==a?null:a.charAt(0).toLowerCase()+u.substr(a,1,null)};E.empty=function(a){return null==
a||""==a};E.isAlphaNum=function(a){return null==a?!1:E.__alphaNumPattern.match(a)};E.digitsOnly=function(a){return null==a?!1:E.__digitsPattern.match(a)};E.ucwords=function(a){return E.__ucwordsPattern.customReplace(null==a?null:a.charAt(0).toUpperCase()+u.substr(a,1,null),E.__upperMatch)};E.ucwordsws=function(a){return E.__ucwordswsPattern.customReplace(null==a?null:a.charAt(0).toUpperCase()+u.substr(a,1,null),E.__upperMatch)};E.__upperMatch=function(a){return a.matched(0).toUpperCase()};E.humanize=
function(a){return F.replace(E.underscore(a),"_"," ")};E.capitalize=function(a){return u.substr(a,0,1).toUpperCase()+u.substr(a,1,null)};E.succ=function(a){return u.substr(a,0,-1)+String.fromCharCode(u.cca(u.substr(a,-1,null),0)+1)};E.underscore=function(a){a=(new R("::","g")).replace(a,"/");a=(new R("([A-Z]+)([A-Z][a-z])","g")).replace(a,"$1_$2");a=(new R("([a-z\\d])([A-Z])","g")).replace(a,"$1_$2");a=(new R("-","g")).replace(a,"_");return a.toLowerCase()};E.dasherize=function(a){return F.replace(a,
"_","-")};E.repeat=function(a,b){for(var c=[],e=0;e<b;)e++,c.push(a);return c.join("")};E.wrapColumns=function(a,b,c,e){null==e&&(e="\n");null==c&&(c="");null==b&&(b=78);for(var a=E._reSplitWC.split(a),f=[],h=0;h<a.length;){var m=a[h];++h;f.push(E._wrapColumns(F.trim(E._reReduceWS.replace(m," ")),b,c,e))}return f.join(e)};E._wrapColumns=function(a,b,c,e){for(var f=[],h=0,m=a.length,A=c.length,b=b-A;;){if(h+b>=m-A){f.push(u.substr(a,h,null));break}for(var g=0;!F.isSpace(a,h+b-g)&&g<b;)g++;if(g==b){for(g=
0;!F.isSpace(a,h+b+g)&&h+b+g<m;)g++;f.push(u.substr(a,h,b+g));h+=b+g+1}else f.push(u.substr(a,h,b-g)),h+=b-g+1}return c+f.join(e+c)};E.stripTags=function(a){return E._reStripTags.replace(a,"")};E.interpolate=function(a,b,c,e){return E.interpolatef(b,c,e)(a)};E.interpolatef=function(a,b,c){var e=function(a,b,c){for(;E._reInterpolateNumber.match(a);)a=E._reInterpolateNumber.matchedLeft(),E.empty(a)||(b.push(a),c.push(null)),b.push(null),c.push(n.parseFloat(E._reInterpolateNumber.matched(0))),a=E._reInterpolateNumber.matchedRight();
E.empty(a)||(b.push(a),c.push(null))},f=function(a){var a=""+a,b=a.indexOf(".");return 0>b?0:a.length-b-1},h=[],m=[],A=[],g=[];e(a,h,m);e(b,A,g);for(var k=[],a=0,b=O.min(h.length,A.length);a<b&&!(h[a]!=A[a]);){if(null==h[a])if(m[a]==g[a])k.push(function(a){return function(){return a[0]}}([""+m[a]]));else{var e=[D.interpolatef(m[a],g[a],c)],w=[Math.pow(10,O.max(f(m[a]),f(g[a])))];k.push(function(a,b){return function(c){return""+Math.round(b[0](c)*a[0])/a[0]}}(w,e))}else k.push(function(a){return function(){return a[0]}}([h[a]]));
a++}for(var i="";a<A.length;)i=null!=A[a]?i+A[a]:i+g[a],a++;""!=i&&k.push(function(){return i});return function(a){return k.map(function(b){return b(a)}).join("")}};E.interpolateChars=function(a,b,c,e){return E.interpolateCharsf(b,c,e)(a)};E.interpolateCharsf=function(a,b){for(var c=a.split(""),e=b.split("");c.length>e.length;)e.splice(0,0," ");for(;e.length>c.length;)c.splice(0,0," ");for(var f=[],h=0,m=c.length;h<m;){var A=h++;f[A]=E.interpolateCharf(c[A],e[A])}return function(a){for(var b=[],c=
0,e=f.length;c<e;){var h=c++;b[h]=f[h](a)}return F.trim(b.join(""))}};E.interpolateChar=function(a,b,c,e){return E.interpolateCharf(b,c,e)(a)};E.interpolateCharf=function(a,b,c){(new R("^\\d","")).match(b)&&" "==a&&(a="0");var e=new R("^[^a-zA-Z0-9]","");e.match(b)&&" "==a&&(a=e.matched(0));var a=u.cca(a,0),b=u.cca(b,0),f=O.interpolatef(a,b,c);return function(a){return String.fromCharCode(f(a))}};E.ellipsis=function(a,b,c){null==c&&(c="...");null==b&&(b=20);return a.length>b?u.substr(a,0,O.max(c.length,
b-c.length))+c:a};E.ellipsisf=function(a,b){null==b&&(b="...");null==a&&(a=20);return function(c){return c.length>a?u.substr(c,0,O.max(b.length,a-b.length))+b:c}};E.compare=function(a,b){return a<b?-1:a>b?1:0};var ka={__ename__:["ValueType"],__constructs__:"TNull,TInt,TFloat,TBool,TObject,TFunction,TClass,TEnum,TUnknown".split(","),TNull:["TNull",0]};ka.TNull.toString=v;ka.TNull.__enum__=ka;ka.TInt=["TInt",1];ka.TInt.toString=v;ka.TInt.__enum__=ka;ka.TFloat=["TFloat",2];ka.TFloat.toString=v;ka.TFloat.__enum__=
ka;ka.TBool=["TBool",3];ka.TBool.toString=v;ka.TBool.__enum__=ka;ka.TObject=["TObject",4];ka.TObject.toString=v;ka.TObject.__enum__=ka;ka.TFunction=["TFunction",5];ka.TFunction.toString=v;ka.TFunction.__enum__=ka;ka.TClass=function(a){a=["TClass",6,a];a.__enum__=ka;a.toString=v;return a};ka.TEnum=function(a){a=["TEnum",7,a];a.__enum__=ka;a.toString=v;return a};ka.TUnknown=["TUnknown",8];ka.TUnknown.toString=v;ka.TUnknown.__enum__=ka;var K=function(){};j.Type=K;K.__name__=["Type"];K.getClass=function(a){return null==
a?null:a.__class__};K.getEnum=function(a){return null==a?null:a.__enum__};K.getSuperClass=function(a){return a.__super__};K.getClassName=function(a){return a.__name__.join(".")};K.getEnumName=function(a){return a.__ename__.join(".")};K.resolveClass=function(a){a=j[a];return null==a||!a.__name__?null:a};K.createInstance=function(a,b){switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);
case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6]);case 8:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7]);default:throw"Too many arguments";}};K.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};K.createEnum=function(a,b,c){var e=l.field(a,b);if(null==e)throw"No such constructor "+b;if(l.isFunction(e)){if(null==c)throw"Constructor "+b+" need parameters";return e.apply(a,
c)}if(null!=c&&0!=c.length)throw"Constructor "+b+" does not need parameters";return e};K.getInstanceFields=function(a){var b=[],c;for(c in a.prototype)b.push(c);u.remove(b,"__class__");u.remove(b,"__properties__");return b};K["typeof"]=function(a){switch(typeof a){case "boolean":return ka.TBool;case "string":return ka.TClass(String);case "number":return Math.ceil(a)==a%2147483648?ka.TInt:ka.TFloat;case "object":if(null==a)return ka.TNull;var b=a.__enum__;if(null!=b)return ka.TEnum(b);a=a.__class__;
return null!=a?ka.TClass(a):ka.TObject;case "function":return a.__name__||a.__ename__?ka.TObject:ka.TFunction;case "undefined":return ka.TNull;default:return ka.TUnknown}};K.enumEq=function(a,b){if(a==b)return!0;try{if(a[0]!=b[0])return!1;for(var c=2,e=a.length;c<e;){var f=c++;if(!K.enumEq(a[f],b[f]))return!1}var h=a.__enum__;if(h!=b.__enum__||null==h)return!1}catch(m){return!1}return!0};K.enumConstructor=function(a){return a[0]};K.enumParameters=function(a){return a.slice(2)};K.enumIndex=function(a){return a[1]};
var cb=function(){};j.Types=cb;cb.__name__=["Types"];cb.className=function(a){return K.getClassName(K.getClass(a)).split(".").pop()};cb.fullName=function(a){return K.getClassName(K.getClass(a))};cb.typeName=function(a){var b,a=K["typeof"](a);switch(a[1]){case 0:b="null";break;case 1:b="Int";break;case 2:b="Float";break;case 3:b="Bool";break;case 5:b="function";break;case 6:b=K.getClassName(a[2]);break;case 7:b=K.getEnumName(a[2]);break;case 4:b="Object";break;case 8:b="Unknown"}return b};cb.hasSuperClass=
function(a,b){for(;null!=a;){if(a==b)return!0;a=K.getSuperClass(a)}return!1};cb.isAnonymous=function(a){return l.isObject(a)&&null==K.getClass(a)};cb.as=function(a,b){return I.__instanceof(a,b)?a:null};cb.ifIs=function(a,b,c){I.__instanceof(a,b)&&c(a);return a};cb.of=function(a,b){return I.__instanceof(b,a)?b:null};cb.sameType=function(a,b){if(null==a&&null==b)return!0;if(null==a||null==b)return!1;var c=K["typeof"](b);switch(c[1]){case 6:return I.__instanceof(a,c[2]);case 7:return I.__instanceof(a,
c[2]);default:return K["typeof"](a)==c}};cb.isPrimitive=function(a){var b,a=K["typeof"](a);switch(a[1]){case 0:b=!0;break;case 1:b=!0;break;case 2:b=!0;break;case 3:b=!0;break;case 5:b=!1;break;case 7:b=!1;break;case 4:b=!1;break;case 8:b=!1;break;case 6:b="String"==K.getClassName(a[2])}return b};G=void 0;ba=void 0;Xb=void 0;Ha=void 0;Z=void 0;re=void 0;ba={IBlockCipher:function(){}};j["chx.crypt.IBlockCipher"]=ba.IBlockCipher;ba.IBlockCipher.__name__=["chx","crypt","IBlockCipher"];ba.IBlockCipher.prototype=
{decryptBlock:null,encryptBlock:null,blockSize:null,__class__:ba.IBlockCipher};ba.IPad=function(){};j["chx.crypt.IPad"]=ba.IPad;ba.IPad.__name__=["chx","crypt","IPad"];ba.IPad.prototype={getBytesReadPerBlock:null,blockOverhead:null,calcNumBlocks:null,isBlockPad:null,unpad:null,pad:null,blockSize:null,__class__:ba.IPad};ba.PadPkcs1Type1=function(a){this.blockSize=a;this.setPadCount(8);this.typeByte=1;this.setPadByte(255)};j["chx.crypt.PadPkcs1Type1"]=ba.PadPkcs1Type1;ba.PadPkcs1Type1.__name__=["chx",
"crypt","PadPkcs1Type1"];ba.PadPkcs1Type1.__interfaces__=[ba.IPad];ba.PadPkcs1Type1.prototype={setPadByte:function(a){this.padByte=a&255;return a},getPadByte:function(){return this.padByte},setBlockSize:function(a){this.blockSize=a;this.textSize=a-3-this.padCount;if(0>=this.textSize)throw"Block size "+a+" to small for Pkcs1 with padCount "+this.padCount;return a},setPadCount:function(a){if(a+3>=this.blockSize)throw"Internal padding size exceeds crypt block size";this.padCount=a;this.textSize=this.blockSize-
3-this.padCount;return a},blockOverhead:function(){return 3+this.padCount},isBlockPad:function(){return!0},calcNumBlocks:function(a){return Math.ceil(a/this.textSize)},unpad:function(a){for(var b=0,c=new Ga;b<a.length;){for(;b<a.length&&0==a.b[b];)++b;if(0>a.length-b-3-this.padCount)throw"Unexpected short message";if(a.b[b]!=this.typeByte)throw"Expected marker "+this.typeByte+" at position "+b+" ["+na.hexDump(a)+"]";if(++b>=a.length)break;for(;b<a.length&&0!=a.b[b];)++b;b++;for(var e=0;b<a.length&&
e++<this.textSize;)c.b.push(a.b[b++])}return c.getBytes()},pad:function(a){if(a.length>this.textSize)throw"Unable to pad block: provided buffer is "+a.length+" max is "+this.textSize;var b=new Ga;b.b.push(0);b.b.push(this.typeByte);for(var c=this.blockSize-a.length-3;0<c--;)b.b.push(this.getPadByte());b.b.push(0);b.add(a);return b.getBytes()},getBytesReadPerBlock:function(){return this.textSize},typeByte:null,padCount:null,padByte:null,textSize:null,blockSize:null,__class__:ba.PadPkcs1Type1,__properties__:{set_blockSize:"setBlockSize",
set_padByte:"setPadByte",get_padByte:"getPadByte"}};ba.PadPkcs1Type2=function(a){ba.PadPkcs1Type1.call(this,a);this.typeByte=2;this.rng=new Va.Random};j["chx.crypt.PadPkcs1Type2"]=ba.PadPkcs1Type2;ba.PadPkcs1Type2.__name__=["chx","crypt","PadPkcs1Type2"];ba.PadPkcs1Type2.__interfaces__=[ba.IPad];ba.PadPkcs1Type2.__super__=ba.PadPkcs1Type1;ba.PadPkcs1Type2.prototype=H(ba.PadPkcs1Type1.prototype,{getPadByte:function(){for(var a=0;0==a;)a=this.rng.next();return a},rng:null,__class__:ba.PadPkcs1Type2});
ba.RSAEncrypt=function(a,b){this.init();null!=a&&this.setPublic(a,b)};j["chx.crypt.RSAEncrypt"]=ba.RSAEncrypt;ba.RSAEncrypt.__name__=["chx","crypt","RSAEncrypt"];ba.RSAEncrypt.__interfaces__=[ba.IBlockCipher];ba.RSAEncrypt.prototype={toString:function(){var a=new bb;a.b+="Public:\n";a.b+=n.string("N:\t"+this.n.toHex()+"\n");a.b+=n.string("E:\t"+r.ofInt(this.e).toHex()+"\n");return a.b},__getBlockSize:function(){return null==this.n?0:this.n.bitLength()+7>>3},doPublic:function(a){return a.modPowInt(this.e,
this.n)},doBufferDecrypt:function(a,b,c){for(var e=this.__getBlockSize(),f=e-11,h=0,m=new Ga;h<a.length;){h+e>a.length&&(e=a.length-h);var A=r.ofBytes(a.sub(h,e),!0),A=b(A);if(null==A)return null;A=c.unpad(A.toBytesUnsigned());if(A.length>f)throw"block text length error";m.add(A);h+=e}return m.getBytes()},doBufferEncrypt:function(a,b,c){for(var e=this.__getBlockSize()-11,f=0,h=new Ga;f<a.length;){f+e>a.length&&(e=a.length-f);var m=r.ofBytes(c.pad(a.sub(f,e)),!0),m=b(m).toBytesUnsigned();0!=(m.length&
1)&&h.b.push(0);h.add(m);f+=e}return h.getBytes()},verify:function(a){return this.doBufferDecrypt(a,y(this,this.doPublic),new ba.PadPkcs1Type1(this.__getBlockSize()))},setPublic:function(a,b){this.init();if(null==a||0==a.length)throw new G.NullPointerException("nHex not set: "+a);if(null==b||0==b.length)throw new G.NullPointerException("eHex not set: "+b);var c=na.cleanHexFormat(a);this.n=r.ofString(c,16);if(null==this.n)throw 2;c=n.parseInt("0x"+na.cleanHexFormat(b));if(null==c||0==c)throw 3;this.e=
c},encyptText:function(a){return na.toHex(this.encrypt(pa.ofString(a)),":")},encryptBlock:function(a){var b=this.__getBlockSize();if(a.length!=b)throw"bad block size";for(var a=this.doPublic(r.ofBytes(a,!0)).toBytesUnsigned(),c=a.length,e=0;c>b;){if(0!=a.b[e])throw new G.FatalException("encoded length was "+a.length);e++;c--}0!=e&&(a=a.sub(e,c));if(a.length<b){e=new Ga;c=b-a.length;for(b=0;b<c;)b++,e.b.push(0);e.addBytes(a,0,a.length);a=e.getBytes()}return a},encrypt:function(a){return this.doBufferEncrypt(a,
y(this,this.doPublic),new ba.PadPkcs1Type2(this.__getBlockSize()))},decryptBlock:function(){throw"Not a private key";},init:function(){this.n=null;this.e=0},blockSize:null,e:null,n:null,__class__:ba.RSAEncrypt,__properties__:{get_blockSize:"__getBlockSize"}};ba.RSA=function(a,b,c){ba.RSAEncrypt.call(this,null,null);this.init();null!=a&&this.setPrivate(a,b,c)};j["chx.crypt.RSA"]=ba.RSA;ba.RSA.__name__=["chx","crypt","RSA"];ba.RSA.__interfaces__=[ba.IBlockCipher];ba.RSA.generate=function(a,b){var c=
new Va.Random,e=new ba.RSA,f=a>>1;e.e=n.parseInt(F.startsWith(b,"0x")?b:"0x"+b);for(var h=r.ofInt(e.e);;){e.p=r.randomPrime(a-f,h,10,!0,c);e.q=r.randomPrime(f,h,10,!0,c);if(0>=e.p.compare(e.q)){var m=e.p;e.p=e.q;e.q=m}var m=e.p.sub(r.getONE()),A=e.q.sub(r.getONE()),g=m.mul(A);if(0==g.gcd(h).compare(r.getONE())){e.n=e.p.mul(e.q);e.d=h.modInverse(g);e.dmp1=e.d.mod(m);e.dmq1=e.d.mod(A);e.coeff=e.q.modInverse(e.p);break}}return e};ba.RSA.__super__=ba.RSAEncrypt;ba.RSA.prototype=H(ba.RSAEncrypt.prototype,
{toString:function(){var a=new bb;a.b+=n.string(ba.RSAEncrypt.prototype.toString.call(this));a.b+="Private:\n";a.b+=n.string("D:\t"+this.d.toHex()+"\n");null!=this.p&&(a.b+=n.string("P:\t"+this.p.toHex()+"\n"));null!=this.q&&(a.b+=n.string("Q:\t"+this.q.toHex()+"\n"));null!=this.dmp1&&(a.b+=n.string("DMP1:\t"+this.dmp1.toHex()+"\n"));null!=this.dmq1&&(a.b+=n.string("DMQ1:\t"+this.dmq1.toHex()+"\n"));null!=this.coeff&&(a.b+=n.string("COEFF:\t"+this.coeff.toHex()+"\n"));return a.b},doPrivate:function(a){if(null==
this.p||null==this.q)return a.modPow(this.d,this.n);for(var b=a.mod(this.p).modPow(this.dmp1,this.p),a=a.mod(this.q).modPow(this.dmq1,this.q);0>b.compare(a);)b=b.add(this.p);return b.sub(a).mul(this.coeff).mod(this.p).mul(this.q).add(a)},recalcCRT:function(){if(null!=this.p&&null!=this.q){if(null==this.dmp1)this.dmp1=this.d.mod(this.p.sub(r.getONE()));if(null==this.dmq1)this.dmq1=this.d.mod(this.q.sub(r.getONE()));if(null==this.coeff)this.coeff=this.q.modInverse(this.p)}},setPrivateEx:function(a,
b,c,e,f,h,m,A){this.init();this.setPrivate(a,b,c);if(null!=e&&null!=f){this.p=r.ofString(na.cleanHexFormat(e),16);this.q=r.ofString(na.cleanHexFormat(f),16);this.coeff=this.dmq1=this.dmp1=null;if(null!=h)this.dmp1=r.ofString(na.cleanHexFormat(h),16);if(null!=m)this.dmq1=r.ofString(na.cleanHexFormat(m),16);if(null!=A)this.coeff=r.ofString(na.cleanHexFormat(A),16);this.recalcCRT()}else throw"Invalid RSA private key ex";},setPrivate:function(a,b,c){this.init();ba.RSAEncrypt.prototype.setPublic.call(this,
a,b);if(null!=c&&0<c.length)a=na.cleanHexFormat(c),this.d=r.ofString(a,16);else throw"Invalid RSA private key";},sign:function(a){return this.doBufferEncrypt(a,y(this,this.doPrivate),new ba.PadPkcs1Type1(this.__getBlockSize()))},decryptText:function(a){return this.decrypt(na.ofHex(na.cleanHexFormat(a)))},decryptBlock:function(a){a=this.doPrivate(r.ofBytes(a,!0));if(null==a)throw"doPrivate error";a=a.toBytesUnsigned();if(a.length<this.__getBlockSize()){for(var b=pa.alloc(this.__getBlockSize()),c=0,
e=this.__getBlockSize()-a.length+1;c<e;){var f=c++;b.b[f]=0}b.blit(this.__getBlockSize()-a.length,a,0,a.length);a=b}else for(;a.length>this.__getBlockSize();){b=a.length-this.__getBlockSize();for(e=0;e<b;)if(f=e++,0!=a.b[f])throw"decryptBlock length error";a=a.sub(b,this.__getBlockSize())}return a},decrypt:function(a){return this.doBufferDecrypt(a,y(this,this.doPrivate),new ba.PadPkcs1Type2(this.__getBlockSize()))},init:function(){ba.RSAEncrypt.prototype.init.call(this);this.coeff=this.dmq1=this.dmp1=
this.q=this.p=this.d=null},coeff:null,dmq1:null,dmp1:null,q:null,p:null,d:null,__class__:ba.RSA});Xb={Base64:function(){}};j["chx.formats.Base64"]=Xb.Base64;Xb.Base64.__name__=["chx","formats","Base64"];Xb.Base64.encode=function(a){var b;b=a.length%3;switch(b){case 1:b="==";break;case 2:b="=";break;case 0:b="";break;default:throw"invalid length: "+b;}if(null==Xb.Base64.enc)Xb.Base64.enc=new Ub(pa.ofString("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"));return Xb.Base64.enc.encodeBytes(a).toString()+
b};Xb.Base64.decode=function(a){a=F.stripWhite(a);a=F.replace(a,"=","");if(null==Xb.Base64.enc)Xb.Base64.enc=new Ub(pa.ofString("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"));var b;try{b=Xb.Base64.enc.decodeBytes(pa.ofString(a))}catch(c){b=null}return b};Ha={Input:function(){}};j["chx.io.Input"]=Ha.Input;Ha.Input.__name__=["chx","io","Input"];Ha.Input.prototype={__setEndian:function(a){return this.bigEndian=a},__getBytesAvailable:function(){throw new G.FatalException("Not implemented");
},readMultiByteString:function(a,b){var c=b.toLowerCase();switch(c){case "latin1":break;case "us-ascii":break;default:throw new G.UnsupportedException(c+" not supported");}return this.readString(a)},readUTF:function(){return this.readString(this.readUInt16())},readString:function(a){var b=pa.alloc(a);this.readFullBytes(b,0,a);return b.toString()},readInt32:function(){var a=this.readByte(),b=this.readByte(),c=this.readByte(),e=this.readByte();return this.bigEndian?(a<<8|b)<<16|c<<8|e:(e<<8|c)<<16|
b<<8|a},readUInt30:function(){var a=this.readByte(),b=this.readByte(),c=this.readByte(),e=this.readByte();if(64<=(this.bigEndian?a:e))throw new G.OverflowException;return this.bigEndian?e|c<<8|b<<16|a<<24:a|b<<8|c<<16|e<<24},readInt31:function(){var a,b,c,e;this.bigEndian?(e=this.readByte(),c=this.readByte(),b=this.readByte(),a=this.readByte()):(a=this.readByte(),b=this.readByte(),c=this.readByte(),e=this.readByte());if(0==(e&128)!=(0==(e&64)))throw new G.OverflowException;return a|b<<8|c<<16|e<<
24},readUInt24:function(){var a=this.readByte(),b=this.readByte(),c=this.readByte();return this.bigEndian?c|b<<8|a<<16:a|b<<8|c<<16},readInt24:function(){var a=this.readByte(),b=this.readByte(),c=this.readByte(),a=this.bigEndian?c|b<<8|a<<16:a|b<<8|c<<16;return 0!=(a&8388608)?a-16777216:a},readUInt16:function(){var a=this.readByte(),b=this.readByte();return this.bigEndian?b|a<<8:a|b<<8},readInt16:function(){var a=this.readByte(),b=this.readByte(),a=this.bigEndian?b|a<<8:a|b<<8;return 0!=(a&32768)?
a-65536:a},readUInt8:function(){return this.readByte()},readInt8:function(){var a=this.readByte();return 128<=a?a-256:a},readDouble:function(){return $a.bytesToFloat(this.read(8),this.bigEndian)},readFloat:function(){return $a.bytesToFloat(this.read(4),this.bigEndian)},readLine:function(){var a=new bb,b,c;try{for(;10!=(b=this.readByte());)a.b+=String.fromCharCode(b);c=a.b;13==u.cca(c,c.length-1)&&(c=u.substr(c,0,-1))}catch(e){if(I.__instanceof(e,G.EofException)){if(c=a.b,0==c.length)throw e;}else throw e;
}return c},readUntil:function(a){for(var b=new bb,c;(c=this.readByte())!=a;)b.b+=String.fromCharCode(c);return b.b},read:function(a){for(var b=pa.alloc(a),c=0;0<a;){var e=this.readBytes(b,c,a);if(0==e)throw new G.BlockedException;c+=e;a-=e}return b},readFullBytes:function(a,b,c){for(;0<c;)var e=this.readBytes(a,b,c),b=b+e,c=c-e},readAll:function(a){null==a&&(a=16384);var b=pa.alloc(a),c=new Ga;try{for(;;){var e=this.readBytes(b,0,a);if(0==e)throw new G.BlockedException;c.addBytes(b,0,e)}}catch(f){if(!I.__instanceof(f,
G.EofException))throw f;}return c.getBytes()},close:function(){},isEof:function(){throw new G.UnsupportedException("Not implemented for this input type");},readBytes:function(a,b,c){var e=c,f=a.b;if(0>b||0>c||b+c>a.length)throw new G.OutsideBoundsException;for(;0<e;)f[b]=this.readByte(),b++,e--;return c},readByte:function(){throw new G.FatalException("Not implemented");},bigEndian:null,bytesAvailable:null,__class__:Ha.Input,__properties__:{get_bytesAvailable:"__getBytesAvailable",set_bigEndian:"__setEndian"}};
Ha.BytesInput=function(a,b,c){null==b&&(b=0);null==c&&(c=a.length-b);if(0>b||0>c||b+c>a.length)throw new G.OutsideBoundsException;this.b=a.b;this.pos=b;this.len=c;this.__setEndian(!1)};j["chx.io.BytesInput"]=Ha.BytesInput;Ha.BytesInput.__name__=["chx","io","BytesInput"];Ha.BytesInput.__super__=Ha.Input;Ha.BytesInput.prototype=H(Ha.Input.prototype,{getPosition:function(){return this.pos},setPosition:function(a){this.len+=this.getPosition()-a;return this.pos=a},peek:function(a){null==a&&(a=this.getPosition());
var b=this.getPosition();this.setPosition(a);a=this.readByte();this.setPosition(b);return a},__getBytesAvailable:function(){return 0<=this.len?this.len:0},readBytes:function(a,b,c){if(0>b||0>c||b+c>a.length)throw new G.OutsideBoundsException;if(0==this.len&&0<c)throw new G.EofException;if(this.len<c)c=this.len;for(var e=this.b,a=a.b,f=0;f<c;){var h=f++;a[b+h]=e[this.pos+h]}this.pos+=c;this.len-=c;return c},readByte:function(){if(0==this.len)throw new G.EofException;this.len--;return this.b[this.pos++]},
getBytesCopy:function(){var a=this.getPosition(),b=null,b=pa.ofData(this.b.slice(0,this.b.length));this.setPosition(a);return b},len:null,pos:null,b:null,__class__:Ha.BytesInput,__properties__:H(Ha.Input.prototype.__properties__,{set_position:"setPosition",get_position:"getPosition"})});Ha.Output=function(){};j["chx.io.Output"]=Ha.Output;Ha.Output.__name__=["chx","io","Output"];Ha.Output.prototype={toString:function(){return K.getClassName(K.getClass(this))},printf:function(a,b,c){null==c&&(c=!1);
a=Z.Sprintf.format(a,b);c?this.writeUTF(a):this.writeString(a);return this},writeUTF:function(a){if(65535<a.length)throw new G.OverflowException;this.writeUInt16(a.length);this.writeString(a);return this},writeString:function(a){a=pa.ofString(a);this.writeFullBytes(a,0,a.length);return this},writeInput:function(a,b){null==b&&(b=4096);var c=pa.alloc(b);try{for(;;){var e=a.readBytes(c,0,b);if(0==e)throw new G.BlockedException;for(var f=0;0<e;){var h=this.writeBytes(c,f,e);if(0==h)throw new G.BlockedException;
f+=h;e-=h}}}catch(m){if(!I.__instanceof(m,G.EofException))throw m;}return this},prepare:function(){return this},writeInt32:function(a){this.bigEndian?(this.writeByte(Vb.toInt(a>>>24)),this.writeByte(Vb.toInt(a>>>16)&255),this.writeByte(Vb.toInt(a>>>8)&255),this.writeByte(Vb.toInt(a&255))):(this.writeByte(Vb.toInt(a&255)),this.writeByte(Vb.toInt(a>>>8)&255),this.writeByte(Vb.toInt(a>>>16)&255),this.writeByte(Vb.toInt(a>>>24)));return this},writeUInt30:function(a){if(0>a||1073741824<=a)throw new G.OverflowException;
this.bigEndian?(this.writeByte(a>>>24),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(a&255)):(this.writeByte(a&255),this.writeByte(a>>8&255),this.writeByte(a>>16&255),this.writeByte(a>>>24));return this},writeInt31:function(a){if(-1073741824>a||1073741824<=a)throw new G.OverflowException;this.bigEndian?(this.writeByte(a>>>24),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(a&255)):(this.writeByte(a&255),this.writeByte(a>>8&255),this.writeByte(a>>16&255),this.writeByte(a>>>
24));return this},writeUInt24:function(a){if(0>a||16777216<=a)throw new G.OverflowException;this.bigEndian?(this.writeByte(a>>16),this.writeByte(a>>8&255),this.writeByte(a&255)):(this.writeByte(a&255),this.writeByte(a>>8&255),this.writeByte(a>>16));return this},writeInt24:function(a){if(-8388608>a||8388608<=a)throw new G.OverflowException;this.writeUInt24(a&16777215);return this},writeUInt16:function(a){if(0>a||65536<=a)throw new G.OverflowException;this.bigEndian?(this.writeByte(a>>8),this.writeByte(a&
255)):(this.writeByte(a&255),this.writeByte(a>>8));return this},writeInt16:function(a){if(-32768>a||32768<=a)throw new G.OverflowException;this.writeUInt16(a&65535);return this},writeUInt8:function(a){return this.writeByte(a)},writeInt8:function(a){if(-128>a||128<=a)throw new G.OverflowException;this.writeByte(a&255);return this},writeDouble:function(a){this.write($a.doubleToBytes(a,this.bigEndian));return this},writeFloat:function(a){this.write($a.floatToBytes(a,this.bigEndian));return this},writeFullBytes:function(a,
b,c){for(;0<c;)var e=this.writeBytes(a,b,c),b=b+e,c=c-e;return this},write:function(a){for(var b=a.length,c=0;0<b;){var e=this.writeBytes(a,c,b);if(0==e)throw new G.BlockedException;c+=e;b-=e}return this},setBigEndian:function(a){return this.bigEndian=a},close:function(){},flush:function(){return this},writeBytes:function(a,b,c){var e=c,f=a.b;if(0>b||0>c||b+c>a.length)throw new G.OutsideBoundsException;for(;0<e;)this.writeByte(f[b]),b++,e--;return c},writeByte:function(){throw new G.FatalException("Not implemented");
},lock:null,bigEndian:null,__class__:Ha.Output,__properties__:{set_bigEndian:"setBigEndian"}};Ha.BytesOutput=function(){this.b=new Ga};j["chx.io.BytesOutput"]=Ha.BytesOutput;Ha.BytesOutput.__name__=["chx","io","BytesOutput"];Ha.BytesOutput.__super__=Ha.Output;Ha.BytesOutput.prototype=H(Ha.Output.prototype,{getBytes:function(){return this.b.getBytes()},writeBytes:function(a,b,c){this.b.addBytes(a,b,c);return c},writeByte:function(a){this.b.b.push(a);return this},b:null,__class__:Ha.BytesOutput});G=
{Exception:function(a,b){this.message=a;this.cause=b}};j["chx.lang.Exception"]=G.Exception;G.Exception.__name__=["chx","lang","Exception"];G.Exception.prototype={toString:function(){return K.getClassName(K.getClass(this))+"("+(null==this.message?"":this.message+")")},cause:null,message:null,__class__:G.Exception};G.IOException=function(a,b){G.Exception.call(this,a,b)};j["chx.lang.IOException"]=G.IOException;G.IOException.__name__=["chx","lang","IOException"];G.IOException.__super__=G.Exception;G.IOException.prototype=
H(G.Exception.prototype,{__class__:G.IOException});G.BlockedException=function(a,b){G.IOException.call(this,a,b)};j["chx.lang.BlockedException"]=G.BlockedException;G.BlockedException.__name__=["chx","lang","BlockedException"];G.BlockedException.__super__=G.IOException;G.BlockedException.prototype=H(G.IOException.prototype,{__class__:G.BlockedException});G.EofException=function(a,b){G.IOException.call(this,a,b)};j["chx.lang.EofException"]=G.EofException;G.EofException.__name__=["chx","lang","EofException"];
G.EofException.__super__=G.IOException;G.EofException.prototype=H(G.IOException.prototype,{toString:function(){return"EOF"},__class__:G.EofException});G.FatalException=function(a,b){this.message=a;this.cause=b};j["chx.lang.FatalException"]=G.FatalException;G.FatalException.__name__=["chx","lang","FatalException"];G.FatalException.prototype={toString:function(){return K.getClassName(K.getClass(this))+"("+(null==this.message?"":this.message+")")},cause:null,message:null,__class__:G.FatalException};
G.NullPointerException=function(a,b){G.Exception.call(this,a,b)};j["chx.lang.NullPointerException"]=G.NullPointerException;G.NullPointerException.__name__=["chx","lang","NullPointerException"];G.NullPointerException.__super__=G.Exception;G.NullPointerException.prototype=H(G.Exception.prototype,{__class__:G.NullPointerException});G.OutsideBoundsException=function(a,b){G.Exception.call(this,a,b)};j["chx.lang.OutsideBoundsException"]=G.OutsideBoundsException;G.OutsideBoundsException.__name__=["chx",
"lang","OutsideBoundsException"];G.OutsideBoundsException.__super__=G.Exception;G.OutsideBoundsException.prototype=H(G.Exception.prototype,{__class__:G.OutsideBoundsException});G.OverflowException=function(a,b){G.Exception.call(this,a,b)};j["chx.lang.OverflowException"]=G.OverflowException;G.OverflowException.__name__=["chx","lang","OverflowException"];G.OverflowException.__super__=G.Exception;G.OverflowException.prototype=H(G.Exception.prototype,{__class__:G.OverflowException});G.UnsupportedException=
function(a,b){G.Exception.call(this,a,b)};j["chx.lang.UnsupportedException"]=G.UnsupportedException;G.UnsupportedException.__name__=["chx","lang","UnsupportedException"];G.UnsupportedException.__super__=G.Exception;G.UnsupportedException.prototype=H(G.Exception.prototype,{__class__:G.UnsupportedException});Z={Sprintf:function(){}};j["chx.text.Sprintf"]=Z.Sprintf;Z.Sprintf.__name__=["chx","text","Sprintf"];Z.Sprintf.format=function(a,b){if(null==a)return"";null==b&&(b=[]);for(var c="",e=0,f=0,h=0,
h=0,m=null,A=0,g=0,k=0,w=0,i;f<a.length;)if(h=a.indexOf("%",f),-1==h)c+=u.substr(a,f,null),f=a.length;else{c+=u.substr(a,f,h-f);i="** sprintf: invalid format at "+e+" **";A=k=w=0;g=-1;f=h+1;for(m=b[e++];I.__instanceof(i,String)&&f<a.length;)switch(h=u.cca(a,f++),h){case 35:0==w?k|=16:i='** sprintf: "#" came too late **';break;case 45:0==w?k|=2:i='** sprintf: "-" came too late **';break;case 43:0==w?k|=4:i='** sprintf: "+" came too late **';break;case 32:0==w?k|=8:i='** sprintf: " " came too late **';
break;case 46:2>w?(w=2,g=0):i='** sprintf: "." came too late **';break;case 48:48==h&&0==w?k|=1:3==w?i="** sprintf: shouldn't have a digit after h,l,L **":2>w?(w=1,A=10*A+(h-48)):g=10*g+(h-48);break;case 49:48==h&&0==w?k|=1:3==w?i="** sprintf: shouldn't have a digit after h,l,L **":2>w?(w=1,A=10*A+(h-48)):g=10*g+(h-48);break;case 50:48==h&&0==w?k|=1:3==w?i="** sprintf: shouldn't have a digit after h,l,L **":2>w?(w=1,A=10*A+(h-48)):g=10*g+(h-48);break;case 51:48==h&&0==w?k|=1:3==w?i="** sprintf: shouldn't have a digit after h,l,L **":
2>w?(w=1,A=10*A+(h-48)):g=10*g+(h-48);break;case 52:48==h&&0==w?k|=1:3==w?i="** sprintf: shouldn't have a digit after h,l,L **":2>w?(w=1,A=10*A+(h-48)):g=10*g+(h-48);break;case 53:48==h&&0==w?k|=1:3==w?i="** sprintf: shouldn't have a digit after h,l,L **":2>w?(w=1,A=10*A+(h-48)):g=10*g+(h-48);break;case 54:48==h&&0==w?k|=1:3==w?i="** sprintf: shouldn't have a digit after h,l,L **":2>w?(w=1,A=10*A+(h-48)):g=10*g+(h-48);break;case 55:48==h&&0==w?k|=1:3==w?i="** sprintf: shouldn't have a digit after h,l,L **":
2>w?(w=1,A=10*A+(h-48)):g=10*g+(h-48);break;case 56:48==h&&0==w?k|=1:3==w?i="** sprintf: shouldn't have a digit after h,l,L **":2>w?(w=1,A=10*A+(h-48)):g=10*g+(h-48);break;case 57:48==h&&0==w?k|=1:3==w?i="** sprintf: shouldn't have a digit after h,l,L **":2>w?(w=1,A=10*A+(h-48)):g=10*g+(h-48);break;case 100:i=!0;c+=Z.Sprintf.formatD(m,k,A,g);break;case 105:i=!0;c+=Z.Sprintf.formatD(m,k,A,g);break;case 111:i=!0;c+=Z.Sprintf.formatO(m,k,A,g);break;case 120:i=!0;c+=Z.Sprintf.formatX(m,k,A,g,88==h);break;
case 88:i=!0;c+=Z.Sprintf.formatX(m,k,A,g,88==h);break;case 101:i=!0;c+=Z.Sprintf.formatE(m,k,A,g,69==h);break;case 69:i=!0;c+=Z.Sprintf.formatE(m,k,A,g,69==h);break;case 102:i=!0;c+=Z.Sprintf.formatF(m,k,A,g);break;case 103:i=!0;c+=Z.Sprintf.formatG(m,k,A,g,71==h);break;case 71:i=!0;c+=Z.Sprintf.formatG(m,k,A,g,71==h);break;case 99:if(99==h||67==h)g=1;i=!0;c+=Z.Sprintf.formatS(m,k,A,g);break;case 67:if(99==h||67==h)g=1;i=!0;c+=Z.Sprintf.formatS(m,k,A,g);break;case 115:if(99==h||67==h)g=1;i=!0;c+=
Z.Sprintf.formatS(m,k,A,g);break;case 83:if(99==h||67==h)g=1;i=!0;c+=Z.Sprintf.formatS(m,k,A,g);break;case 37:i=!0;c+="%";e--;break;default:i="** sprintf: "+n.string(h-48)+" not supported **"}!0!=i&&Z.Sprintf.DEBUG&&(c+=n.string(i))}return c};Z.Sprintf.finish=function(a,b,c,e,f,h){null==h&&(h="");null==h&&(h="");0>b?h="-"+h:0!=(c&4)?h="+"+h:0!=(c&8)&&(h=" "+h);0==e&&-1<f&&(e=f,c|=1);for(;a.length+h.length<e;)0!=(c&2)?a+=" ":0!=(c&1)?a="0"+a:h=" "+h;return h+a};Z.Sprintf.number=function(a){if(null==
a)return 0;if(I.__instanceof(a,String))return""==a?0:n.parseFloat(a);return I.__instanceof(a,Fc)?(Math.isNaN(a),a):I.__instanceof(a,Hd)?1*a:I.__instanceof(a,Ce)?a?1:0:Math.NaN};Z.Sprintf.formatD=function(a,b,c,e){var f="",a=Z.Sprintf.number(a);if(0!=e||0!=a)f=n.string(Math.floor(Math.abs(a)));for(;f.length<e;)f="0"+f;return Z.Sprintf.finish(f,a,b,c,e)};Z.Sprintf.formatO=function(a,b,c,e){var f="",h="",a=Z.Sprintf.number(a);0!=e&&0!=a&&(f=a.toString(8));for(0!=(b&16)&&(h="0");f.length<e;)f="0"+f;return Z.Sprintf.finish(f,
a,b,c,e,h)};Z.Sprintf.formatX=function(a,b,c,e,f){var h="",m="",a=Z.Sprintf.number(a);0!=e&&0!=a&&(h=a.toString(16));for(0!=(b&16)&&(m="0x");h.length<e;)h="0"+h;f?(m=m.toUpperCase(),h=h.toUpperCase()):h=h.toLowerCase();return Z.Sprintf.finish(h,a,b,c,e,m)};Z.Sprintf.formatE=function(a,b,c,e,f){var h="",h=0,a=Z.Sprintf.number(a);if(1<Math.abs(a))for(;10<Math.abs(a);)a/=10,h++;else for(;1>Math.abs(a);)a*=10,h--;f=Z.Sprintf.format("%c%+.2d",[f?"E":"e",h]);if(0!=(b&2))for(h=Z.Sprintf.formatF(a,b,1,e)+
f;h.length<c;)h+=" ";else h=Z.Sprintf.formatF(a,b,Math.max(c-f.length,0)|0,e)+h;return h};Z.Sprintf.formatF=function(a,b,c,e){var f="",h=f="";-1==e&&(e=6);a=n.string(a);-1==a.indexOf(".")?(f=n.string(Math.abs(Z.Sprintf.number(a))),h="0"):(f=n.string(Math.abs(Z.Sprintf.number(u.substr(a,0,a.indexOf("."))))),h=u.substr(a,a.indexOf(".")+1,null));if(0==Z.Sprintf.number(h))for(h="";h.length<e;)h+="0";else if(h.length>e&&(h=Math.round(Math.pow(10,e)*Z.Sprintf.number("0."+h)),n.string(h).length>e&&0!=h?
(h="0",f=n.string((Math.abs(Z.Sprintf.number(f))+1)*(0<=Z.Sprintf.number(f)?1:-1))):h=n.string(h)),h.length<e)for(h=new String(h);h.length<e;)h+="0";0==e?0!=(b&16)&&(f+="."):f=f+"."+h;return Z.Sprintf.finish(f,n.parseFloat(a),b,c,e,"")};Z.Sprintf.formatG=function(a,b,c,e,f){var h=Z.Sprintf.formatE(a,b,1,e,f),m=Z.Sprintf.formatF(a,b,1,e);return h.length<m.length?Z.Sprintf.formatE(a,b,c,e,f):Z.Sprintf.formatF(a,b,c,e)};Z.Sprintf.formatS=function(a,b,c,e){var f=n.string(a);0<e&&e<f.length&&(f=u.substr(f,
0,e));return Z.Sprintf.finish(f,a,b&-30,c,e,"")};re={Lock:function(){this.lock=1}};j["chx.vm.Lock"]=re.Lock;re.Lock.__name__=["chx","vm","Lock"];re.Lock.prototype={release:function(){this.lock--},wait:function(a){var b=!0,c=0;null==a&&(b=!1);for(b&&(c=(new Date).getTime()+a);0<this.lock;)if(b&&(new Date).getTime()>=c)return!1;this.lock++;return!0},lock:null,__class__:re.Lock};var sa,Zb,ic,de,ob,ee,Hc,fe,Ic,ge,ha,he,Jc,ie,Ob,Kc,je,Lc,ke,Mc,le,Ia,Na,Ea,Ja,wa,Aa,U,jc,qc,rc,Id,Cb,me,Zc,kc,Be,ue,Db,Jd,
Nc,Kd,ve,Ld,$c,Ba,Xa;sa=function(a){this.selection=a};j["dhx.Access"]=sa;sa.__name__=["dhx","Access"];sa.getData=function(a){return l.field(a,"__dhx_data__")};sa.setData=function(a,b){a.__dhx_data__=b};sa.emptyElement=function(a){return{__dhx_data__:a}};sa.eventName=function(a){return"__dhx_on__"+a};sa.getEvent=function(a,b){return l.field(a,"__dhx_on__"+b)};sa.hasEvent=function(a,b){return null!=l.field(a,"__dhx_on__"+b)};sa.addEvent=function(a,b,c){a["__dhx_on__"+b]=c};sa.removeEvent=function(a,
b){l.deleteField(a,"__dhx_on__"+b)};sa.setTransition=function(a,b){l.hasField(a,"__dhx_transition__")?l.field(a,"__dhx_transition__").owner=b:a.__dhx_transition__={owner:b}};sa.getTransition=function(a){return l.field(a,"__dhx_transition__")};sa.resetTransition=function(a){l.deleteField(a,"__dhx_transition__")};sa.prototype={_that:function(){return this.selection},selection:null,__class__:sa};Zb=function(a,b){sa.call(this,b);this.name=a;this.qname=ic.qualify(a)};j["dhx.AccessAttribute"]=Zb;Zb.__name__=
["dhx","AccessAttribute"];Zb.__super__=sa;Zb.prototype=H(sa.prototype,{"float":function(a){var b=""+a;if(null==this.qname){var c=this.name;this.selection.eachNode(function(a){a.setAttribute(c,b)})}else{var e=this.qname;this.selection.eachNode(function(a){a.setAttributeNS(e.space,e.local,b)})}return this.selection},string:function(a){if(null==this.qname){var b=this.name;this.selection.eachNode(function(c){c.setAttribute(b,a)})}else{var c=this.qname;this.selection.eachNode(function(b){b.setAttributeNS(c.space,
c.local,a)})}return this.selection},remove:function(){if(null==this.qname){var a=this.name;this.selection.eachNode(function(b){b.removeAttribute(a)})}else{var b=this.qname;this.selection.eachNode(function(a){a.removeAttributeNS(b.space,b.local)})}return this.selection},getFloat:function(){var a=this.get();return Zb.refloat.match(a)?n.parseFloat(Zb.refloat.matched(1)):Math.NaN},get:function(){var a=this.name,b=this.qname;return this.selection.firstNode(function(c){return null==b?c.getAttribute(a):
c.getAttributeNS(b.space,b.local)})},qname:null,name:null,__class__:Zb});de=function(a,b){Zb.call(this,a,b)};j["dhx.AccessDataAttribute"]=de;de.__name__=["dhx","AccessDataAttribute"];de.__super__=Zb;de.prototype=H(Zb.prototype,{data:function(){return this.stringf(function(a){return""+n.string(a)})},floatf:function(a){if(null==this.qname){var b=this.name;this.selection.eachNode(function(c,f){var h=a(l.field(c,"__dhx_data__"),f);null==h?c.removeAttribute(b):c.setAttribute(b,""+h)})}else{var c=this.qname;
this.selection.eachNode(function(b,f){var h=a(l.field(b,"__dhx_data__"),f);null==h?b.removeAttributeNS(c.space,c.local):b.setAttributeNS(c.space,c.local,""+h)})}return this.selection},stringf:function(a){if(null==this.qname){var b=this.name;this.selection.eachNode(function(c,f){var h=a(l.field(c,"__dhx_data__"),f);null==h?c.removeAttribute(b):c.setAttribute(b,h)})}else{var c=this.qname;this.selection.eachNode(function(b,f){var h=a(l.field(b,"__dhx_data__"),f);null==h?b.removeAttributeNS(c.space,c.local):
b.setAttributeNS(c.space,c.local,h)})}return this.selection},__class__:de});ob=function(a){sa.call(this,a)};j["dhx.AccessClassed"]=ob;ob.__name__=["dhx","AccessClassed"];ob.escapeERegChars=function(a){return ob._escapePattern.customReplace(a,function(a){return"\\"+a.matched(0)})};ob.getRe=function(a){return new R("(^|\\s+)"+ob.escapeERegChars(a)+"(\\s+|$)","g")};ob.__super__=sa;ob.prototype=H(sa.prototype,{get:function(){var a=this.selection.node(),b=a.classList;if(null!=b){for(var a=[],c=0,e=b.length;c<
e;){var f=c++;a.push(b.item(f))}return a.join(" ")}b=a.className;return null!=b.baseVal?b.baseVal:b},_add:function(a,b){var c=b.classList;if(null!=c)c.add(a);else{var c=b.className,e=null!=c.baseVal,f=e?c.baseVal:c;if(!(new R("(^|\\s+)"+ob.escapeERegChars(a)+"(\\s+|$)","g")).match(f))f=E.collapse(f+" "+a),e?c.baseVal=f:b.className=f}},add:function(a){this.selection.eachNode(function(a,c){return function(e,f){return a(c,e,f)}}(y(this,this._add),a));return this.selection},_remove:function(a,b){var c=
b.classList;if(null!=c)c.remove(a);else{var c=b.className,e=null!=c.baseVal,f=e?c.baseVal:c,h=new R("(^|\\s+)"+ob.escapeERegChars(a)+"(\\s+|$)","g"),f=E.collapse(h.replace(f," "));e?c.baseVal=f:b.className=f}},remove:function(a){this.selection.eachNode(function(a,c){return function(e,f){return a(c,e,f)}}(y(this,this._remove),a));return this.selection},exists:function(a){return this.selection.firstNode(function(b){var c=b.classList;if(null!=c)return c.contains(a);var b=b.className,c=new R("(^|\\s+)"+
ob.escapeERegChars(a)+"(\\s+|$)","g"),e=b.baseVal;return c.match(null!=e?e:b)})},toggle:function(a){this.exists(a)?this.remove(a):this.add(a);return this.selection},__class__:ob});ee=function(a){ob.call(this,a)};j["dhx.AccessDataClassed"]=ee;ee.__name__=["dhx","AccessDataClassed"];ee.__super__=ob;ee.prototype=H(ob.prototype,{addf:function(a){var b=y(this,this._add);this.selection.eachNode(function(c,e){var f=a(l.field(c,"__dhx_data__"),e);null!=f&&b(f,c,e)});return this.selection},removef:function(a){var b=
y(this,this._remove);this.selection.eachNode(function(c,e){var f=a(l.field(c,"__dhx_data__"),e);null!=f&&b(f,c,e)});return this.selection},__class__:ee});Hc=function(a){sa.call(this,a)};j["dhx.AccessHtml"]=Hc;Hc.__name__=["dhx","AccessHtml"];Hc.__super__=sa;Hc.prototype=H(sa.prototype,{"float":function(a){this.selection.eachNode(function(b){b.innerHTML=""+a});return this.selection},clear:function(){this.selection.eachNode(function(a){a.innerHTML=""});return this.selection},string:function(a){this.selection.eachNode(function(b){b.innerHTML=
a});return this.selection},get:function(){return this.selection.firstNode(function(a){return a.innerHTML})},__class__:Hc});fe=function(a){Hc.call(this,a)};j["dhx.AccessDataHtml"]=fe;fe.__name__=["dhx","AccessDataHtml"];fe.__super__=Hc;fe.prototype=H(Hc.prototype,{data:function(){return this.stringf(function(a){return""+n.string(a)})},floatf:function(a){this.selection.eachNode(function(b,c){var e=a(l.field(b,"__dhx_data__"),c);b.innerHTML=null==e?"":""+e});return this.selection},stringf:function(a){this.selection.eachNode(function(b,
c){var e=a(l.field(b,"__dhx_data__"),c);null==e&&(e="");b.innerHTML=e});return this.selection},__class__:fe});Ic=function(a,b){sa.call(this,b);this.name=a};j["dhx.AccessProperty"]=Ic;Ic.__name__=["dhx","AccessProperty"];Ic.__super__=sa;Ic.prototype=H(sa.prototype,{"float":function(a){var b=""+a,c=this.name;this.selection.eachNode(function(a){a[c]=b});return this.selection},string:function(a){var b=this.name;this.selection.eachNode(function(c){c[b]=a});return this.selection},remove:function(){var a=
this.name;this.selection.eachNode(function(b){l.deleteField(b,a)});return this.selection},get:function(){var a=this.name;return this.selection.firstNode(function(b){return l.field(b,a)})},name:null,__class__:Ic});ge=function(a,b){Ic.call(this,a,b)};j["dhx.AccessDataProperty"]=ge;ge.__name__=["dhx","AccessDataProperty"];ge.__super__=Ic;ge.prototype=H(Ic.prototype,{data:function(){return this.stringf(function(a){return""+n.string(a)})},floatf:function(a){var b=this.name;this.selection.eachNode(function(c,
e){var f=a(l.field(c,"__dhx_data__"),e);null==f?l.deleteField(c,b):c[b]=""+f});return this.selection},stringf:function(a){var b=this.name;this.selection.eachNode(function(c,e){var f=a(l.field(c,"__dhx_data__"),e);null==f?l.deleteField(c,b):c[b]=f});return this.selection},__class__:ge});ha=function(a,b){sa.call(this,b);this.name=a};j["dhx.AccessStyle"]=ha;ha.__name__=["dhx","AccessStyle"];ha._getPropertyName=function(a){if("float"==a||"cssFloat"==a||"styleFloat"==a)return null==ma.document.body.cssFloat?
"styleFloat":"cssFloat";0<=a.indexOf("-")&&(a=E.ucwords(a));return a};ha.getComputedStyleValue=function(a,b){ha.getComputedStyleValue="getComputedStyle"in window?function(a,b){return ma.window.getComputedStyle(a,null).getPropertyValue(b)}:function(a,b){var f=a.currentStyle;null==l.field(f,b)&&(b=ha._getPropertyName(b));return null==l.field(f,b)?"":l.field(f,b)};return ha.getComputedStyleValue(a,b)};ha.setStyleProperty=function(a,b,c,e){ha.setStyleProperty="setProperty"in a.style?function(a,b,c,e){a.style.setProperty(b,
""+c,null==e?"":e)}:function(a,b,c,e){a=a.style;null==l.field(a,b)&&(b=ha._getPropertyName(b));null!=e&&""!=e?a.cssText+=";"+E.dasherize(b)+":"+c+"!important;":a[b]=c};ha.setStyleProperty(a,b,c,e)};ha.removeStyleProperty=function(a){ha.removeStyleProperty="removeProperty"in a.style?function(a,c){a.style.removeProperty(c)}:function(a,c){var e=a.style;null==l.field(e,c)&&(c=ha._getPropertyName(c));l.deleteField(e,c)}};ha.__super__=sa;ha.prototype=H(sa.prototype,{color:function(a,b){var c=this,e=a.toRgbString();
this.selection.eachNode(function(a){ha.setStyleProperty(a,c.name,e,b)});return this.selection},"float":function(a,b){var c=this;this.selection.eachNode(function(e){ha.setStyleProperty(e,c.name,a,b)});return this.selection},string:function(a,b){var c=this;this.selection.eachNode(function(e){ha.setStyleProperty(e,c.name,a,b)});return this.selection},remove:function(){var a=this;this.selection.eachNode(function(b){ha.removeStyleProperty(b,a.name)});return this.selection},getFloat:function(){var a=this.get();
return ha.refloat.match(a)?n.parseFloat(ha.refloat.matched(1)):Math.NaN},get:function(){var a=this;return this.selection.firstNode(function(b){return ha.getComputedStyleValue(b,a.name)})},name:null,__class__:ha});he=function(a,b){ha.call(this,a,b)};j["dhx.AccessDataStyle"]=he;he.__name__=["dhx","AccessDataStyle"];he.__super__=ha;he.prototype=H(ha.prototype,{data:function(){return this.stringf(function(a){return""+n.string(a)})},colorf:function(a,b){var c=this;this.selection.eachNode(function(e,f){var h=
a(l.field(e,"__dhx_data__"),f);null==h?ha.removeStyleProperty(e,c.name):ha.setStyleProperty(e,c.name,""+h.toRgbString(),b)});return this.selection},floatf:function(a,b){var c=this;this.selection.eachNode(function(e,f){var h=a(l.field(e,"__dhx_data__"),f);null==h?ha.removeStyleProperty(e,c.name):ha.setStyleProperty(e,c.name,""+h,b)});return this.selection},stringf:function(a,b){var c=this;this.selection.eachNode(function(e,f){var h=a(l.field(e,"__dhx_data__"),f);null==h?ha.removeStyleProperty(e,c.name):
ha.setStyleProperty(e,c.name,h,b)});return this.selection},__class__:he});Jc=function(a){sa.call(this,a)};j["dhx.AccessText"]=Jc;Jc.__name__=["dhx","AccessText"];Jc.__super__=sa;Jc.prototype=H(sa.prototype,{floatNodef:function(a){this.clear();this.selection.eachNode(function(b,c){var e=a(b,c);if(null!=e)b.textContent=""+e});return this.selection},stringNodef:function(a){this.clear();this.selection.eachNode(function(b,c){var e=a(b,c);if(null!=e)b.textContent=e});return this.selection},"float":function(a){this.clear();
this.selection.eachNode(function(b){b.textContent=""+a});return this.selection},clear:function(){this.selection.eachNode(function(a){a.textContent=""});return this.selection},string:function(a){this.clear();this.selection.eachNode(function(b){b.textContent=a});return this.selection},get:function(){return this.selection.firstNode(function(a){return a.textContent})},__class__:Jc});ie=function(a){Jc.call(this,a)};j["dhx.AccessDataText"]=ie;ie.__name__=["dhx","AccessDataText"];ie.__super__=Jc;ie.prototype=
H(Jc.prototype,{data:function(){return this.stringf(function(a){return""+n.string(a)})},floatf:function(a){this.clear();this.selection.eachNode(function(b,c){var e=a(l.field(b,"__dhx_data__"),c);if(null!=e)b.textContent=""+e});return this.selection},stringf:function(a){this.clear();this.selection.eachNode(function(b,c){var e=a(l.field(b,"__dhx_data__"),c);if(null!=e)b.textContent=e});return this.selection},__class__:ie});Ob=function(a,b){this.transition=a;this.tweens=b};j["dhx.AccessTween"]=Ob;Ob.__name__=
["dhx","AccessTween"];Ob.prototype={_that:function(){return this.transition},transitionFloatTweenf:function(a){return function(b,c,e){return D.interpolatef(e,a(b,c))}},transitionFloatTween:function(a){return function(b,c,e){return D.interpolatef(e,a)}},transitionCharsTweenf:function(a){return function(b,c,e){return E.interpolateCharsf(e,a(b,c))}},transitionCharsTween:function(a){return function(b,c,e){return E.interpolateCharsf(e,a)}},transitionStringTweenf:function(a){return function(b,c,e){return E.interpolatef(e,
a(b,c))}},transitionStringTween:function(a){return function(b,c,e){return E.interpolatef(e,a)}},transitionColorTweenf:function(a){return function(b,c,e){return g.Rgb.interpolatef(e,a(b,c))}},transitionColorTween:function(a){return function(b,c,e){return g.Rgb.interpolatef(e,a)}},tweens:null,transition:null,__class__:Ob};Kc=function(a,b,c){Ob.call(this,b,c);this.name=a;this.qname=ic.qualify(a)};j["dhx.AccessTweenAttribute"]=Kc;Kc.__name__=["dhx","AccessTweenAttribute"];Kc.__super__=Ob;Kc.prototype=
H(Ob.prototype,{floatTweenNodef:function(a){var b=this.name,c;this.tweens.set("attr."+b,null==this.qname?function(c,f){var h=a(c,f,n.parseFloat(c.getAttribute(b)));return function(a){c.setAttribute(b,""+h(a))}}:function(c,f){var h=a(c,f,n.parseFloat(c.getAttributeNS(b.space,b.local)));return function(a){c.setAttributeNS(b.space,b.local,""+h(a))}});return this.transition},"float":function(a){return this.floatTweenNodef(this.transitionFloatTween(a))},floatNodef:function(a){return this.floatTweenNodef(this.transitionFloatTweenf(a))},
stringTweenNodef:function(a){var b=this.name,c;this.tweens.set("attr."+b,null==this.qname?function(c,f){var h=a(c,f,c.getAttribute(b));return function(a){c.setAttribute(b,h(a))}}:function(c,f){var h=a(c,f,c.getAttributeNS(b.space,b.local));return function(a){c.setAttributeNS(b.space,b.local,h(a))}});return this.transition},string:function(a){return this.stringTweenNodef(this.transitionStringTween(a))},stringNodef:function(a){return this.stringTweenNodef(this.transitionStringTweenf(a))},qname:null,
name:null,__class__:Kc});je=function(a,b,c){Kc.call(this,a,b,c)};j["dhx.AccessDataTweenAttribute"]=je;je.__name__=["dhx","AccessDataTweenAttribute"];je.__super__=Kc;je.prototype=H(Kc.prototype,{floatTweenf:function(a){var b=this.name,c;this.tweens.set("attr."+b,null==this.qname?function(c,f){var h=a(l.field(c,"__dhx_data__"),f,n.parseFloat(c.getAttribute(b)));return function(a){c.setAttribute(b,""+h(a))}}:function(c,f){var h=a(l.field(c,"__dhx_data__"),f,n.parseFloat(c.getAttributeNS(b.space,b.local)));
return function(a){c.setAttributeNS(b.space,b.local,""+h(a))}});return this.transition},stringTweenf:function(a){var b=this.name,c;this.tweens.set("attr."+b,null==this.qname?function(c,f){var h=a(l.field(c,"__dhx_data__"),f,c.getAttribute(b));return function(a){c.setAttribute(b,h(a))}}:function(c,f){var h=a(l.field(c,"__dhx_data__"),f,c.getAttributeNS(b.space,b.local));return function(a){c.setAttributeNS(b.space,b.local,h(a))}});return this.transition},floatf:function(a){return this.floatTweenNodef(this.transitionFloatTweenf(function(b,
c){return a(l.field(b,"__dhx_data__"),c)}))},stringf:function(a){return this.stringTweenNodef(this.transitionStringTweenf(function(b,c){return a(l.field(b,"__dhx_data__"),c)}))},__class__:je});Lc=function(a,b,c){Ob.call(this,b,c);this.name=a};j["dhx.AccessTweenStyle"]=Lc;Lc.__name__=["dhx","AccessTweenStyle"];Lc.__super__=Ob;Lc.prototype=H(Ob.prototype,{colorTweenNodef:function(a,b){null==b&&(b=null);var c=this.name;this.tweens.set("style."+c,function(e,f){var h=a(e,f,g.Colors.parse(ha.getComputedStyleValue(e,
c)));return function(a){ha.setStyleProperty(e,c,h(a).toRgbString(),b)}});return this.transition},color:function(a,b){return this.colorTweenNodef(this.transitionColorTween(g.Colors.parse(a)),b)},colorNodef:function(a,b){return this.colorTweenNodef(this.transitionColorTweenf(a),b)},stringTweenNodef:function(a,b){null==b&&(b=null);var c=this.name;this.tweens.set("style."+c,function(e,f){var h=a(e,f,ha.getComputedStyleValue(e,c));return function(a){ha.setStyleProperty(e,c,h(a),b)}});return this.transition},
string:function(a,b){return this.stringTweenNodef(this.transitionStringTween(a),b)},stringNodef:function(a,b){return this.stringTweenNodef(this.transitionStringTweenf(a),b)},floatTweenNodef:function(a,b){var c=this.name;this.tweens.set("style."+c,function(e,f){var h=a(e,f,n.parseFloat(ha.getComputedStyleValue(e,c)));return function(a){ha.setStyleProperty(e,c,""+h(a),b)}});return this.transition},"float":function(a,b){return this.floatTweenNodef(this.transitionFloatTween(a),b)},floatNodef:function(a,
b){return this.floatTweenNodef(this.transitionFloatTweenf(a),b)},name:null,__class__:Lc});ke=function(a,b,c){Lc.call(this,a,b,c)};j["dhx.AccessDataTweenStyle"]=ke;ke.__name__=["dhx","AccessDataTweenStyle"];ke.__super__=Lc;ke.prototype=H(Lc.prototype,{colorTweenf:function(a,b){null==b&&(b=null);var c=this.name;this.tweens.set("style."+c,function(e,f){var h=a(l.field(e,"__dhx_data__"),f,g.Colors.parse(ha.getComputedStyleValue(e,c)));return function(a){ha.setStyleProperty(e,c,h(a).toRgbString(),b)}});
return this.transition},colorf:function(a,b){return this.colorTweenNodef(this.transitionColorTweenf(function(b,e){return a(l.field(b,"__dhx_data__"),e)}),b)},stringTweenf:function(a,b){null==b&&(b=null);var c=this.name;this.tweens.set("style."+c,function(e,f){var h=a(l.field(e,"__dhx_data__"),f,ha.getComputedStyleValue(e,c));return function(a){ha.setStyleProperty(e,c,h(a),b)}});return this.transition},stringf:function(a,b){return this.stringTweenNodef(this.transitionStringTweenf(function(b,e){return a(l.field(b,
"__dhx_data__"),e)}),b)},floatTweenf:function(a,b){null==b&&(b=null);var c=this.name;this.tweens.set("style."+c,function(e,f){var h=a(l.field(e,"__dhx_data__"),f,n.parseFloat(ha.getComputedStyleValue(e,c)));return function(a){ha.setStyleProperty(e,c,""+h(a),b)}});return this.transition},floatf:function(a,b){return this.floatTweenNodef(this.transitionFloatTweenf(function(b,e){return a(l.field(b,"__dhx_data__"),e)}),b)},__class__:ke});Mc=function(a,b){Ob.call(this,a,b)};j["dhx.AccessTweenText"]=Mc;
Mc.__name__=["dhx","AccessTweenText"];Mc.__super__=Ob;Mc.prototype=H(Ob.prototype,{chars:function(a){return this.stringTweenNodef(this.transitionCharsTween(a))},charsNodef:function(a){return this.stringTweenNodef(this.transitionCharsTweenf(a))},stringTweenNodef:function(a){this.tweens.set("text",function(b,c){var e=a(b,c,b.textContent);return function(a){b.textContent=e(a)}});return this.transition},string:function(a){return this.stringTweenNodef(this.transitionStringTween(a))},stringNodef:function(a){return this.stringTweenNodef(this.transitionStringTweenf(a))},
__class__:Mc});le=function(a,b){Mc.call(this,a,b)};j["dhx.AccessDataTweenText"]=le;le.__name__=["dhx","AccessDataTweenText"];le.__super__=Mc;le.prototype=H(Mc.prototype,{stringTweenf:function(a){this.tweens.set("text",function(b,c){var e=a(l.field(b,"__dhx_data__"),c,d.textContent);return function(a){d.textContent=e(a)}});return this.transition},charsf:function(a){return this.stringTweenNodef(this.transitionCharsTweenf(function(b,c){return a(l.field(b,"__dhx_data__"),c)}))},stringf:function(a){return this.stringTweenNodef(this.transitionStringTweenf(function(b,
c){return a(l.field(b,"__dhx_data__"),c)}))},__class__:le});Ia={__ename__:["dhx","HostType"],__constructs__:"UnknownServer,NodeJs,IE,Firefox,Safari,Chrome,Opera,Unknown".split(","),UnknownServer:["UnknownServer",0]};Ia.UnknownServer.toString=v;Ia.UnknownServer.__enum__=Ia;Ia.NodeJs=["NodeJs",1];Ia.NodeJs.toString=v;Ia.NodeJs.__enum__=Ia;Ia.IE=function(a){a=["IE",2,a];a.__enum__=Ia;a.toString=v;return a};Ia.Firefox=function(a){a=["Firefox",3,a];a.__enum__=Ia;a.toString=v;return a};Ia.Safari=function(a){a=
["Safari",4,a];a.__enum__=Ia;a.toString=v;return a};Ia.Chrome=function(a){a=["Chrome",5,a];a.__enum__=Ia;a.toString=v;return a};Ia.Opera=function(a){a=["Opera",6,a];a.__enum__=Ia;a.toString=v;return a};Ia.Unknown=function(a){a=["Unknown",7,a];a.__enum__=Ia;a.toString=v;return a};Na={__ename__:["dhx","EnvironmentType"],__constructs__:["Mobile","Desktop","Server","UnknownEnvironment"],Mobile:["Mobile",0]};Na.Mobile.toString=v;Na.Mobile.__enum__=Na;Na.Desktop=["Desktop",1];Na.Desktop.toString=v;Na.Desktop.__enum__=
Na;Na.Server=["Server",2];Na.Server.toString=v;Na.Server.__enum__=Na;Na.UnknownEnvironment=["UnknownEnvironment",3];Na.UnknownEnvironment.toString=v;Na.UnknownEnvironment.__enum__=Na;Ea={__ename__:["dhx","OSType"],__constructs__:"Windows,IOs,Android,Mac,Linux,UnknownOs".split(",")};Ea.Windows=function(a){a=["Windows",0,a];a.__enum__=Ea;a.toString=v;return a};Ea.IOs=["IOs",1];Ea.IOs.toString=v;Ea.IOs.__enum__=Ea;Ea.Android=["Android",2];Ea.Android.toString=v;Ea.Android.__enum__=Ea;Ea.Mac=["Mac",3];
Ea.Mac.toString=v;Ea.Mac.__enum__=Ea;Ea.Linux=["Linux",4];Ea.Linux.toString=v;Ea.Linux.__enum__=Ea;Ea.UnknownOs=["UnknownOs",5];Ea.UnknownOs.toString=v;Ea.UnknownOs.__enum__=Ea;Ja=function(){};j["dhx.ClientHost"]=Ja;Ja.__name__=["dhx","ClientHost"];Ja.isIE=function(){var a;switch(Ja.host[1]){case 2:a=!0;break;default:a=!1}return a};Ja.hostVersion=function(){var a;a=Ja.host;switch(a[1]){case 2:a=a[2];break;case 3:a=a[2];break;case 4:a=a[2];break;case 5:a=a[2];break;case 6:a=a[2];break;default:a=null}return a};
Ja.hostString=function(){var a;switch(Ja.host[1]){case 0:a="unknown_server";break;case 7:a="unknown";break;case 1:a="nodejs";break;default:a=Ja.host[0]}return a};Ja.osString=function(){return Ja.os[0]};Ja.osVersion=function(){var a;a=Ja.os;switch(a[1]){case 0:a=a[2];break;default:a=null}return a};Ja.environmentString=function(){return Ja.environment[0]};Ja.userAgent=function(){return""+navigator.userAgent};Ja.hasNavigator=function(){return"undefined"!==typeof navigator};I=void 0;ma=void 0;Gd=void 0;
ma=function(){};j["js.Browser"]=ma;ma.__name__=["js","Browser"];ma.createXMLHttpRequest=function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)return new ActiveXObject("Microsoft.XMLHTTP");throw"Unable to create XMLHttpRequest object.";};wa=function(a){this.nodes=a};j["dhx.Group"]=wa;wa.__name__=["dhx","Group"];wa.merge=function(a,b){if(b.length!=a.length)throw"Group length not equal";for(var c=0,e=b.length;c<e;){var f=c++,h=a[f],f=b[f];if(h.parentNode!=
f.parentNode)throw"parentNodes not the same!";if(h.nodes.length!=f.nodes.length)throw"node length mismatch!";for(var m=0,A=f.nodes.length;m<A;){var g=m++;null==f.nodes[g]&&(f.nodes[g]=h.nodes[g])}}return b};wa.prototype={sort:function(a){this.nodes.sort(a)},push:function(a){this.nodes.push(a)},count:function(){return this.nodes.length},get:function(a){return this.nodes[a]},iterator:function(){return u.iter(this.nodes)},each:function(a){for(var b=0,c=this.nodes.length;b<c;){var e=b++;if(null!=this.nodes[e])a(wa.current=
this.nodes[e],e)}},nodes:null,parentNode:null,__class__:wa};Aa=function(a){this.groups=a};j["dhx.BaseSelection"]=Aa;Aa.__name__=["dhx","BaseSelection"];Aa.listenerEnterLeave=function(a,b,c){var e=U.event.relatedTarget;null==e||Aa.isChild(b,e)||a(b,c)};Aa.isChild=function(a,b){if(b==a)return!1;for(;null!=b;)if(b=b.parentNode,b==a)return!0;return!1};Aa.addEvent=function(a,b,c,e){if(null!=y(a,a.addEventListener))Aa.addEvent=function(a,b,c,e){a.addEventListener(b,c,e)};else if(null!=a.attachEvent)Aa.addEvent=
function(a,b,c){a.attachEvent(b,c)};Aa.addEvent(a,b,c,e)};Aa.removeEvent=function(a,b,c,e){if(null!=y(a,a.removeEventListener))Aa.removeEvent=function(a,b,c){a.removeEventListener(b,l.field(a,"__dhx_on__"+c),!1)};else if(null!=a.attachEvent)Aa.removeEvent=function(a,b,c){a.detachEvent(b,l.field(a,"__dhx_on__"+c))};Aa.removeEvent(a,b,c,e)};Aa.bindJoin=function(a,b,c,e,f,h){var m=b.nodes.length,A=c.length,g=[],k=[],w=[],i,j,n=new ea,r=[],p;j=c.length;for(var o=0;o<m;){var q=o++;i=b.nodes[q];p=a(l.field(i,
"__dhx_data__"),q);n.exists(p)?k[j++]=i:n.set(p,i);r.push(p)}for(o=0;o<A;)q=o++,i=n.get(p=a(j=c[q],q)),null!=i?(i.__dhx_data__=j,g[q]=i,w[q]=k[q]=null):(i={__dhx_data__:j},w[q]=i,g[q]=k[q]=null),n.remove(p);for(o=0;o<m;)q=o++,n.exists(r[q])&&(k[q]=b.nodes[q]);a=new wa(w);a.parentNode=b.parentNode;f.push(a);f=new wa(g);f.parentNode=b.parentNode;e.push(f);e=new wa(k);e.parentNode=b.parentNode;h.push(e)};Aa.bind=function(a,b,c,e,f){var h=a.nodes.length,m=a.nodes.length,A=[],g=[],k=[],w,i;if(h>b.length)h=
b.length;if(m<b.length)m=b.length;for(var j=0;j<h;){var l=j++;w=a.nodes[l];i=b[l];null!=w?(w.__dhx_data__=i,A[l]=w,k[l]=g[l]=null):(k[l]={__dhx_data__:i},A[l]=g[l]=null)}for(j=b.length;h<j;)l=h++,w={__dhx_data__:b[l]},k[l]=w,A[l]=g[l]=null;for(j=b.length;j<m;)l=j++,g[l]=a.nodes[l],k[l]=A[l]=null;b=new wa(k);b.parentNode=a.parentNode;e.push(b);e=new wa(A);e.parentNode=a.parentNode;c.push(e);c=new wa(g);c.parentNode=a.parentNode;f.push(c)};Aa.prototype={_selectAll:function(a){for(var b=[],c,e=0,f=this.groups;e<
f.length;){c=f[e];++e;for(var h=u.iter(c.nodes);h.hasNext();){var m=h.next();if(null!=m)b.push(c=new wa(a(m))),c.parentNode=m}}return this.createSelection(b)},_select:function(a){for(var b=[],c,e,f=0,h=this.groups;f<h.length;){e=h[f];++f;b.push(c=new wa([]));c.parentNode=e.parentNode;for(var m=u.iter(e.nodes);m.hasNext();){var g=m.next();if(null!=g){if(c.parentNode=g,c.nodes.push(e=a(g)),null!=e)e.__dhx_data__=l.field(g,"__dhx_data__")}else c.nodes.push(null)}}return this.createSelection(b)},createSelection:function(){throw"abstract method";
},onNode:function(a,b,c){null==c&&(c=!1);var e=a.indexOf("."),f=0>e?a:u.substr(a,0,e);if(("mouseenter"==f||"mouseleave"==f)&&!Ja.isIE())b=function(a,b){return function(c,e){return a(b,c,e)}}(Aa.listenerEnterLeave,b),f="mouseenter"==f?"mouseover":"mouseout";return this.eachNode(function(e,m){var g=function(a){var c=U.event;U.event=a;try{b(e,m)}catch(f){}U.event=c};null!=l.field(e,"__dhx_on__"+a)&&(Aa.removeEvent(e,f,a,c),l.deleteField(e,"__dhx_on__"+a));null!=b&&(e["__dhx_on__"+a]=g,Aa.addEvent(e,
f,g,c))})},mapNode:function(a){for(var b=[],c=0,e=this.groups;c<e.length;){var f=e[c];++c;for(var h=-1,f=u.iter(f.nodes);f.hasNext();){var m=f.next();null!=m&&b.push(a(m,++h))}}return b},filterNode:function(a){for(var b=[],c,e=0,f=this.groups;e<f.length;){var h=f[e];++e;var m=new wa(c=[]);m.parentNode=h.parentNode;b.push(m);m=-1;for(h=u.iter(h.nodes);h.hasNext();){var g=h.next();null!=g&&a(g,++m)&&c.push(g)}}return this.createSelection(b)},empty:function(){return null==this.firstNode(function(a){return a})},
node:function(){return this.firstNode(function(a){return a})},firstNode:function(a){for(var b=0,c=this.groups;b<c.length;){var e=c[b];++b;for(e=u.iter(e.nodes);e.hasNext();){var f=e.next();if(null!=f)return a(f)}}return null},sortNode:function(a){for(var b=this.groups.length,c=0;c<b;){var e=this.groups[c++];e.nodes.sort(a);for(var f=e.nodes.length,h=e.nodes[0],m=1;m<f;){var g=m++,g=e.nodes[g];null!=g&&(null!=h&&h.parentNode.insertBefore(g,h.nextSibling),h=g)}}return this},insert:function(a,b,c){var e=
ic.qualify(a),f;return this._select(null==e?function(e){var f=ma.document.createElement(a);e.insertBefore(f,null!=b?b:U.select(c).node());return f}:function(a){var f=(void 0).Browser.document.createElementNS(e.space,e.local);a.insertBefore(f,null!=b?b:U.select(c).node());return f})},eachNode:function(a){for(var b=0,c=this.groups;b<c.length;){var e=c[b];++b;e.each(a)}return this},remove:function(){return this.eachNode(function(a){var b=a.parentNode;null!=b&&b.removeChild(a)})},append:function(a){var b=
ic.qualify(a),c;return this._select(null==b?function(b){var c=ma.document.createElement(a);b.appendChild(c);return c}:function(a){var c=ma.document.createElementNS(b.space,b.local);a.appendChild(c);return c})},_this:function(){return this},selectAll:function(a){return this._selectAll(function(b){return U.selectionEngine.selectAll(a,b)})},select:function(a){return this._select(function(b){return U.selectionEngine.select(a,b)})},groups:null,parentNode:null,__class__:Aa};jc=function(a){Aa.call(this,
a)};j["dhx.UnboundSelection"]=jc;jc.__name__=["dhx","UnboundSelection"];jc.__super__=Aa;jc.prototype=H(Aa.prototype,{selectAllData:function(a){a=this.selectAll(a);return new qc(a.groups)},data:function(a,b){var c=[],e=[],f=[];if(null==b)for(var h=0,m=this.groups;h<m.length;){var g=m[h];++h;Aa.bind(g,a,c,e,f)}else{h=0;for(m=this.groups;h<m.length;)g=m[h],++h,Aa.bindJoin(b,g,a,c,e,f)}return new rc(c,e,f)},transition:function(){return new Id(this)},style:function(a){return new ha(a,this)},property:function(a){return new Ic(a,
this)},classed:function(){return new ob(this)},attr:function(a){return new Zb(a,this)},text:function(){return new Jc(this)},html:function(){return new Hc(this)},__class__:jc});Cb=function(a){jc.call(this,a)};j["dhx.Selection"]=Cb;Cb.__name__=["dhx","Selection"];Cb.__properties__={get_currentNode:"get_currentNode",get_current:"get_current"};Cb.create=function(a){return new Cb(a)};Cb.get_current=function(){return U.selectNode(wa.current)};Cb.get_currentNode=function(){return wa.current};Cb.__super__=
jc;Cb.prototype=H(jc.prototype,{createSelection:function(a){return new Cb(a)},__class__:Cb});me=function(){};j["dhx.ISelectorEngine"]=me;me.__name__=["dhx","ISelectorEngine"];me.prototype={selectAll:null,select:null,__class__:me};Zc=function(){};j["dhx.NativeSelectorEngine"]=Zc;Zc.__name__=["dhx","NativeSelectorEngine"];Zc.__interfaces__=[me];Zc.supported=function(){return"undefined"!=typeof document.querySelector};Zc.prototype={selectAll:function(a,b,c){if(null!=b)a=b.querySelectorAll(a);else{if(null==
c)c=ma.document;a=c.querySelectorAll(a)}for(var b=[],c=0,e=a.length;c<e;){var f=c++;b.push(a[f])}return b},select:function(a,b,c){if(null!=b)return b.querySelector(a);if(null==c)c=ma.document;return c.querySelector(a)},__class__:Zc};kc=function(){};j["dhx.SizzleEngine"]=kc;kc.__name__=["dhx","SizzleEngine"];kc.__interfaces__=[me];kc.supported=function(){return null!=kc.getSizzle()};kc.getSizzle=function(){return"undefined"!=typeof Sizzle&&Sizzle||"undefined"!=typeof jQuery&&jQuery.find||"undefined"!=
typeof $&&$.find};kc.prototype={selectAll:function(a,b,c){return Be.uniqueSort(Be.select(a,b||c))},select:function(a,b,c){return Be.select(a,b||c)[0]},__class__:kc};U=function(){};j["dhx.Dom"]=U;U.__name__=["dhx","Dom"];U.select=function(a){return U.doc.select(a)};U.selectAll=function(a){return U.doc.selectAll(a)};U.selectNode=function(a){return Cb.create([new wa([a])])};U.selectNodes=function(a){return Cb.create([new wa(a)])};U.selectNodeData=function(a){return qc.create([new wa([a])])};ic=function(){};
j["dhx.Namespace"]=ic;ic.__name__=["dhx","Namespace"];ic.qualify=function(a){var b=a.indexOf(":");if(0>b)return null;var c=ic.prefix.get(u.substr(a,0,b));if(null==c)throw"unable to find a namespace for "+c;return new ue(c,u.substr(a,b+1,null))};ue=function(a,b){this.space=a;this.local=b};j["dhx.NSQualifier"]=ue;ue.__name__=["dhx","NSQualifier"];ue.prototype={local:null,space:null,__class__:ue};Db=function(a){Aa.call(this,a)};j["dhx.BoundSelection"]=Db;Db.__name__=["dhx","BoundSelection"];Db.__super__=
Aa;Db.prototype=H(Aa.prototype,{on:function(a,b,c){null==c&&(c=!1);return this.onNode(a,null==b?null:function(a,c){b(l.field(a,"__dhx_data__"),c)},c)},first:function(a){return this.firstNode(function(b){return a(l.field(b,"__dhx_data__"))})},map:function(a){for(var b=[],c=0,e=this.groups;c<e.length;){var f=e[c];++c;for(var h=new wa([]),m=0,f=u.iter(f.nodes);f.hasNext();){var g=f.next();if(null!=g)g.__dhx_data__=a(l.field(g,"__dhx_data__"),m++);h.nodes.push(g)}b.push(h)}return this.createSelection(b)},
filter:function(a){return this.filterNode(function(b,c){return a(l.field(b,"__dhx_data__"),c)})},sort:function(a){return this.sortNode(function(b,c){return a(l.field(b,"__dhx_data__"),l.field(c,"__dhx_data__"))})},each:function(a){return this.eachNode(function(b,c){a(l.field(b,"__dhx_data__"),c)})},selfData:function(){return this.dataf(function(a){return a})},dataf:function(a,b){if(null==b)for(var c=[],e=[],f=[],h=0,m=0,g=this.groups;m<g.length;){var i=g[m];++m;Aa.bind(i,a(l.field(i.parentNode,"__dhx_data__"),
h++),c,e,f)}else{c=[];e=[];f=[];m=h=0;for(g=this.groups;m<g.length;)i=g[m],++m,Aa.bindJoin(b,i,a(l.field(i.parentNode,"__dhx_data__"),h++),c,e,f)}return new rc(c,e,f)},data:function(a,b){var c=[],e=[],f=[];if(null==b)for(var h=0,m=this.groups;h<m.length;){var g=m[h];++h;Aa.bind(g,a,c,e,f)}else{h=0;for(m=this.groups;h<m.length;)g=m[h],++h,Aa.bindJoin(b,g,a,c,e,f)}return new rc(c,e,f)},transition:function(){return new Jd(this)},style:function(a){return new he(a,this)},property:function(a){return new ge(a,
this)},classed:function(){return new ee(this)},attr:function(a){return new de(a,this)},text:function(){return new ie(this)},html:function(){return new fe(this)},__class__:Db});Nc=function(a,b){Db.call(this,a);this._choice=b};j["dhx.UpdateSelection"]=Nc;Nc.__name__=["dhx","UpdateSelection"];Nc.__super__=Db;Nc.prototype=H(Db.prototype,{exit:function(){return this._choice.exit()},enter:function(){return this._choice.enter()},update:function(){return this},createSelection:function(a){return new Nc(a,
this._choice)},_choice:null,__class__:Nc});rc=function(a,b,c){this._update=a;this._enter=b;this._exit=c;Nc.call(this,this._update,this)};j["dhx.DataChoice"]=rc;rc.__name__=["dhx","DataChoice"];rc.merge=function(a,b){wa.merge(a,b._update)};rc.__super__=Nc;rc.prototype=H(Nc.prototype,{exit:function(){return new Kd(this._exit,this)},enter:function(){return new ve(this._enter,this)},_exit:null,_enter:null,_update:null,__class__:rc});qc=function(a){Db.call(this,a)};j["dhx.ResumeSelection"]=qc;qc.__name__=
["dhx","ResumeSelection"];qc.create=function(a){return new qc(a)};qc.__super__=Db;qc.prototype=H(Db.prototype,{createSelection:function(a){return new qc(a)},__class__:qc});ve=function(a,b){this.groups=a;this._choice=b};j["dhx.PreEnterSelection"]=ve;ve.__name__=["dhx","PreEnterSelection"];ve.prototype={_select:function(a){for(var b=[],c,e,f=0,h=this.groups;f<h.length;){var m=h[f];++f;b.push(c=new wa([]));c.parentNode=m.parentNode;for(var g=u.iter(m.nodes);g.hasNext();){var i=g.next();null!=i?(c.nodes.push(e=
a(m.parentNode)),e.__dhx_data__=l.field(i,"__dhx_data__")):c.nodes.push(null)}}rc.merge(b,this._choice);return this.createSelection(b)},createSelection:function(a){return new Ld(a,this._choice)},insert:function(a,b,c){var e=ic.qualify(a),f;return this._select(null==e?function(e){var f=ma.document.createElement(a),g=null!=b?b:U.selectNode(e).select(c).node();e.insertBefore(f,g);return f}:function(a){var f=(void 0).Browser.document.createElementNS(e.space,e.local),g=null!=b?b:U.selectNode(a).select(c).node();
a.insertBefore(f,g);return f})},append:function(a){var b=ic.qualify(a),c;return this._select(null==b?function(b){var c=ma.document.createElement(a);b.appendChild(c);return c}:function(a){var c=ma.document.createElementNS(b.space,b.local);a.appendChild(c);return c})},_choice:null,groups:null,__class__:ve};Ld=function(a,b){Db.call(this,a);this._choice=b};j["dhx.EnterSelection"]=Ld;Ld.__name__=["dhx","EnterSelection"];Ld.__super__=Db;Ld.prototype=H(Db.prototype,{update:function(){return this._choice.update()},
exit:function(){return this._choice.exit()},createSelection:function(a){return new Ld(a,this._choice)},_choice:null,__class__:Ld});Kd=function(a,b){jc.call(this,a);this._choice=b};j["dhx.ExitSelection"]=Kd;Kd.__name__=["dhx","ExitSelection"];Kd.__super__=jc;Kd.prototype=H(jc.prototype,{update:function(){return this._choice.update()},enter:function(){return this._choice.enter()},createSelection:function(a){return new Kd(a,this._choice)},_choice:null,__class__:Kd});$c=function(){};j["dhx.Svg"]=$c;$c.__name__=
["dhx","Svg"];$c.mouse=function(a){var b=(null!=a.ownerSVGElement?a.ownerSVGElement:a).createSVGPoint();if($c._usepage&&(ma.window.scrollX||ma.window.scrollY)){var c=U.selectNode(ma.document.body).append("svg:svg").style("position").string("absolute").style("top")["float"](0).style("left")["float"](0),e=c.node().getScreenCTM();$c._usepage=!(e.f||e.e);c.remove()}$c._usepage?(b.x=U.event.pageX,b.y=U.event.pageY):(b.x=U.event.clientX,b.y=U.event.clientY);b=b.matrixTransform(a.getScreenCTM().inverse());
return[b.x,b.y]};Ba=function(){};j["dhx.Timer"]=Ba;Ba.__name__=["dhx","Timer"];Ba.timer=function(a,b){null==b&&(b=0);var c=(new Date).getTime(),e=!1,f=Ba.queue;if(Math.isFinite(b)){for(;null!=f;){if(l.compareMethods(a,f.f)){f.then=c;f.delay=b;e=!0;break}f=f.next}if(!e)Ba.queue={f:a,then:c,delay:b,next:Ba.queue,flush:!1};if(0==Ba.interval)Ba.timeout=clearTimeout(Ba.timeout),Ba.interval=1,window.requestAnimationFrame(Ba._step)}};Ba.step=function(){for(var a,b=(new Date).getTime(),c=Ba.queue;null!=c;){a=
b-c.then;if(a>c.delay)c.flush=c.f(a);c=c.next}a=Ba._flush()-b;if(24<a){if(Math.isFinite(a))clearTimeout(Ba.timeout),Ba.timeout=setTimeout(Ba._step,a);Ba.interval=0}else Ba.interval=1,window.requestAnimationFrame(Ba._step)};Ba.flush=function(){for(var a,b=(new Date).getTime(),c=Ba.queue;null!=c;){a=b-c.then;if(0==c.delay)c.flush=c.f(a);c=c.next}Ba._flush()};Ba._flush=function(){var e;for(var a=null,b=Ba.queue,c=Math.POSITIVE_INFINITY;null!=b;)b.flush?(e=null!=a?a.next=b.next:Ba.queue=b.next,b=e):(c=
Math.min(c,b.then+b.delay),b=(a=b).next);return c};Xa=function(a){this.selection=a;var b=this._transitionId=0<Xa._inheritid?Xa._inheritid:++Xa._id;this._tweens=new ea;this._interpolators=[];this._remove=!1;this._stage=[];this._delay=[];this._duration=[];this._ease=Xa.DEFAULT_EASE;this._step=y(this,this.step);a.eachNode(function(a){l.hasField(a,"__dhx_transition__")?l.field(a,"__dhx_transition__").owner=b:a.__dhx_transition__={owner:b}});this.delay(null,0);this.duration(null,250)};j["dhx.BaseTransition"]=
Xa;Xa.__name__=["dhx","BaseTransition"];Xa.CUBIC_EQUATION=function(a){return Math.pow(a,3)};Xa.DEFAULT_EASE=function(a){return 0.5*(0.5>a?Xa.CUBIC_EQUATION(2*a):2-Xa.CUBIC_EQUATION(2-2*a))};Xa.prototype={_this:function(){return this},createTransition:function(){throw"abstract method";},selectAll:function(a){var b,a=this.createTransition(this.selection.selectAll(a));a._ease=this._ease;var c=this._delay,e=this._duration;b=-1;a.delay(function(a,e){return c[0<e?b:++b]});b=-1;a.delay(function(a,c){return e[0<
c?b:++b]});return a},select:function(a){var b,a=this.createTransition(this.selection.select(a));a._ease=this._ease;var c=this._delay,e=this._duration;b=-1;a.delay(function(){return c[++b]});b=-1;a.delay(function(){return e[++b]});return a},remove:function(a){null==a&&(a=!0);this._remove=a;return this._this()},ease:function(a){this._ease=a;return this._this()},duration:function(a,b){null==b&&(b=0);var c=-1,e=this;null!=a?(this._durationMax=0,this.selection.eachNode(function(b,h){var m=e._duration[++c]=
a(b,h);if(m>e._durationMax)e._durationMax=m})):(this._durationMax=b,this.selection.eachNode(function(){e._duration[++c]=e._durationMax}));return this._this()},delay:function(a,b){null==b&&(b=0);var c=Math.POSITIVE_INFINITY,e=-1,f=this;null!=a?this.selection.eachNode(function(b,m){var g=f._delay[++e]=a(b,m);g<c&&(c=g)}):(c=b,this.selection.eachNode(function(){f._delay[++e]=c}));Ba.timer(this._step,c);return this._this()},stop:function(){var a=-1,b=this;this.selection.eachNode(function(c){b._stage[++a]=
2;l.deleteField(c,"__dhx_transition__")});return this._this()},endNode:function(a){this._end=a;return this._this()},startNode:function(a){this._start=a;return this._this()},step:function(a){var b=!0,c=-1,e=this;this.selection.eachNode(function(f,h){if(2!=e._stage[++c]){var m=(a-e._delay[c])/e._duration[c],g=l.field(f,"__dhx_transition__"),i,k=e._interpolators[c];if(1>m){if(b=!1,0>m)return}else m=1;if(null!=e._stage[c]){if(null==g||g.active!=e._transitionId){e._stage[c]=2;return}}else{if(null==g||
g.active>e._transitionId){e._stage[c]=2;return}e._stage[c]=1;null!=e._start&&e._start(f,h);k=e._interpolators[c]=new ea;g.active=e._transitionId;for(i=e._tweens.keys();i.hasNext();){var w=i.next(),Da=e._tweens.get(w);k.set(w,Da(f,h))}}i=e._ease(m);for(Da=e._tweens.keys();Da.hasNext();)w=Da.next(),k.get(w)(i);if(1==m&&(e._stage[c]=2,g.active==e._transitionId))m=g.owner,m==e._transitionId&&(l.deleteField(f,"__dhx_transition__"),e._remove&&f.parentNode.removeChild(f)),Xa._inheritid=e._transitionId,null!=
e._end&&e._end(f,h),Xa._inheritid=0,g.owner=m}});return b},selection:null,_end:null,_start:null,_step:null,_ease:null,_durationMax:null,_duration:null,_delay:null,_stage:null,_remove:null,_interpolators:null,_tweens:null,_transitionId:null,__class__:Xa};Id=function(a){Xa.call(this,a)};j["dhx.UnboundTransition"]=Id;Id.__name__=["dhx","UnboundTransition"];Id.__super__=Xa;Id.prototype=H(Xa.prototype,{createTransition:function(a){return new Id(a)},attr:function(a){return new Kc(a,this,this._tweens)},
style:function(a){return new Lc(a,this,this._tweens)},text:function(){return new Mc(this,this._tweens)},__class__:Id});Jd=function(a){Xa.call(this,a)};j["dhx.BoundTransition"]=Jd;Jd.__name__=["dhx","BoundTransition"];Jd.__super__=Xa;Jd.prototype=H(Xa.prototype,{createTransition:function(a){return new Jd(a)},end:function(a){return this.endNode(function(b,c){a(l.field(b,"__dhx_data__"),c)})},start:function(a){return this.startNode(function(b,c){a(l.field(b,"__dhx_data__"),c)})},attr:function(a){return new je(a,
this,this._tweens)},style:function(a){return new ke(a,this,this._tweens)},text:function(){return new le(this,this._tweens)},__class__:Jd});var lb,ub,we,xe;Ab={__ename__:["erazor","_Parser","ParseContext"],__constructs__:["literal","code"]};rb=void 0;Ab.literal=["literal",0];Ab.literal.toString=v;Ab.literal.__enum__=Ab;Ab.code=["code",1];Ab.code.toString=v;Ab.code.__enum__=Ab;rb={__ename__:["erazor","_Parser","ParseResult"],__constructs__:["keepGoing","doneIncludeCurrent","doneSkipCurrent"],keepGoing:["keepGoing",
0]};rb.keepGoing.toString=v;rb.keepGoing.__enum__=rb;rb.doneIncludeCurrent=["doneIncludeCurrent",1];rb.doneIncludeCurrent.toString=v;rb.doneIncludeCurrent.__enum__=rb;rb.doneSkipCurrent=["doneSkipCurrent",2];rb.doneSkipCurrent.toString=v;rb.doneSkipCurrent.__enum__=rb;lb=function(){this.condMatch=new R("^@(?:if|for|while)\\b","");this.inConditionalMatch=new R("^(?:\\}[\\s\r\n]*else if\\b|\\}[\\s\r\n]*else[\\s\r\n]*{)","");this.variableChar=new R("^[_\\w\\.]$","")};j["erazor.Parser"]=lb;lb.__name__=
["erazor","Parser"];lb.prototype={parseWithPosition:function(a){this.pos=0;var b=[];this.bracketStack=[];for(this.conditionalStack=0;""!=a;){this.context=this.parseContext(a);var c=this.parseBlock(a);null!=c.block&&b.push(c);a=u.substr(a,c.length,null);this.pos+=c.length}if(0!=this.bracketStack.length)throw new fc(lb.bracketMismatch,this.pos);return b},parse:function(a){this.pos=0;var b=[];this.bracketStack=[];for(this.conditionalStack=0;""!=a;){this.context=this.parseContext(a);var c=this.parseBlock(a);
null!=c.block&&b.push(c.block);a=u.substr(a,c.length,null);this.pos+=c.length}if(0!=this.bracketStack.length)throw new fc(lb.bracketMismatch,this.pos);return b},escapeLiteral:function(a){return F.replace(a,lb.at+lb.at,lb.at)},parseLiteral:function(a){for(var b=a.length,c=-1;++c<b;){var e=a.charAt(c);if(e==lb.at){if(b>c+1&&a.charAt(c+1)!=lb.at)return{block:ub.literal(this.escapeLiteral(u.substr(a,0,c))),length:c,start:this.pos};++c}else if("}"==e)if(0<this.bracketStack.length)switch(this.bracketStack[this.bracketStack.length-
1][1]){case 1:return{block:ub.literal(this.escapeLiteral(u.substr(a,0,c))),length:c,start:this.pos};case 0:this.bracketStack.pop()}else throw new fc(lb.bracketMismatch,this.pos);else"{"==e&&this.bracketStack.push(Ab.literal)}return{block:ub.literal(this.escapeLiteral(a)),length:b,start:this.pos}},parseString:function(a,b,c){for(var e=!1,f=!1,h=-1;++h<a.length;){var m=a.charAt(h);if(!f&&!e){switch(b(m)[1]){case 1:return u.substr(a,0,h+1);case 2:return u.substr(a,0,h)}'"'==m?f=!0:"'"==m&&(e=!0)}else f&&
'"'==m&&"\\"!=a.charAt(h-1)?f=!1:e&&"'"==m&&"\\"!=a.charAt(h-1)&&(e=!1)}if(c)throw new fc("Failed to find a closing delimiter: ",this.pos,u.substr(a,0,100));return a},parseCodeBlock:function(a){if(0<this.bracketStack.length&&"}"==this.peek(a)){if(this.inConditionalMatch.match(a))return a=this.parseScriptPart(a,"","{"),{block:ub.codeBlock(a),length:a.length,start:this.pos};var b;switch(this.bracketStack.pop()[1]){case 1:b=0>--this.conditionalStack;break;default:b=!0}if(b)throw new fc(lb.bracketMismatch,
this.pos);return{block:ub.codeBlock("}"),length:1,start:this.pos}}if(this.condMatch.match(a))return this.bracketStack.push(Ab.code),++this.conditionalStack,this.parseConditional(a);if("@"==this.peek(a)&&this.isIdentifier(this.peek(a,1)))return this.parseVariable(a);b=this.peek(a,1);var a=this.parseScriptPart(u.substr(a,1,null),b,"{"==b?"}":")"),c=F.trim(u.substr(a,1,a.length-2));return"{"==b?{block:ub.codeBlock(c),length:a.length+1,start:this.pos}:{block:ub.printBlock(c),length:a.length+1,start:this.pos}},
parseVariableChar:function(a){return this.variableChar.match(a)?rb.keepGoing:rb.doneSkipCurrent},parseVariable:function(a){var b="",c=null,c=null,a=u.substr(a,1,null);do{c=this.acceptIdentifier(a);a=u.substr(a,c.length,null);b+=c;for(c=this.peek(a);"("==c||"["==c;)c=this.acceptBracket(a,c),a=u.substr(a,c.length,null),b+=c,c=this.peek(a);if("."==c&&this.isIdentifier(this.peek(a,1)))a=u.substr(a,1,null),b+=".";else break}while(null!=c);return{block:ub.printBlock(b),length:b.length+1,start:this.pos}},
peek:function(a,b){null==b&&(b=0);return a.length>b?a.charAt(b):null},parseConditional:function(a){a=this.parseScriptPart(a,"","{");return{block:ub.codeBlock(u.substr(a,1,null)),length:a.length,start:this.pos}},parseBlock:function(a){return this.context==Ab.code?this.parseCodeBlock(a):this.parseLiteral(a)},acceptBracket:function(a,b){return this.parseScriptPart(a,b,"("==b?")":"]")},acceptIdentifier:function(a){var b=!0,c=this;return this.accept(a,function(a){a=c.isIdentifier(a,b);b=!1;return a},!1)},
isIdentifier:function(a,b){null==b&&(b=!0);return b?"a"<=a&&"z">=a||"A"<=a&&"Z">=a||"_"==a:"a"<=a&&"z">=a||"A"<=a&&"Z">=a||"0"<=a&&"9">=a||"_"==a},accept:function(a,b,c){return this.parseString(a,function(a){return b(a)?rb.keepGoing:rb.doneSkipCurrent},c)},parseContext:function(a){if(this.peek(a)==lb.at&&this.peek(a,1)!=lb.at)return Ab.code;if(0<this.conditionalStack&&"}"==this.peek(a))switch(this.bracketStack[this.bracketStack.length-1][1]){case 1:return Ab.code}return Ab.literal},parseScriptPart:function(a,
b,c){for(var e=!1,f=!1,h=""==b?1:0,m=-1;++m<a.length;){var g=a.charAt(m);if(!f&&!e)if(g==b)++h;else if(g==c){--h;if(0==h)return u.substr(a,0,m+1);if(0>h)throw new fc("Unbalanced braces for block: ",this.pos,u.substr(a,0,100));}else'"'==g?f=!0:"'"==g&&(e=!0);else f&&'"'==g&&"\\"!=a.charAt(m-1)?f=!1:e&&"'"==g&&"\\"!=a.charAt(m-1)&&(e=!1)}throw new fc("Failed to find a closing delimiter for the script block: ",this.pos,u.substr(a,0,100));},pos:null,conditionalStack:null,bracketStack:null,context:null,
variableChar:null,inConditionalMatch:null,condMatch:null,__class__:lb};we=function(a){this.context=a};j["erazor.ScriptBuilder"]=we;we.__name__=["erazor","ScriptBuilder"];we.prototype={blockToString:function(a){switch(a[1]){case 0:return this.context+".add('"+F.replace(a[2],"'","\\'")+"');\n";case 1:return a[2]+"\n";case 2:return this.context+".add("+a[2]+");\n"}},build:function(a){for(var b=new bb,c=0;c<a.length;){var e=a[c];++c;b.b+=n.string(this.blockToString(e))}return b.b},context:null,__class__:we};
ub={__ename__:["erazor","TBlock"],__constructs__:["literal","codeBlock","printBlock"]};ub.literal=function(a){a=["literal",0,a];a.__enum__=ub;a.toString=v;return a};ub.codeBlock=function(a){a=["codeBlock",1,a];a.__enum__=ub;a.toString=v;return a};ub.printBlock=function(a){a=["printBlock",2,a];a.__enum__=ub;a.toString=v;return a};xe=function(a){this.template=a};j["erazor.Template"]=xe;xe.__name__=["erazor","Template"];xe.prototype={setInterpreterVars:function(a,b){if(I.__instanceof(b,ea))for(var c=
b.keys();c.hasNext();){var e=c.next();a.variables.set(e,b.get(e))}else for(var c=0,f=l.fields(b);c<f.length;)e=f[c],++c,a.variables.set(e,l.field(b,e))},execute:function(a){var b=new bb,c=(new lb).parse(this.template),c=(new we("__b__")).build(c),c=(new hc).parseString(c),e=new $d;this.variables=e.variables;var f=[];this.setInterpreterVars(e,a);e.variables.set("__b__",b);e.variables.set("__string_buf__",function(a){f.push(a);return new bb});e.variables.set("__restore_buf__",function(){return f.pop()});
e.execute(c);return b.b},variables:null,template:null,__class__:xe};fc=function(a,b,c){this.msg=a;this.pos=b;this.excerpt=c};j["erazor.error.ParserError"]=fc;fc.__name__=["erazor","error","ParserError"];fc.prototype={toString:function(){var a=this.excerpt;if(null!=a){var b=a.indexOf("\n");-1!=b&&(a=u.substr(a,0,b))}return this.msg+" @ "+this.pos+(null!=a?' ( "'+a+'" )':"")},excerpt:null,pos:null,msg:null,__class__:fc};hc=void 0;Ec=void 0;qa=void 0;jb=void 0;M=void 0;Q=void 0;Nb=void 0;z=void 0;Ec=
function(){this.locals=new ea;this.declared=[];this.variables=new ea;this.variables.set("null",null);this.variables.set("true",!0);this.variables.set("false",!1);this.variables.set("trace",function(a){qe.trace(n.string(a),{fileName:"hscript",lineNumber:0})});this.initOps()};j["hscript.Interp"]=Ec;Ec.__name__=["hscript","Interp"];Ec.prototype={cnew:function(a,b){return K.createInstance(K.resolveClass(a),b)},call:function(a,b,c){return b.apply(a,c)},set:function(a,b,c){if(null==a)throw qa.EInvalidAccess(b);
return a[b]=c},get:function(a,b){if(null==a)throw qa.EInvalidAccess(b);return l.field(a,b)},forLoop:function(a,b,c){var e=this.declared.length;this.declared.push({n:a,old:this.locals.get(a)});b=this.makeIterator(this.expr(b));try{for(;b.hasNext();){this.locals.set(a,{r:b.next()});try{this.expr(c)}catch(f){if(I.__instanceof(f,jb.Stop))switch(f[1]){case 0:throw"__break__";case 2:throw f;}else throw f;}}}catch(h){if("__break__"!=h)throw h;}this.restore(e)},makeIterator:function(a){try{a=ra(a)()}catch(b){}if(null==
a.hasNext||null==a.next)throw qa.EInvalidIterator(a);return a},whileLoop:function(a,b){var c=this.declared.length;try{for(;!0==this.expr(a);)try{this.expr(b)}catch(e){if(I.__instanceof(e,jb.Stop))switch(e[1]){case 0:throw"__break__";case 2:throw e;}else throw e;}}catch(f){if("__break__"!=f)throw f;}this.restore(c)},expr:function(a){switch(a[1]){case 0:a=a[2];switch(a[1]){case 0:return a[2];case 1:return a[2];case 2:return a[2];case 3:return a[2]}break;case 1:var a=a[2],b=this.locals.get(a);if(null!=
b)return b.r;b=this.variables.get(a);if(null==b&&!this.variables.exists(a))throw qa.EUnknownVariable(a);return b;case 2:b=a[4];a=a[2];this.declared.push({n:a,old:this.locals.get(a)});this.locals.set(a,{r:null==b?null:this.expr(b)});break;case 3:return this.expr(a[2]);case 4:for(var c=a[2],e=this.declared.length,b=null,a=0;a<c.length;)b=c[a],++a,b=this.expr(b);this.restore(e);return b;case 5:return e=a[3],a=a[2],this.get(this.expr(a),e);case 6:b=a[4];e=a[3];a=a[2];c=this.binops.get(a);if(null==c)throw qa.EInvalidOp(a);
return c(e,b);case 7:switch(b=a[4],e=a[3],a=a[2],a){case "!":return!0!=this.expr(b);case "-":return-this.expr(b);case "++":return this.increment(b,e,1);case "--":return this.increment(b,e,-1);case "~":return~this.expr(b);default:throw qa.EInvalidOp(a);}case 8:e=a[3];c=a[2];b=[];for(a=0;a<e.length;){var f=e[a];++a;b.push(this.expr(f))}a=c;switch(a[1]){case 5:e=a[3];a=a[2];a=this.expr(a);if(null==a)throw qa.EInvalidAccess(e);return this.call(a,l.field(a,e),b);default:return this.call(null,this.expr(c),
b)}case 9:return b=a[4],e=a[3],!0==this.expr(a[2])?this.expr(e):null==b?null:this.expr(b);case 10:this.whileLoop(a[2],a[3]);break;case 11:this.forLoop(a[2],a[3],a[4]);break;case 12:throw jb.Stop.SBreak;case 13:throw jb.Stop.SContinue;case 15:throw a=a[2],jb.Stop.SReturn(null==a?null:this.expr(a));case 14:var b=a[4],h=a[3],m=a[2],g=this.duplicate(this.locals),i=this,a=l.makeVarArgs(function(a){if(a.length!=m.length)throw"Invalid number of parameters";var b=i.locals;i.locals=i.duplicate(g);for(var c=
0,e=m.length;c<e;){var f=c++;i.locals.set(m[f].name,{r:a[f]})}a=null;try{a=i.exprReturn(h)}catch(k){throw i.locals=b,k;}i.locals=b;return a});null!=b&&this.variables.set(b,a);return a;case 17:c=a[2];e=[];for(a=0;a<c.length;)b=c[a],++a,e.push(this.expr(b));return e;case 16:return b=a[3],this.expr(a[2])[this.expr(b)];case 18:c=a[3];f=a[2];e=[];for(a=0;a<c.length;)b=c[a],++a,e.push(this.expr(b));return this.cnew(f,e);case 19:throw this.expr(a[2]);case 20:c=a[5];f=a[3];a=a[2];e=this.declared.length;try{return b=
this.expr(a),this.restore(e),b}catch(k){if(I.__instanceof(k,jb.Stop))throw k;a=k;this.restore(e);this.declared.push({n:f,old:this.locals.get(f)});this.locals.set(f,{r:a});b=this.expr(c);this.restore(e);return b}case 21:e=a[2];c={};for(a=0;a<e.length;)b=e[a],++a,this.set(c,b.name,this.expr(b.e));return c;case 22:return b=a[4],e=a[3],!0==this.expr(a[2])?this.expr(e):this.expr(b)}return null},restore:function(a){for(;this.declared.length>a;){var b=this.declared.pop();this.locals.set(b.n,b.old)}},duplicate:function(a){for(var b=
new ea,c=a.keys();c.hasNext();){var e=c.next();b.set(e,a.get(e))}return b},exprReturn:function(a){try{return this.expr(a)}catch(b){if(I.__instanceof(b,jb.Stop))switch(b[1]){case 0:throw"Invalid break";case 1:throw"Invalid continue";case 2:return b[2]}else throw b;}return null},execute:function(a){this.locals=new ea;return this.exprReturn(a)},increment:function(a,b,c){switch(a[1]){case 1:var e=a[2],f=this.locals.get(e),a=null==f?this.variables.get(e):f.r;b?(a+=c,null==f?this.variables.set(e,a):f.r=
a):null==f?this.variables.set(e,a+c):f.r=a+c;return a;case 5:return e=a[3],f=this.expr(a[2]),a=this.get(f,e),b?(a+=c,this.set(f,e,a)):this.set(f,e,a+c),a;case 16:return f=a[3],e=this.expr(a[2]),f=this.expr(f),a=e[f],b?(a+=c,e[f]=a):e[f]=a+c,a;default:throw qa.EInvalidOp(0<c?"++":"--");}},evalAssignOp:function(a,b,c,e){switch(c[1]){case 1:var a=c[2],f=this.locals.get(a),b=b(this.expr(c),this.expr(e));null==f?this.variables.set(a,b):f.r=b;break;case 5:a=c[3];c=this.expr(c[2]);b=b(this.get(c,a),this.expr(e));
b=this.set(c,a,b);break;case 16:a=c[3];c=this.expr(c[2]);a=this.expr(a);b=b(c[a],this.expr(e));c[a]=b;break;default:throw qa.EInvalidOp(a);}return b},assignOp:function(a,b){var c=this;this.binops.set(a,function(e,f){return c.evalAssignOp(a,b,e,f)})},assign:function(a,b){var c=this.expr(b);switch(a[1]){case 1:var e=a[2],f=this.locals.get(e);null==f?this.variables.set(e,c):f.r=c;break;case 5:e=a[3];c=this.set(this.expr(a[2]),e,c);break;case 16:e=a[3];this.expr(a[2])[this.expr(e)]=c;break;default:throw qa.EInvalidOp("=");
}return c},initOps:function(){var a=this;this.binops=new ea;this.binops.set("+",function(b,c){return a.expr(b)+a.expr(c)});this.binops.set("-",function(b,c){return a.expr(b)-a.expr(c)});this.binops.set("*",function(b,c){return a.expr(b)*a.expr(c)});this.binops.set("/",function(b,c){return a.expr(b)/a.expr(c)});this.binops.set("%",function(b,c){return a.expr(b)%a.expr(c)});this.binops.set("&",function(b,c){return a.expr(b)&a.expr(c)});this.binops.set("|",function(b,c){return a.expr(b)|a.expr(c)});
this.binops.set("^",function(b,c){return a.expr(b)^a.expr(c)});this.binops.set("<<",function(b,c){return a.expr(b)<<a.expr(c)});this.binops.set(">>",function(b,c){return a.expr(b)>>a.expr(c)});this.binops.set(">>>",function(b,c){return a.expr(b)>>>a.expr(c)});this.binops.set("==",function(b,c){return a.expr(b)==a.expr(c)});this.binops.set("!=",function(b,c){return a.expr(b)!=a.expr(c)});this.binops.set(">=",function(b,c){return a.expr(b)>=a.expr(c)});this.binops.set("<=",function(b,c){return a.expr(b)<=
a.expr(c)});this.binops.set(">",function(b,c){return a.expr(b)>a.expr(c)});this.binops.set("<",function(b,c){return a.expr(b)<a.expr(c)});this.binops.set("||",function(b,c){return!0==a.expr(b)||!0==a.expr(c)});this.binops.set("&&",function(b,c){return!0==a.expr(b)&&!0==a.expr(c)});this.binops.set("=",y(this,this.assign));this.binops.set("...",function(b,c){return new ze(a.expr(b),a.expr(c))});this.assignOp("+=",function(a,c){return a+c});this.assignOp("-=",function(a,c){return a-c});this.assignOp("*=",
function(a,c){return a*c});this.assignOp("/=",function(a,c){return a/c});this.assignOp("%=",function(a,c){return a%c});this.assignOp("&=",function(a,c){return a&c});this.assignOp("|=",function(a,c){return a|c});this.assignOp("^=",function(a,c){return a^c});this.assignOp("<<=",function(a,c){return a<<c});this.assignOp(">>=",function(a,c){return a>>c});this.assignOp(">>>=",function(a,c){return a>>>c})},declared:null,binops:null,locals:null,variables:null,__class__:Ec};$d=function(){Ec.call(this)};j["erazor.hscript.EnhancedInterp"]=
$d;$d.__name__=["erazor","hscript","EnhancedInterp"];$d.__super__=Ec;$d.prototype=H(Ec.prototype,{call:function(a,b,c){c=c.concat([null,null,null,null,null]);return b.apply(a,c)},get:function(a,b){if(null==a)throw qa.EInvalidAccess(b);return l.field(a,b)},__class__:$d});Ub=void 0;Vb=void 0;qe=void 0;ae=void 0;be=void 0;Yc=void 0;Dc=void 0;Wb=void 0;S=void 0;Ub=function(a){for(var b=a.length,c=1;b>1<<c;)c++;if(8<c||b!=1<<c)throw"BaseCode : base length must be a power of two.";this.base=a;this.nbits=
c};j["haxe.BaseCode"]=Ub;Ub.__name__=["haxe","BaseCode"];Ub.encode=function(a,b){return(new Ub(pa.ofString(b))).encodeString(a)};Ub.decode=function(a,b){return(new Ub(pa.ofString(b))).decodeString(a)};Ub.prototype={decodeString:function(a){return this.decodeBytes(pa.ofString(a)).toString()},encodeString:function(a){return this.encodeBytes(pa.ofString(a)).toString()},decodeBytes:function(a){var b=this.nbits;null==this.tbl&&this.initTable();for(var c=this.tbl,e=a.length*b>>3,f=pa.alloc(e),h=0,m=0,g=
0,i=0;i<e;){for(;8>m;){var m=m+b,h=h<<b,k=c[a.b[g++]];if(-1==k)throw"BaseCode : invalid encoded char";h|=k}m-=8;f.b[i++]=h>>m&255}return f},initTable:function(){for(var a=[],b=0;256>b;){var c=b++;a[c]=-1}for(var e=0,b=this.base.length;e<b;)c=e++,a[this.base.b[c]]=c;this.tbl=a},encodeBytes:function(a){for(var b=this.nbits,c=this.base,e=8*a.length/b|0,f=pa.alloc(e+(0==8*a.length%b?0:1)),h=0,m=0,g=(1<<b)-1,i=0,k=0;k<e;){for(;m<b;)m+=8,h<<=8,h|=a.b[i++];m-=b;f.b[k++]=c.b[h>>m&g]&255}0<m&&(f.b[k++]=c.b[h<<
b-m&g]&255);return f},tbl:null,nbits:null,base:null,__class__:Ub};ae=function(a,b){this.elt=a;this.next=b};j["haxe.FastCell"]=ae;ae.__name__=["haxe","FastCell"];ae.prototype={next:null,elt:null,__class__:ae};be=function(){};j["haxe.FastList"]=be;be.__name__=["haxe","FastList"];be.prototype={pop:function(){var a=this.head;if(null==a)return null;this.head=a.next;return a.elt},add:function(a){this.head=new ae(a,this.head)},head:null,__class__:be};Yc=function(a){this.url=a;this.headers=new ea;this.params=
new ea;this.async=!0};j["haxe.Http"]=Yc;Yc.__name__=["haxe","Http"];Yc.prototype={onStatus:function(){},onError:function(){},onData:function(){},request:function(a){var b=this,c=ma.createXMLHttpRequest(),e=function(){if(4==c.readyState){var a;try{a=c.status}catch(e){a=null}void 0==a&&(a=null);if(null!=a)b.onStatus(a);if(null!=a&&200<=a&&400>a)b.onData(c.responseText);else if(null==a)b.onError("Failed to connect or resolve host");else switch(a){case 12029:b.onError("Failed to connect to host");break;
case 12007:b.onError("Unknown host");break;default:b.onError("Http Error #"+c.status)}}};if(this.async)c.onreadystatechange=e;var f=this.postData;if(null!=f)a=!0;else for(var h=this.params.keys();h.hasNext();)var m=h.next(),f=null==f?"":f+"&",f=f+(F.urlEncode(m)+"="+F.urlEncode(this.params.get(m)));try{if(a)c.open("POST",this.url,this.async);else if(null!=f){var g=1>=this.url.split("?").length;c.open("GET",this.url+(g?"?":"&")+f,this.async);f=null}else c.open("GET",this.url,this.async)}catch(i){this.onError(i.toString());
return}null==this.headers.get("Content-Type")&&a&&null==this.postData&&c.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(a=this.headers.keys();a.hasNext();)h=a.next(),c.setRequestHeader(h,this.headers.get(h));c.send(f);this.async||e(null)},setParameter:function(a,b){this.params.set(a,b)},setHeader:function(a,b){this.headers.set(a,b)},params:null,headers:null,postData:null,async:null,url:null,__class__:Yc};Vb=function(){};j["haxe.Int32"]=Vb;Vb.__name__=["haxe","Int32"];Vb.toInt=
function(a){if((a>>30&1)!=a>>>31)throw"Overflow "+n.string(a);return a};qe=function(){};j["haxe.Log"]=qe;qe.__name__=["haxe","Log"];qe.trace=function(a,b){I.__trace(a,b)};Dc=function(){};j["haxe.Md5"]=Dc;Dc.__name__=["haxe","Md5"];Dc.encode=function(a){return(new Dc).doEncode(a)};Dc.prototype={doEncode:function(a){for(var a=this.str2blks(a),b=1732584193,c=-271733879,e=-1732584194,f=271733878,h=0;h<a.length;)var m=b,g=c,i=e,k=f,b=this.ff(b,c,e,f,a[h],7,-680876936),f=this.ff(f,b,c,e,a[h+1],12,-389564586),
e=this.ff(e,f,b,c,a[h+2],17,606105819),c=this.ff(c,e,f,b,a[h+3],22,-1044525330),b=this.ff(b,c,e,f,a[h+4],7,-176418897),f=this.ff(f,b,c,e,a[h+5],12,1200080426),e=this.ff(e,f,b,c,a[h+6],17,-1473231341),c=this.ff(c,e,f,b,a[h+7],22,-45705983),b=this.ff(b,c,e,f,a[h+8],7,1770035416),f=this.ff(f,b,c,e,a[h+9],12,-1958414417),e=this.ff(e,f,b,c,a[h+10],17,-42063),c=this.ff(c,e,f,b,a[h+11],22,-1990404162),b=this.ff(b,c,e,f,a[h+12],7,1804603682),f=this.ff(f,b,c,e,a[h+13],12,-40341101),e=this.ff(e,f,b,c,a[h+14],
17,-1502002290),c=this.ff(c,e,f,b,a[h+15],22,1236535329),b=this.gg(b,c,e,f,a[h+1],5,-165796510),f=this.gg(f,b,c,e,a[h+6],9,-1069501632),e=this.gg(e,f,b,c,a[h+11],14,643717713),c=this.gg(c,e,f,b,a[h],20,-373897302),b=this.gg(b,c,e,f,a[h+5],5,-701558691),f=this.gg(f,b,c,e,a[h+10],9,38016083),e=this.gg(e,f,b,c,a[h+15],14,-660478335),c=this.gg(c,e,f,b,a[h+4],20,-405537848),b=this.gg(b,c,e,f,a[h+9],5,568446438),f=this.gg(f,b,c,e,a[h+14],9,-1019803690),e=this.gg(e,f,b,c,a[h+3],14,-187363961),c=this.gg(c,
e,f,b,a[h+8],20,1163531501),b=this.gg(b,c,e,f,a[h+13],5,-1444681467),f=this.gg(f,b,c,e,a[h+2],9,-51403784),e=this.gg(e,f,b,c,a[h+7],14,1735328473),c=this.gg(c,e,f,b,a[h+12],20,-1926607734),b=this.hh(b,c,e,f,a[h+5],4,-378558),f=this.hh(f,b,c,e,a[h+8],11,-2022574463),e=this.hh(e,f,b,c,a[h+11],16,1839030562),c=this.hh(c,e,f,b,a[h+14],23,-35309556),b=this.hh(b,c,e,f,a[h+1],4,-1530992060),f=this.hh(f,b,c,e,a[h+4],11,1272893353),e=this.hh(e,f,b,c,a[h+7],16,-155497632),c=this.hh(c,e,f,b,a[h+10],23,-1094730640),
b=this.hh(b,c,e,f,a[h+13],4,681279174),f=this.hh(f,b,c,e,a[h],11,-358537222),e=this.hh(e,f,b,c,a[h+3],16,-722521979),c=this.hh(c,e,f,b,a[h+6],23,76029189),b=this.hh(b,c,e,f,a[h+9],4,-640364487),f=this.hh(f,b,c,e,a[h+12],11,-421815835),e=this.hh(e,f,b,c,a[h+15],16,530742520),c=this.hh(c,e,f,b,a[h+2],23,-995338651),b=this.ii(b,c,e,f,a[h],6,-198630844),f=this.ii(f,b,c,e,a[h+7],10,1126891415),e=this.ii(e,f,b,c,a[h+14],15,-1416354905),c=this.ii(c,e,f,b,a[h+5],21,-57434055),b=this.ii(b,c,e,f,a[h+12],6,
1700485571),f=this.ii(f,b,c,e,a[h+3],10,-1894986606),e=this.ii(e,f,b,c,a[h+10],15,-1051523),c=this.ii(c,e,f,b,a[h+1],21,-2054922799),b=this.ii(b,c,e,f,a[h+8],6,1873313359),f=this.ii(f,b,c,e,a[h+15],10,-30611744),e=this.ii(e,f,b,c,a[h+6],15,-1560198380),c=this.ii(c,e,f,b,a[h+13],21,1309151649),b=this.ii(b,c,e,f,a[h+4],6,-145523070),f=this.ii(f,b,c,e,a[h+11],10,-1120210379),e=this.ii(e,f,b,c,a[h+2],15,718787259),c=this.ii(c,e,f,b,a[h+9],21,-343485551),b=this.addme(b,m),c=this.addme(c,g),e=this.addme(e,
i),f=this.addme(f,k),h=h+16;return this.rhex(b)+this.rhex(c)+this.rhex(e)+this.rhex(f)},ii:function(a,b,c,e,f,h,m){return this.cmn(this.bitXOR(c,this.bitOR(b,~e)),a,b,f,h,m)},hh:function(a,b,c,e,f,h,m){return this.cmn(this.bitXOR(this.bitXOR(b,c),e),a,b,f,h,m)},gg:function(a,b,c,e,f,h,m){return this.cmn(this.bitOR(this.bitAND(b,e),this.bitAND(c,~e)),a,b,f,h,m)},ff:function(a,b,c,e,f,h,m){return this.cmn(this.bitOR(this.bitAND(b,c),this.bitAND(~b,e)),a,b,f,h,m)},cmn:function(a,b,c,e,f,h){return this.addme(this.rol(this.addme(this.addme(b,
a),this.addme(e,h)),f),c)},rol:function(a,b){return a<<b|a>>>32-b},str2blks:function(a){for(var b=(a.length+8>>6)+1,c=[],e=16*b,f=0;f<e;){var h=f++;c[h]=0}for(h=0;h<a.length;)c[h>>2]|=u.cca(a,h)<<8*((8*a.length+h)%4),h++;c[h>>2]|=128<<8*((8*a.length+h)%4);a=8*a.length;b=16*b-2;c[b]=a&255;c[b]|=(a>>>8&255)<<8;c[b]|=(a>>>16&255)<<16;c[b]|=(a>>>24&255)<<24;return c},rhex:function(a){for(var b="",c=0;4>c;)var e=c++,b=b+("0123456789abcdef".charAt(a>>8*e+4&15)+"0123456789abcdef".charAt(a>>8*e&15));return b},
addme:function(a,b){var c=(a&65535)+(b&65535);return(a>>16)+(b>>16)+(c>>16)<<16|c&65535},bitAND:function(a,b){return(a>>>1&b>>>1)<<1|a&1&b&1},bitXOR:function(a,b){return(a>>>1^b>>>1)<<1|a&1^b&1},bitOR:function(a,b){return(a>>>1|b>>>1)<<1|a&1|b&1},__class__:Dc};Wb=function(a){var b=this;this.id=setInterval(function(){b.run()},a)};j["haxe.Timer"]=Wb;Wb.__name__=["haxe","Timer"];Wb.delay=function(a,b){var c=new Wb(b);c.run=function(){c.stop();a()};return c};Wb.prototype={run:function(){},stop:function(){if(null!=
this.id)clearInterval(this.id),this.id=null},id:null,__class__:Wb};S={Bytes:function(a,b){this.length=a;this.b=b}};j["haxe.io.Bytes"]=S.Bytes;S.Bytes.__name__=["haxe","io","Bytes"];S.Bytes.alloc=function(a){for(var b=[],c=0;c<a;)c++,b.push(0);return new S.Bytes(a,b)};S.Bytes.ofString=function(a){for(var b=[],c=0,e=a.length;c<e;){var f=c++,f=u.cca(a,f);127>=f?b.push(f):(2047>=f?b.push(192|f>>6):(65535>=f?b.push(224|f>>12):(b.push(240|f>>18),b.push(128|f>>12&63)),b.push(128|f>>6&63)),b.push(128|f&63))}return new S.Bytes(b.length,
b)};S.Bytes.prototype={toString:function(){return this.readString(0,this.length)},readString:function(a,b){if(0>a||0>b||a+b>this.length)throw S.Error.OutsideBounds;for(var c="",e=this.b,f=String.fromCharCode,h=a,m=a+b;h<m;){var g=e[h++];if(128>g){if(0==g)break;c+=f(g)}else if(224>g)c+=f((g&63)<<6|e[h++]&127);else if(240>g)var i=e[h++],c=c+f((g&31)<<12|(i&127)<<6|e[h++]&127);else var i=e[h++],k=e[h++],c=c+f((g&15)<<18|(i&127)<<12|k<<6&127|e[h++]&127)}return c},b:null,length:null,__class__:S.Bytes};
S.BytesBuffer=function(){this.b=[]};j["haxe.io.BytesBuffer"]=S.BytesBuffer;S.BytesBuffer.__name__=["haxe","io","BytesBuffer"];S.BytesBuffer.prototype={getBytes:function(){var a=new S.Bytes(this.b.length,this.b);this.b=null;return a},b:null,__class__:S.BytesBuffer};S.Input=function(){};j["haxe.io.Input"]=S.Input;S.Input.__name__=["haxe","io","Input"];S.Input.prototype={readString:function(a){var b=S.Bytes.alloc(a);this.readFullBytes(b,0,a);return b.toString()},readFullBytes:function(a,b,c){for(;0<
c;)var e=this.readBytes(a,b,c),b=b+e,c=c-e},readBytes:function(a,b,c){var e=c,f=a.b;if(0>b||0>c||b+c>a.length)throw S.Error.OutsideBounds;for(;0<e;)f[b]=this.readByte(),b++,e--;return c},readByte:function(){throw"Not implemented";},__class__:S.Input};S.BytesInput=function(a,b,c){null==b&&(b=0);null==c&&(c=a.length-b);if(0>b||0>c||b+c>a.length)throw S.Error.OutsideBounds;this.b=a.b;this.pos=b;this.len=c};j["haxe.io.BytesInput"]=S.BytesInput;S.BytesInput.__name__=["haxe","io","BytesInput"];S.BytesInput.__super__=
S.Input;S.BytesInput.prototype=H(S.Input.prototype,{readBytes:function(a,b,c){if(0>b||0>c||b+c>a.length)throw S.Error.OutsideBounds;if(0==this.len&&0<c)throw new S.Eof;if(this.len<c)c=this.len;for(var e=this.b,a=a.b,f=0;f<c;){var h=f++;a[b+h]=e[this.pos+h]}this.pos+=c;this.len-=c;return c},readByte:function(){if(0==this.len)throw new S.Eof;this.len--;return this.b[this.pos++]},len:null,pos:null,b:null,__class__:S.BytesInput});S.Output=function(){};j["haxe.io.Output"]=S.Output;S.Output.__name__=["haxe",
"io","Output"];S.BytesOutput=function(){this.b=new S.BytesBuffer};j["haxe.io.BytesOutput"]=S.BytesOutput;S.BytesOutput.__name__=["haxe","io","BytesOutput"];S.BytesOutput.__super__=S.Output;S.BytesOutput.prototype=H(S.Output.prototype,{getBytes:function(){return this.b.getBytes()},writeByte:function(a){this.b.b.push(a)},b:null,__class__:S.BytesOutput});S.Eof=function(){};j["haxe.io.Eof"]=S.Eof;S.Eof.__name__=["haxe","io","Eof"];S.Eof.prototype={__class__:S.Eof};S.Error={__ename__:["haxe","io","Error"],
__constructs__:["Blocked","Overflow","OutsideBounds","Custom"]};S.Error.Blocked=["Blocked",0];S.Error.Blocked.toString=v;S.Error.Blocked.__enum__=S.Error;S.Error.Overflow=["Overflow",1];S.Error.Overflow.toString=v;S.Error.Overflow.__enum__=S.Error;S.Error.OutsideBounds=["OutsideBounds",2];S.Error.OutsideBounds.toString=v;S.Error.OutsideBounds.__enum__=S.Error;S.Error.Custom=function(a){a=["Custom",3,a];a.__enum__=S.Error;a.toString=v;return a};S.StringInput=function(a){S.BytesInput.call(this,S.Bytes.ofString(a))};
j["haxe.io.StringInput"]=S.StringInput;S.StringInput.__name__=["haxe","io","StringInput"];S.StringInput.__super__=S.BytesInput;S.StringInput.prototype=H(S.BytesInput.prototype,{__class__:S.StringInput});M={__ename__:["hscript","Const"],__constructs__:["CInt","CFloat","CString","CInt32"]};M.CInt=function(a){a=["CInt",0,a];a.__enum__=M;a.toString=v;return a};M.CFloat=function(a){a=["CFloat",1,a];a.__enum__=M;a.toString=v;return a};M.CString=function(a){a=["CString",2,a];a.__enum__=M;a.toString=v;return a};
M.CInt32=function(a){a=["CInt32",3,a];a.__enum__=M;a.toString=v;return a};Q={__ename__:["hscript","Expr"],__constructs__:"EConst,EIdent,EVar,EParent,EBlock,EField,EBinop,EUnop,ECall,EIf,EWhile,EFor,EBreak,EContinue,EFunction,EReturn,EArray,EArrayDecl,ENew,EThrow,ETry,EObject,ETernary".split(",")};Q.EConst=function(a){a=["EConst",0,a];a.__enum__=Q;a.toString=v;return a};Q.EIdent=function(a){a=["EIdent",1,a];a.__enum__=Q;a.toString=v;return a};Q.EVar=function(a,b,c){a=["EVar",2,a,b,c];a.__enum__=Q;
a.toString=v;return a};Q.EParent=function(a){a=["EParent",3,a];a.__enum__=Q;a.toString=v;return a};Q.EBlock=function(a){a=["EBlock",4,a];a.__enum__=Q;a.toString=v;return a};Q.EField=function(a,b){var c=["EField",5,a,b];c.__enum__=Q;c.toString=v;return c};Q.EBinop=function(a,b,c){a=["EBinop",6,a,b,c];a.__enum__=Q;a.toString=v;return a};Q.EUnop=function(a,b,c){a=["EUnop",7,a,b,c];a.__enum__=Q;a.toString=v;return a};Q.ECall=function(a,b){var c=["ECall",8,a,b];c.__enum__=Q;c.toString=v;return c};Q.EIf=
function(a,b,c){a=["EIf",9,a,b,c];a.__enum__=Q;a.toString=v;return a};Q.EWhile=function(a,b){var c=["EWhile",10,a,b];c.__enum__=Q;c.toString=v;return c};Q.EFor=function(a,b,c){a=["EFor",11,a,b,c];a.__enum__=Q;a.toString=v;return a};Q.EBreak=["EBreak",12];Q.EBreak.toString=v;Q.EBreak.__enum__=Q;Q.EContinue=["EContinue",13];Q.EContinue.toString=v;Q.EContinue.__enum__=Q;Q.EFunction=function(a,b,c,e){a=["EFunction",14,a,b,c,e];a.__enum__=Q;a.toString=v;return a};Q.EReturn=function(a){a=["EReturn",15,
a];a.__enum__=Q;a.toString=v;return a};Q.EArray=function(a,b){var c=["EArray",16,a,b];c.__enum__=Q;c.toString=v;return c};Q.EArrayDecl=function(a){a=["EArrayDecl",17,a];a.__enum__=Q;a.toString=v;return a};Q.ENew=function(a,b){var c=["ENew",18,a,b];c.__enum__=Q;c.toString=v;return c};Q.EThrow=function(a){a=["EThrow",19,a];a.__enum__=Q;a.toString=v;return a};Q.ETry=function(a,b,c,e){a=["ETry",20,a,b,c,e];a.__enum__=Q;a.toString=v;return a};Q.EObject=function(a){a=["EObject",21,a];a.__enum__=Q;a.toString=
v;return a};Q.ETernary=function(a,b,c){a=["ETernary",22,a,b,c];a.__enum__=Q;a.toString=v;return a};Nb={__ename__:["hscript","CType"],__constructs__:["CTPath","CTFun","CTAnon","CTParent"]};Nb.CTPath=function(a,b){var c=["CTPath",0,a,b];c.__enum__=Nb;c.toString=v;return c};Nb.CTFun=function(a,b){var c=["CTFun",1,a,b];c.__enum__=Nb;c.toString=v;return c};Nb.CTAnon=function(a){a=["CTAnon",2,a];a.__enum__=Nb;a.toString=v;return a};Nb.CTParent=function(a){a=["CTParent",3,a];a.__enum__=Nb;a.toString=v;return a};
qa={__ename__:["hscript","Error"],__constructs__:"EInvalidChar,EUnexpected,EUnterminatedString,EUnterminatedComment,EUnknownVariable,EInvalidIterator,EInvalidOp,EInvalidAccess".split(",")};qa.EInvalidChar=function(a){a=["EInvalidChar",0,a];a.__enum__=qa;a.toString=v;return a};qa.EUnexpected=function(a){a=["EUnexpected",1,a];a.__enum__=qa;a.toString=v;return a};qa.EUnterminatedString=["EUnterminatedString",2];qa.EUnterminatedString.toString=v;qa.EUnterminatedString.__enum__=qa;qa.EUnterminatedComment=
["EUnterminatedComment",3];qa.EUnterminatedComment.toString=v;qa.EUnterminatedComment.__enum__=qa;qa.EUnknownVariable=function(a){a=["EUnknownVariable",4,a];a.__enum__=qa;a.toString=v;return a};qa.EInvalidIterator=function(a){a=["EInvalidIterator",5,a];a.__enum__=qa;a.toString=v;return a};qa.EInvalidOp=function(a){a=["EInvalidOp",6,a];a.__enum__=qa;a.toString=v;return a};qa.EInvalidAccess=function(a){a=["EInvalidAccess",7,a];a.__enum__=qa;a.toString=v;return a};jb={Stop:{__ename__:["hscript","_Interp",
"Stop"],__constructs__:["SBreak","SContinue","SReturn"]}};jb.Stop.SBreak=["SBreak",0];jb.Stop.SBreak.toString=v;jb.Stop.SBreak.__enum__=jb.Stop;jb.Stop.SContinue=["SContinue",1];jb.Stop.SContinue.toString=v;jb.Stop.SContinue.__enum__=jb.Stop;jb.Stop.SReturn=function(a){a=["SReturn",2,a];a.__enum__=jb.Stop;a.toString=v;return a};z={__ename__:["hscript","Token"],__constructs__:"TEof,TConst,TId,TOp,TPOpen,TPClose,TBrOpen,TBrClose,TDot,TComma,TSemicolon,TBkOpen,TBkClose,TQuestion,TDoubleDot".split(","),
TEof:["TEof",0]};z.TEof.toString=v;z.TEof.__enum__=z;z.TConst=function(a){a=["TConst",1,a];a.__enum__=z;a.toString=v;return a};z.TId=function(a){a=["TId",2,a];a.__enum__=z;a.toString=v;return a};z.TOp=function(a){a=["TOp",3,a];a.__enum__=z;a.toString=v;return a};z.TPOpen=["TPOpen",4];z.TPOpen.toString=v;z.TPOpen.__enum__=z;z.TPClose=["TPClose",5];z.TPClose.toString=v;z.TPClose.__enum__=z;z.TBrOpen=["TBrOpen",6];z.TBrOpen.toString=v;z.TBrOpen.__enum__=z;z.TBrClose=["TBrClose",7];z.TBrClose.toString=
v;z.TBrClose.__enum__=z;z.TDot=["TDot",8];z.TDot.toString=v;z.TDot.__enum__=z;z.TComma=["TComma",9];z.TComma.toString=v;z.TComma.__enum__=z;z.TSemicolon=["TSemicolon",10];z.TSemicolon.toString=v;z.TSemicolon.__enum__=z;z.TBkOpen=["TBkOpen",11];z.TBkOpen.toString=v;z.TBkOpen.__enum__=z;z.TBkClose=["TBkClose",12];z.TBkClose.toString=v;z.TBkClose.__enum__=z;z.TQuestion=["TQuestion",13];z.TQuestion.toString=v;z.TQuestion.__enum__=z;z.TDoubleDot=["TDoubleDot",14];z.TDoubleDot.toString=v;z.TDoubleDot.__enum__=
z;hc=function(){this.line=1;this.opChars="+*/-=!><&|^%~";this.identChars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_";var a=[["%"],["*","/"],["+","-"],["<<",">>",">>>"],["|","&","^"],"==,!=,>,<,>=,<=".split(","),["..."],["&&"],["||"],"=,+=,-=,*=,/=,%=,<<=,>>=,>>>=,|=,&=,^=".split(",")];this.opPriority=new ea;this.opRightAssoc=new ea;for(var b=0,c=a.length;b<c;)for(var e=b++,f=0,h=a[e];f<h.length;){var m=h[f];++f;this.opPriority.set(m,e);9==e&&this.opRightAssoc.set(m,!0)}this.unops=
new ea;c=0;for(b=["!","++","--","-","~"];c<b.length;)m=b[c],++c,this.unops.set(m,"++"==m||"--"==m)};j["hscript.Parser"]=hc;hc.__name__=["hscript","Parser"];hc.prototype={tokenString:function(a){var b;switch(a[1]){case 0:b="<eof>";break;case 1:b=this.constString(a[2]);break;case 2:b=a[2];break;case 3:b=a[2];break;case 4:b="(";break;case 5:b=")";break;case 6:b="{";break;case 7:b="}";break;case 8:b=".";break;case 9:b=",";break;case 10:b=";";break;case 11:b="[";break;case 12:b="]";break;case 13:b="?";
break;case 14:b=":"}return b},constString:function(a){var b;switch(a[1]){case 0:b=n.string(a[2]);break;case 1:b=n.string(a[2]);break;case 2:b=a[2];break;case 3:b=n.string(a[2])}return b},tokenComment:function(a,b){var c=u.cca(a,1),e=this.input;if(47==c){try{for(;10!=b&&13!=b;)b=e.readByte();this["char"]=b}catch(f){}return this.token()}if(42==c){c=this.line;try{for(;;){for(;42!=b;)10==b&&this.line++,b=e.readByte();b=e.readByte();if(47==b)break}}catch(h){throw this.line=c,qa.EUnterminatedComment;}return this.token()}this["char"]=
b;return z.TOp(a)},token:function(){if(null!=this.tokens.head)return this.tokens.pop();var a;0>this["char"]?a=this.readChar():(a=this["char"],this["char"]=-1);for(;;){switch(a){case 0:return z.TEof;case 32:break;case 9:break;case 13:break;case 10:this.line++;break;case 48:for(var b=1*(a-48),c=0;;)switch(a=this.readChar(),c*=10,a){case 48:b=10*b+(a-48);break;case 49:b=10*b+(a-48);break;case 50:b=10*b+(a-48);break;case 51:b=10*b+(a-48);break;case 52:b=10*b+(a-48);break;case 53:b=10*b+(a-48);break;case 54:b=
10*b+(a-48);break;case 55:b=10*b+(a-48);break;case 56:b=10*b+(a-48);break;case 57:b=10*b+(a-48);break;case 46:if(0<c){if(10==c&&46==this.readChar())return this.tokens.add(z.TOp("...")),a=b|0,z.TConst(a==b?M.CInt(a):M.CFloat(b));this.invalidChar(a)}c=1;break;case 120:(0<b||0<c)&&this.invalidChar(a);for(var e=0;;)switch(a=this.readChar(),a){case 48:e=(e<<4)+(a-48)|0;break;case 49:e=(e<<4)+(a-48)|0;break;case 50:e=(e<<4)+(a-48)|0;break;case 51:e=(e<<4)+(a-48)|0;break;case 52:e=(e<<4)+(a-48)|0;break;
case 53:e=(e<<4)+(a-48)|0;break;case 54:e=(e<<4)+(a-48)|0;break;case 55:e=(e<<4)+(a-48)|0;break;case 56:e=(e<<4)+(a-48)|0;break;case 57:e=(e<<4)+(a-48)|0;break;case 65:e=(e<<4)+(a-55)|0;break;case 66:e=(e<<4)+(a-55)|0;break;case 67:e=(e<<4)+(a-55)|0;break;case 68:e=(e<<4)+(a-55)|0;break;case 69:e=(e<<4)+(a-55)|0;break;case 70:e=(e<<4)+(a-55)|0;break;case 97:e=(e<<4)+(a-87)|0;break;case 98:e=(e<<4)+(a-87)|0;break;case 99:e=(e<<4)+(a-87)|0;break;case 100:e=(e<<4)+(a-87)|0;break;case 101:e=(e<<4)+(a-
87)|0;break;case 102:e=(e<<4)+(a-87)|0;break;default:return this["char"]=a,a=function(a){var b;try{b=M.CInt(function(){if((e>>30&1)!=e>>>31)throw"Overflow "+n.string(e);return e}(a))}catch(c){b=M.CInt32(e)}return b}(this),z.TConst(a)}break;default:return this["char"]=a,a=b|0,z.TConst(0<c?M.CFloat(10*b/c):a==b?M.CInt(a):M.CFloat(b))}break;case 49:b=1*(a-48);for(c=0;;)switch(a=this.readChar(),c*=10,a){case 48:b=10*b+(a-48);break;case 49:b=10*b+(a-48);break;case 50:b=10*b+(a-48);break;case 51:b=10*b+
(a-48);break;case 52:b=10*b+(a-48);break;case 53:b=10*b+(a-48);break;case 54:b=10*b+(a-48);break;case 55:b=10*b+(a-48);break;case 56:b=10*b+(a-48);break;case 57:b=10*b+(a-48);break;case 46:if(0<c){if(10==c&&46==this.readChar())return this.tokens.add(z.TOp("...")),a=b|0,z.TConst(a==b?M.CInt(a):M.CFloat(b));this.invalidChar(a)}c=1;break;case 120:(0<b||0<c)&&this.invalidChar(a);for(e=0;;)switch(a=this.readChar(),a){case 48:e=(e<<4)+(a-48)|0;break;case 49:e=(e<<4)+(a-48)|0;break;case 50:e=(e<<4)+(a-48)|
0;break;case 51:e=(e<<4)+(a-48)|0;break;case 52:e=(e<<4)+(a-48)|0;break;case 53:e=(e<<4)+(a-48)|0;break;case 54:e=(e<<4)+(a-48)|0;break;case 55:e=(e<<4)+(a-48)|0;break;case 56:e=(e<<4)+(a-48)|0;break;case 57:e=(e<<4)+(a-48)|0;break;case 65:e=(e<<4)+(a-55)|0;break;case 66:e=(e<<4)+(a-55)|0;break;case 67:e=(e<<4)+(a-55)|0;break;case 68:e=(e<<4)+(a-55)|0;break;case 69:e=(e<<4)+(a-55)|0;break;case 70:e=(e<<4)+(a-55)|0;break;case 97:e=(e<<4)+(a-87)|0;break;case 98:e=(e<<4)+(a-87)|0;break;case 99:e=(e<<
4)+(a-87)|0;break;case 100:e=(e<<4)+(a-87)|0;break;case 101:e=(e<<4)+(a-87)|0;break;case 102:e=(e<<4)+(a-87)|0;break;default:return this["char"]=a,a=function(a){var b;try{b=M.CInt(function(){if((e>>30&1)!=e>>>31)throw"Overflow "+n.string(e);return e}(a))}catch(c){b=M.CInt32(e)}return b}(this),z.TConst(a)}break;default:return this["char"]=a,a=b|0,z.TConst(0<c?M.CFloat(10*b/c):a==b?M.CInt(a):M.CFloat(b))}break;case 50:b=1*(a-48);for(c=0;;)switch(a=this.readChar(),c*=10,a){case 48:b=10*b+(a-48);break;
case 49:b=10*b+(a-48);break;case 50:b=10*b+(a-48);break;case 51:b=10*b+(a-48);break;case 52:b=10*b+(a-48);break;case 53:b=10*b+(a-48);break;case 54:b=10*b+(a-48);break;case 55:b=10*b+(a-48);break;case 56:b=10*b+(a-48);break;case 57:b=10*b+(a-48);break;case 46:if(0<c){if(10==c&&46==this.readChar())return this.tokens.add(z.TOp("...")),a=b|0,z.TConst(a==b?M.CInt(a):M.CFloat(b));this.invalidChar(a)}c=1;break;case 120:(0<b||0<c)&&this.invalidChar(a);for(e=0;;)switch(a=this.readChar(),a){case 48:e=(e<<
4)+(a-48)|0;break;case 49:e=(e<<4)+(a-48)|0;break;case 50:e=(e<<4)+(a-48)|0;break;case 51:e=(e<<4)+(a-48)|0;break;case 52:e=(e<<4)+(a-48)|0;break;case 53:e=(e<<4)+(a-48)|0;break;case 54:e=(e<<4)+(a-48)|0;break;case 55:e=(e<<4)+(a-48)|0;break;case 56:e=(e<<4)+(a-48)|0;break;case 57:e=(e<<4)+(a-48)|0;break;case 65:e=(e<<4)+(a-55)|0;break;case 66:e=(e<<4)+(a-55)|0;break;case 67:e=(e<<4)+(a-55)|0;break;case 68:e=(e<<4)+(a-55)|0;break;case 69:e=(e<<4)+(a-55)|0;break;case 70:e=(e<<4)+(a-55)|0;break;case 97:e=
(e<<4)+(a-87)|0;break;case 98:e=(e<<4)+(a-87)|0;break;case 99:e=(e<<4)+(a-87)|0;break;case 100:e=(e<<4)+(a-87)|0;break;case 101:e=(e<<4)+(a-87)|0;break;case 102:e=(e<<4)+(a-87)|0;break;default:return this["char"]=a,a=function(a){var b;try{b=M.CInt(function(){if((e>>30&1)!=e>>>31)throw"Overflow "+n.string(e);return e}(a))}catch(c){b=M.CInt32(e)}return b}(this),z.TConst(a)}break;default:return this["char"]=a,a=b|0,z.TConst(0<c?M.CFloat(10*b/c):a==b?M.CInt(a):M.CFloat(b))}break;case 51:b=1*(a-48);for(c=
0;;)switch(a=this.readChar(),c*=10,a){case 48:b=10*b+(a-48);break;case 49:b=10*b+(a-48);break;case 50:b=10*b+(a-48);break;case 51:b=10*b+(a-48);break;case 52:b=10*b+(a-48);break;case 53:b=10*b+(a-48);break;case 54:b=10*b+(a-48);break;case 55:b=10*b+(a-48);break;case 56:b=10*b+(a-48);break;case 57:b=10*b+(a-48);break;case 46:if(0<c){if(10==c&&46==this.readChar())return this.tokens.add(z.TOp("...")),a=b|0,z.TConst(a==b?M.CInt(a):M.CFloat(b));this.invalidChar(a)}c=1;break;case 120:(0<b||0<c)&&this.invalidChar(a);
for(e=0;;)switch(a=this.readChar(),a){case 48:e=(e<<4)+(a-48)|0;break;case 49:e=(e<<4)+(a-48)|0;break;case 50:e=(e<<4)+(a-48)|0;break;case 51:e=(e<<4)+(a-48)|0;break;case 52:e=(e<<4)+(a-48)|0;break;case 53:e=(e<<4)+(a-48)|0;break;case 54:e=(e<<4)+(a-48)|0;break;case 55:e=(e<<4)+(a-48)|0;break;case 56:e=(e<<4)+(a-48)|0;break;case 57:e=(e<<4)+(a-48)|0;break;case 65:e=(e<<4)+(a-55)|0;break;case 66:e=(e<<4)+(a-55)|0;break;case 67:e=(e<<4)+(a-55)|0;break;case 68:e=(e<<4)+(a-55)|0;break;case 69:e=(e<<4)+
(a-55)|0;break;case 70:e=(e<<4)+(a-55)|0;break;case 97:e=(e<<4)+(a-87)|0;break;case 98:e=(e<<4)+(a-87)|0;break;case 99:e=(e<<4)+(a-87)|0;break;case 100:e=(e<<4)+(a-87)|0;break;case 101:e=(e<<4)+(a-87)|0;break;case 102:e=(e<<4)+(a-87)|0;break;default:return this["char"]=a,a=function(a){var b;try{b=M.CInt(function(){if((e>>30&1)!=e>>>31)throw"Overflow "+n.string(e);return e}(a))}catch(c){b=M.CInt32(e)}return b}(this),z.TConst(a)}break;default:return this["char"]=a,a=b|0,z.TConst(0<c?M.CFloat(10*b/c):
a==b?M.CInt(a):M.CFloat(b))}break;case 52:b=1*(a-48);for(c=0;;)switch(a=this.readChar(),c*=10,a){case 48:b=10*b+(a-48);break;case 49:b=10*b+(a-48);break;case 50:b=10*b+(a-48);break;case 51:b=10*b+(a-48);break;case 52:b=10*b+(a-48);break;case 53:b=10*b+(a-48);break;case 54:b=10*b+(a-48);break;case 55:b=10*b+(a-48);break;case 56:b=10*b+(a-48);break;case 57:b=10*b+(a-48);break;case 46:if(0<c){if(10==c&&46==this.readChar())return this.tokens.add(z.TOp("...")),a=b|0,z.TConst(a==b?M.CInt(a):M.CFloat(b));
this.invalidChar(a)}c=1;break;case 120:(0<b||0<c)&&this.invalidChar(a);for(e=0;;)switch(a=this.readChar(),a){case 48:e=(e<<4)+(a-48)|0;break;case 49:e=(e<<4)+(a-48)|0;break;case 50:e=(e<<4)+(a-48)|0;break;case 51:e=(e<<4)+(a-48)|0;break;case 52:e=(e<<4)+(a-48)|0;break;case 53:e=(e<<4)+(a-48)|0;break;case 54:e=(e<<4)+(a-48)|0;break;case 55:e=(e<<4)+(a-48)|0;break;case 56:e=(e<<4)+(a-48)|0;break;case 57:e=(e<<4)+(a-48)|0;break;case 65:e=(e<<4)+(a-55)|0;break;case 66:e=(e<<4)+(a-55)|0;break;case 67:e=
(e<<4)+(a-55)|0;break;case 68:e=(e<<4)+(a-55)|0;break;case 69:e=(e<<4)+(a-55)|0;break;case 70:e=(e<<4)+(a-55)|0;break;case 97:e=(e<<4)+(a-87)|0;break;case 98:e=(e<<4)+(a-87)|0;break;case 99:e=(e<<4)+(a-87)|0;break;case 100:e=(e<<4)+(a-87)|0;break;case 101:e=(e<<4)+(a-87)|0;break;case 102:e=(e<<4)+(a-87)|0;break;default:return this["char"]=a,a=function(a){var b;try{b=M.CInt(function(){if((e>>30&1)!=e>>>31)throw"Overflow "+n.string(e);return e}(a))}catch(c){b=M.CInt32(e)}return b}(this),z.TConst(a)}break;
default:return this["char"]=a,a=b|0,z.TConst(0<c?M.CFloat(10*b/c):a==b?M.CInt(a):M.CFloat(b))}break;case 53:b=1*(a-48);for(c=0;;)switch(a=this.readChar(),c*=10,a){case 48:b=10*b+(a-48);break;case 49:b=10*b+(a-48);break;case 50:b=10*b+(a-48);break;case 51:b=10*b+(a-48);break;case 52:b=10*b+(a-48);break;case 53:b=10*b+(a-48);break;case 54:b=10*b+(a-48);break;case 55:b=10*b+(a-48);break;case 56:b=10*b+(a-48);break;case 57:b=10*b+(a-48);break;case 46:if(0<c){if(10==c&&46==this.readChar())return this.tokens.add(z.TOp("...")),
a=b|0,z.TConst(a==b?M.CInt(a):M.CFloat(b));this.invalidChar(a)}c=1;break;case 120:(0<b||0<c)&&this.invalidChar(a);for(e=0;;)switch(a=this.readChar(),a){case 48:e=(e<<4)+(a-48)|0;break;case 49:e=(e<<4)+(a-48)|0;break;case 50:e=(e<<4)+(a-48)|0;break;case 51:e=(e<<4)+(a-48)|0;break;case 52:e=(e<<4)+(a-48)|0;break;case 53:e=(e<<4)+(a-48)|0;break;case 54:e=(e<<4)+(a-48)|0;break;case 55:e=(e<<4)+(a-48)|0;break;case 56:e=(e<<4)+(a-48)|0;break;case 57:e=(e<<4)+(a-48)|0;break;case 65:e=(e<<4)+(a-55)|0;break;
case 66:e=(e<<4)+(a-55)|0;break;case 67:e=(e<<4)+(a-55)|0;break;case 68:e=(e<<4)+(a-55)|0;break;case 69:e=(e<<4)+(a-55)|0;break;case 70:e=(e<<4)+(a-55)|0;break;case 97:e=(e<<4)+(a-87)|0;break;case 98:e=(e<<4)+(a-87)|0;break;case 99:e=(e<<4)+(a-87)|0;break;case 100:e=(e<<4)+(a-87)|0;break;case 101:e=(e<<4)+(a-87)|0;break;case 102:e=(e<<4)+(a-87)|0;break;default:return this["char"]=a,a=function(a){var b;try{b=M.CInt(function(){if((e>>30&1)!=e>>>31)throw"Overflow "+n.string(e);return e}(a))}catch(c){b=
M.CInt32(e)}return b}(this),z.TConst(a)}break;default:return this["char"]=a,a=b|0,z.TConst(0<c?M.CFloat(10*b/c):a==b?M.CInt(a):M.CFloat(b))}break;case 54:b=1*(a-48);for(c=0;;)switch(a=this.readChar(),c*=10,a){case 48:b=10*b+(a-48);break;case 49:b=10*b+(a-48);break;case 50:b=10*b+(a-48);break;case 51:b=10*b+(a-48);break;case 52:b=10*b+(a-48);break;case 53:b=10*b+(a-48);break;case 54:b=10*b+(a-48);break;case 55:b=10*b+(a-48);break;case 56:b=10*b+(a-48);break;case 57:b=10*b+(a-48);break;case 46:if(0<
c){if(10==c&&46==this.readChar())return this.tokens.add(z.TOp("...")),a=b|0,z.TConst(a==b?M.CInt(a):M.CFloat(b));this.invalidChar(a)}c=1;break;case 120:(0<b||0<c)&&this.invalidChar(a);for(e=0;;)switch(a=this.readChar(),a){case 48:e=(e<<4)+(a-48)|0;break;case 49:e=(e<<4)+(a-48)|0;break;case 50:e=(e<<4)+(a-48)|0;break;case 51:e=(e<<4)+(a-48)|0;break;case 52:e=(e<<4)+(a-48)|0;break;case 53:e=(e<<4)+(a-48)|0;break;case 54:e=(e<<4)+(a-48)|0;break;case 55:e=(e<<4)+(a-48)|0;break;case 56:e=(e<<4)+(a-48)|
0;break;case 57:e=(e<<4)+(a-48)|0;break;case 65:e=(e<<4)+(a-55)|0;break;case 66:e=(e<<4)+(a-55)|0;break;case 67:e=(e<<4)+(a-55)|0;break;case 68:e=(e<<4)+(a-55)|0;break;case 69:e=(e<<4)+(a-55)|0;break;case 70:e=(e<<4)+(a-55)|0;break;case 97:e=(e<<4)+(a-87)|0;break;case 98:e=(e<<4)+(a-87)|0;break;case 99:e=(e<<4)+(a-87)|0;break;case 100:e=(e<<4)+(a-87)|0;break;case 101:e=(e<<4)+(a-87)|0;break;case 102:e=(e<<4)+(a-87)|0;break;default:return this["char"]=a,a=function(a){var b;try{b=M.CInt(function(){if((e>>
30&1)!=e>>>31)throw"Overflow "+n.string(e);return e}(a))}catch(c){b=M.CInt32(e)}return b}(this),z.TConst(a)}break;default:return this["char"]=a,a=b|0,z.TConst(0<c?M.CFloat(10*b/c):a==b?M.CInt(a):M.CFloat(b))}break;case 55:b=1*(a-48);for(c=0;;)switch(a=this.readChar(),c*=10,a){case 48:b=10*b+(a-48);break;case 49:b=10*b+(a-48);break;case 50:b=10*b+(a-48);break;case 51:b=10*b+(a-48);break;case 52:b=10*b+(a-48);break;case 53:b=10*b+(a-48);break;case 54:b=10*b+(a-48);break;case 55:b=10*b+(a-48);break;
case 56:b=10*b+(a-48);break;case 57:b=10*b+(a-48);break;case 46:if(0<c){if(10==c&&46==this.readChar())return this.tokens.add(z.TOp("...")),a=b|0,z.TConst(a==b?M.CInt(a):M.CFloat(b));this.invalidChar(a)}c=1;break;case 120:(0<b||0<c)&&this.invalidChar(a);for(e=0;;)switch(a=this.readChar(),a){case 48:e=(e<<4)+(a-48)|0;break;case 49:e=(e<<4)+(a-48)|0;break;case 50:e=(e<<4)+(a-48)|0;break;case 51:e=(e<<4)+(a-48)|0;break;case 52:e=(e<<4)+(a-48)|0;break;case 53:e=(e<<4)+(a-48)|0;break;case 54:e=(e<<4)+(a-
48)|0;break;case 55:e=(e<<4)+(a-48)|0;break;case 56:e=(e<<4)+(a-48)|0;break;case 57:e=(e<<4)+(a-48)|0;break;case 65:e=(e<<4)+(a-55)|0;break;case 66:e=(e<<4)+(a-55)|0;break;case 67:e=(e<<4)+(a-55)|0;break;case 68:e=(e<<4)+(a-55)|0;break;case 69:e=(e<<4)+(a-55)|0;break;case 70:e=(e<<4)+(a-55)|0;break;case 97:e=(e<<4)+(a-87)|0;break;case 98:e=(e<<4)+(a-87)|0;break;case 99:e=(e<<4)+(a-87)|0;break;case 100:e=(e<<4)+(a-87)|0;break;case 101:e=(e<<4)+(a-87)|0;break;case 102:e=(e<<4)+(a-87)|0;break;default:return this["char"]=
a,a=function(a){var b;try{b=M.CInt(function(){if((e>>30&1)!=e>>>31)throw"Overflow "+n.string(e);return e}(a))}catch(c){b=M.CInt32(e)}return b}(this),z.TConst(a)}break;default:return this["char"]=a,a=b|0,z.TConst(0<c?M.CFloat(10*b/c):a==b?M.CInt(a):M.CFloat(b))}break;case 56:b=1*(a-48);for(c=0;;)switch(a=this.readChar(),c*=10,a){case 48:b=10*b+(a-48);break;case 49:b=10*b+(a-48);break;case 50:b=10*b+(a-48);break;case 51:b=10*b+(a-48);break;case 52:b=10*b+(a-48);break;case 53:b=10*b+(a-48);break;case 54:b=
10*b+(a-48);break;case 55:b=10*b+(a-48);break;case 56:b=10*b+(a-48);break;case 57:b=10*b+(a-48);break;case 46:if(0<c){if(10==c&&46==this.readChar())return this.tokens.add(z.TOp("...")),a=b|0,z.TConst(a==b?M.CInt(a):M.CFloat(b));this.invalidChar(a)}c=1;break;case 120:(0<b||0<c)&&this.invalidChar(a);for(e=0;;)switch(a=this.readChar(),a){case 48:e=(e<<4)+(a-48)|0;break;case 49:e=(e<<4)+(a-48)|0;break;case 50:e=(e<<4)+(a-48)|0;break;case 51:e=(e<<4)+(a-48)|0;break;case 52:e=(e<<4)+(a-48)|0;break;case 53:e=
(e<<4)+(a-48)|0;break;case 54:e=(e<<4)+(a-48)|0;break;case 55:e=(e<<4)+(a-48)|0;break;case 56:e=(e<<4)+(a-48)|0;break;case 57:e=(e<<4)+(a-48)|0;break;case 65:e=(e<<4)+(a-55)|0;break;case 66:e=(e<<4)+(a-55)|0;break;case 67:e=(e<<4)+(a-55)|0;break;case 68:e=(e<<4)+(a-55)|0;break;case 69:e=(e<<4)+(a-55)|0;break;case 70:e=(e<<4)+(a-55)|0;break;case 97:e=(e<<4)+(a-87)|0;break;case 98:e=(e<<4)+(a-87)|0;break;case 99:e=(e<<4)+(a-87)|0;break;case 100:e=(e<<4)+(a-87)|0;break;case 101:e=(e<<4)+(a-87)|0;break;
case 102:e=(e<<4)+(a-87)|0;break;default:return this["char"]=a,a=function(a){var b;try{b=M.CInt(function(){if((e>>30&1)!=e>>>31)throw"Overflow "+n.string(e);return e}(a))}catch(c){b=M.CInt32(e)}return b}(this),z.TConst(a)}break;default:return this["char"]=a,a=b|0,z.TConst(0<c?M.CFloat(10*b/c):a==b?M.CInt(a):M.CFloat(b))}break;case 57:b=1*(a-48);for(c=0;;)switch(a=this.readChar(),c*=10,a){case 48:b=10*b+(a-48);break;case 49:b=10*b+(a-48);break;case 50:b=10*b+(a-48);break;case 51:b=10*b+(a-48);break;
case 52:b=10*b+(a-48);break;case 53:b=10*b+(a-48);break;case 54:b=10*b+(a-48);break;case 55:b=10*b+(a-48);break;case 56:b=10*b+(a-48);break;case 57:b=10*b+(a-48);break;case 46:if(0<c){if(10==c&&46==this.readChar())return this.tokens.add(z.TOp("...")),a=b|0,z.TConst(a==b?M.CInt(a):M.CFloat(b));this.invalidChar(a)}c=1;break;case 120:(0<b||0<c)&&this.invalidChar(a);for(e=0;;)switch(a=this.readChar(),a){case 48:e=(e<<4)+(a-48)|0;break;case 49:e=(e<<4)+(a-48)|0;break;case 50:e=(e<<4)+(a-48)|0;break;case 51:e=
(e<<4)+(a-48)|0;break;case 52:e=(e<<4)+(a-48)|0;break;case 53:e=(e<<4)+(a-48)|0;break;case 54:e=(e<<4)+(a-48)|0;break;case 55:e=(e<<4)+(a-48)|0;break;case 56:e=(e<<4)+(a-48)|0;break;case 57:e=(e<<4)+(a-48)|0;break;case 65:e=(e<<4)+(a-55)|0;break;case 66:e=(e<<4)+(a-55)|0;break;case 67:e=(e<<4)+(a-55)|0;break;case 68:e=(e<<4)+(a-55)|0;break;case 69:e=(e<<4)+(a-55)|0;break;case 70:e=(e<<4)+(a-55)|0;break;case 97:e=(e<<4)+(a-87)|0;break;case 98:e=(e<<4)+(a-87)|0;break;case 99:e=(e<<4)+(a-87)|0;break;
case 100:e=(e<<4)+(a-87)|0;break;case 101:e=(e<<4)+(a-87)|0;break;case 102:e=(e<<4)+(a-87)|0;break;default:return this["char"]=a,a=function(a){var b;try{b=M.CInt(function(){if((e>>30&1)!=e>>>31)throw"Overflow "+n.string(e);return e}(a))}catch(c){b=M.CInt32(e)}return b}(this),z.TConst(a)}break;default:return this["char"]=a,a=b|0,z.TConst(0<c?M.CFloat(10*b/c):a==b?M.CInt(a):M.CFloat(b))}break;case 59:return z.TSemicolon;case 40:return z.TPOpen;case 41:return z.TPClose;case 44:return z.TComma;case 46:a=
this.readChar();switch(a){case 48:b=a-48;for(c=1;;)switch(a=this.readChar(),c*=10,a){case 48:b=10*b+(a-48);break;case 49:b=10*b+(a-48);break;case 50:b=10*b+(a-48);break;case 51:b=10*b+(a-48);break;case 52:b=10*b+(a-48);break;case 53:b=10*b+(a-48);break;case 54:b=10*b+(a-48);break;case 55:b=10*b+(a-48);break;case 56:b=10*b+(a-48);break;case 57:b=10*b+(a-48);break;default:return this["char"]=a,z.TConst(M.CFloat(b/c))}break;case 49:b=a-48;for(c=1;;)switch(a=this.readChar(),c*=10,a){case 48:b=10*b+(a-
48);break;case 49:b=10*b+(a-48);break;case 50:b=10*b+(a-48);break;case 51:b=10*b+(a-48);break;case 52:b=10*b+(a-48);break;case 53:b=10*b+(a-48);break;case 54:b=10*b+(a-48);break;case 55:b=10*b+(a-48);break;case 56:b=10*b+(a-48);break;case 57:b=10*b+(a-48);break;default:return this["char"]=a,z.TConst(M.CFloat(b/c))}break;case 50:b=a-48;for(c=1;;)switch(a=this.readChar(),c*=10,a){case 48:b=10*b+(a-48);break;case 49:b=10*b+(a-48);break;case 50:b=10*b+(a-48);break;case 51:b=10*b+(a-48);break;case 52:b=
10*b+(a-48);break;case 53:b=10*b+(a-48);break;case 54:b=10*b+(a-48);break;case 55:b=10*b+(a-48);break;case 56:b=10*b+(a-48);break;case 57:b=10*b+(a-48);break;default:return this["char"]=a,z.TConst(M.CFloat(b/c))}break;case 51:b=a-48;for(c=1;;)switch(a=this.readChar(),c*=10,a){case 48:b=10*b+(a-48);break;case 49:b=10*b+(a-48);break;case 50:b=10*b+(a-48);break;case 51:b=10*b+(a-48);break;case 52:b=10*b+(a-48);break;case 53:b=10*b+(a-48);break;case 54:b=10*b+(a-48);break;case 55:b=10*b+(a-48);break;
case 56:b=10*b+(a-48);break;case 57:b=10*b+(a-48);break;default:return this["char"]=a,z.TConst(M.CFloat(b/c))}break;case 52:b=a-48;for(c=1;;)switch(a=this.readChar(),c*=10,a){case 48:b=10*b+(a-48);break;case 49:b=10*b+(a-48);break;case 50:b=10*b+(a-48);break;case 51:b=10*b+(a-48);break;case 52:b=10*b+(a-48);break;case 53:b=10*b+(a-48);break;case 54:b=10*b+(a-48);break;case 55:b=10*b+(a-48);break;case 56:b=10*b+(a-48);break;case 57:b=10*b+(a-48);break;default:return this["char"]=a,z.TConst(M.CFloat(b/
c))}break;case 53:b=a-48;for(c=1;;)switch(a=this.readChar(),c*=10,a){case 48:b=10*b+(a-48);break;case 49:b=10*b+(a-48);break;case 50:b=10*b+(a-48);break;case 51:b=10*b+(a-48);break;case 52:b=10*b+(a-48);break;case 53:b=10*b+(a-48);break;case 54:b=10*b+(a-48);break;case 55:b=10*b+(a-48);break;case 56:b=10*b+(a-48);break;case 57:b=10*b+(a-48);break;default:return this["char"]=a,z.TConst(M.CFloat(b/c))}break;case 54:b=a-48;for(c=1;;)switch(a=this.readChar(),c*=10,a){case 48:b=10*b+(a-48);break;case 49:b=
10*b+(a-48);break;case 50:b=10*b+(a-48);break;case 51:b=10*b+(a-48);break;case 52:b=10*b+(a-48);break;case 53:b=10*b+(a-48);break;case 54:b=10*b+(a-48);break;case 55:b=10*b+(a-48);break;case 56:b=10*b+(a-48);break;case 57:b=10*b+(a-48);break;default:return this["char"]=a,z.TConst(M.CFloat(b/c))}break;case 55:b=a-48;for(c=1;;)switch(a=this.readChar(),c*=10,a){case 48:b=10*b+(a-48);break;case 49:b=10*b+(a-48);break;case 50:b=10*b+(a-48);break;case 51:b=10*b+(a-48);break;case 52:b=10*b+(a-48);break;
case 53:b=10*b+(a-48);break;case 54:b=10*b+(a-48);break;case 55:b=10*b+(a-48);break;case 56:b=10*b+(a-48);break;case 57:b=10*b+(a-48);break;default:return this["char"]=a,z.TConst(M.CFloat(b/c))}break;case 56:b=a-48;for(c=1;;)switch(a=this.readChar(),c*=10,a){case 48:b=10*b+(a-48);break;case 49:b=10*b+(a-48);break;case 50:b=10*b+(a-48);break;case 51:b=10*b+(a-48);break;case 52:b=10*b+(a-48);break;case 53:b=10*b+(a-48);break;case 54:b=10*b+(a-48);break;case 55:b=10*b+(a-48);break;case 56:b=10*b+(a-
48);break;case 57:b=10*b+(a-48);break;default:return this["char"]=a,z.TConst(M.CFloat(b/c))}break;case 57:b=a-48;for(c=1;;)switch(a=this.readChar(),c*=10,a){case 48:b=10*b+(a-48);break;case 49:b=10*b+(a-48);break;case 50:b=10*b+(a-48);break;case 51:b=10*b+(a-48);break;case 52:b=10*b+(a-48);break;case 53:b=10*b+(a-48);break;case 54:b=10*b+(a-48);break;case 55:b=10*b+(a-48);break;case 56:b=10*b+(a-48);break;case 57:b=10*b+(a-48);break;default:return this["char"]=a,z.TConst(M.CFloat(b/c))}break;case 46:return a=
this.readChar(),46!=a&&this.invalidChar(a),z.TOp("...");default:return this["char"]=a,z.TDot}break;case 123:return z.TBrOpen;case 125:return z.TBrClose;case 91:return z.TBkOpen;case 93:return z.TBkClose;case 39:return z.TConst(M.CString(this.readString(39)));case 34:return z.TConst(M.CString(this.readString(34)));case 63:return z.TQuestion;case 58:return z.TDoubleDot;default:if(this.ops[a])for(b=String.fromCharCode(a);;){a=this.readChar();if(!this.ops[a]){if(47==u.cca(b,0))return this.tokenComment(b,
a);this["char"]=a;return z.TOp(b)}b+=String.fromCharCode(a)}if(this.idents[a])for(b=String.fromCharCode(a);;){a=this.readChar();if(!this.idents[a])return this["char"]=a,z.TId(b);b+=String.fromCharCode(a)}this.invalidChar(a)}a=this.readChar()}return null},readString:function(a){for(var b=0,c=new S.BytesOutput,e=!1,f=this.line,h=this.input;;){try{b=h.readByte()}catch(m){throw this.line=f,qa.EUnterminatedString;}if(e)switch(e=!1,b){case 110:c.writeByte(10);break;case 114:c.writeByte(13);break;case 116:c.writeByte(9);
break;case 39:c.writeByte(b);break;case 34:c.writeByte(b);break;case 92:c.writeByte(b);break;case 47:this.allowJSON?c.writeByte(b):this.invalidChar(b);break;case 117:if(!this.allowJSON)throw this.invalidChar(b);var g=null;try{g=h.readString(4)}catch(i){throw this.line=f,qa.EUnterminatedString;}for(var k=0,w=0;4>w;){var Da=w++,k=k<<4,Da=u.cca(g,Da);switch(Da){case 48:k+=Da-48;break;case 49:k+=Da-48;break;case 50:k+=Da-48;break;case 51:k+=Da-48;break;case 52:k+=Da-48;break;case 53:k+=Da-48;break;case 54:k+=
Da-48;break;case 55:k+=Da-48;break;case 56:k+=Da-48;break;case 57:k+=Da-48;break;case 65:k+=Da-55;break;case 66:k+=Da-55;break;case 67:k+=Da-55;break;case 68:k+=Da-55;break;case 69:k+=Da-55;break;case 70:k+=Da-55;break;case 97:k+=Da-87;break;case 98:k+=Da-87;break;case 99:k+=Da-87;break;case 100:k+=Da-87;break;case 101:k+=Da-87;break;case 102:k+=Da-87;break;default:this.invalidChar(Da)}}127>=k?c.writeByte(k):(2047>=k?c.writeByte(192|k>>6):(c.writeByte(224|k>>12),c.writeByte(128|k>>6&63)),c.writeByte(128|
k&63));break;default:this.invalidChar(b)}else if(92==b)e=!0;else if(b==a)break;else 10==b&&this.line++,c.writeByte(b)}return c.getBytes().toString()},readChar:function(){var a;try{a=this.input.readByte()}catch(b){a=0}return a},incPos:function(){},parseExprList:function(a){var b=[],c=this.token();if(c==a)return b;this.tokens.add(c);try{for(;;)switch(b.push(this.parseExpr()),c=this.token(),c[1]){case 9:break;default:if(c==a)throw"__break__";this.unexpected(c)}}catch(e){if("__break__"!=e)throw e;}return b},
parseTypeNext:function(a){var b=this.token(),c=b;switch(c[1]){case 3:if("->"!=c[2])return this.tokens.add(b),a;break;default:return this.tokens.add(b),a}c=b=this.parseType();switch(c[1]){case 1:return c[2].unshift(a),b;default:return Nb.CTFun([a],b)}},parseType:function(){var a=this.token(),b=a;switch(b[1]){case 2:for(var c=b[2],c=[c];;){a=this.token();if(a!=z.TDot)break;b=a=this.token();switch(b[1]){case 2:c.push(b[2]);break;default:this.unexpected(a)}}var e=null,b=a;switch(b[1]){case 3:if("<"==
b[2]){e=[];try{for(;;){e.push(this.parseType());b=a=this.token();switch(b[1]){case 9:continue;case 3:if(">"==b[2])throw"__break__";}this.unexpected(a)}}catch(f){if("__break__"!=f)throw f;}}break;default:this.tokens.add(a)}return this.parseTypeNext(Nb.CTPath(c,e));case 4:return a=this.parseType(),this.ensure(z.TPClose),this.parseTypeNext(Nb.CTParent(a));case 6:e=[];try{for(;;)switch(b=a=this.token(),b[1]){case 7:throw"__break__";case 2:c=b[2];this.ensure(z.TDoubleDot);e.push({name:c,t:this.parseType()});
a=this.token();switch(a[1]){case 9:break;case 7:throw"__break__";default:this.unexpected(a)}break;default:this.unexpected(a)}}catch(h){if("__break__"!=h)throw h;}return this.parseTypeNext(Nb.CTAnon(e));default:return this.unexpected(a)}},parseExprNext:function(a){var b=this.token(),c=b;switch(c[1]){case 3:c=c[2];if(this.unops.get(c)){var e;if(!(e=this.isBlock(a)))switch(a[1]){case 3:e=!0;break;default:e=!1}return e?(this.tokens.add(b),a):this.parseExprNext(Q.EUnop(c,!1,a))}return this.makeBinop(c,
a,this.parseExpr());case 8:b=this.token();e=null;c=b;switch(c[1]){case 2:e=c[2];break;default:this.unexpected(b)}return this.parseExprNext(Q.EField(a,e));case 4:return this.parseExprNext(Q.ECall(a,this.parseExprList(z.TPClose)));case 11:return b=this.parseExpr(),this.ensure(z.TBkClose),this.parseExprNext(Q.EArray(a,b));case 13:return b=this.parseExpr(),this.ensure(z.TDoubleDot),c=this.parseExpr(),Q.ETernary(a,b,c);default:return this.tokens.add(b),a}},parseStructure:function(a){return function(b){switch(a){case "if":b=
function(a){var b=a.parseExpr(),f=a.parseExpr(),h=null,m=!1,g=a.token();g==z.TSemicolon&&(m=!0,g=a.token());K.enumEq(g,z.TId("else"))?h=a.parseExpr():(a.tokens.add(g),m&&a.tokens.add(z.TSemicolon));return Q.EIf(b,f,h)}(b);break;case "var":b=function(a){var b=a.token(),f=null,h=b;switch(h[1]){case 2:f=h[2];break;default:a.unexpected(b)}b=a.token();h=null;b==z.TDoubleDot&&a.allowTypes&&(h=a.parseType(),b=a.token());var m=null;K.enumEq(b,z.TOp("="))?m=a.parseExpr():a.tokens.add(b);return Q.EVar(f,h,
m)}(b);break;case "while":b=function(a){var b=a.parseExpr(),a=a.parseExpr();return Q.EWhile(b,a)}(b);break;case "for":b=function(a){a.ensure(z.TPOpen);var b=a.token(),f=null,h=b;switch(h[1]){case 2:f=h[2];break;default:a.unexpected(b)}b=a.token();K.enumEq(b,z.TId("in"))||a.unexpected(b);b=a.parseExpr();a.ensure(z.TPClose);a=a.parseExpr();return Q.EFor(f,b,a)}(b);break;case "break":b=Q.EBreak;break;case "continue":b=Q.EContinue;break;case "else":b=b.unexpected(z.TId(a));break;case "function":b=function(a){var b=
a.token(),f=null,h=b;switch(h[1]){case 2:f=b=h[2];break;default:a.tokens.add(b)}a.ensure(z.TPOpen);var m=[],b=a.token();if(b!=z.TPClose)for(var g=!0;g;){var i=null,h=b;switch(h[1]){case 2:i=b=h[2];break;default:a.unexpected(b)}b=a.token();h=null;b==z.TDoubleDot&&a.allowTypes&&(h=a.parseType(),b=a.token());m.push({name:i,t:h});switch(b[1]){case 9:b=a.token();break;case 5:g=!1;break;default:a.unexpected(b)}}g=null;a.allowTypes&&(b=a.token(),b!=z.TDoubleDot?a.tokens.add(b):g=a.parseType());a=a.parseExpr();
return Q.EFunction(m,a,f,g)}(b);break;case "return":b=function(a){var b=a.token();a.tokens.add(b);a=b==z.TSemicolon?null:a.parseExpr();return Q.EReturn(a)}(b);break;case "new":b=function(a){var b=[],f=a.token(),h=f;switch(h[1]){case 2:f=h[2];b.push(f);break;default:a.unexpected(f)}for(var m=!0;m;)switch(f=a.token(),f[1]){case 8:h=f=a.token();switch(h[1]){case 2:f=h[2];b.push(f);break;default:a.unexpected(f)}break;case 4:m=!1;break;default:a.unexpected(f)}a=a.parseExprList(z.TPClose);return Q.ENew(b.join("."),
a)}(b);break;case "throw":b=function(a){a=a.parseExpr();return Q.EThrow(a)}(b);break;case "try":b=function(a){var b=a.parseExpr(),f=a.token();K.enumEq(f,z.TId("catch"))||a.unexpected(f);a.ensure(z.TPOpen);var f=a.token(),h;h=f;switch(h[1]){case 2:f=h[2];break;default:f=a.unexpected(f)}h=f;a.ensure(z.TDoubleDot);var m=null;a.allowTypes?m=a.parseType():(f=a.token(),K.enumEq(f,z.TId("Dynamic"))||a.unexpected(f));a.ensure(z.TPClose);a=a.parseExpr();return Q.ETry(b,h,m,a)}(b);break;default:b=null}return b}(this)},
makeBinop:function(a,b,c){switch(c[1]){case 6:var e=c[4],f=c[3],h=c[2],a=this.opPriority.get(a)<=this.opPriority.get(h)&&!this.opRightAssoc.exists(a)?Q.EBinop(h,this.makeBinop(a,b,f),e):Q.EBinop(a,b,c);break;case 22:e=c[4];f=c[3];h=c[2];a=this.opRightAssoc.exists(a)?Q.EBinop(a,b,c):Q.ETernary(this.makeBinop(a,b,h),f,e);break;default:a=Q.EBinop(a,b,c)}return a},makeUnop:function(a,b){var c;switch(b[1]){case 6:c=b[4];c=Q.EBinop(b[2],this.makeUnop(a,b[3]),c);break;case 22:c=b[4];var e=b[3];c=Q.ETernary(this.makeUnop(a,
b[2]),e,c);break;default:c=Q.EUnop(a,!0,b)}return c},parseExpr:function(){var a=this.token(),b=a;switch(b[1]){case 2:return a=b[2],b=this.parseStructure(a),null==b&&(b=Q.EIdent(a)),this.parseExprNext(b);case 1:return b=b[2],this.parseExprNext(Q.EConst(b));case 4:return b=this.parseExpr(),this.ensure(z.TPClose),this.parseExprNext(Q.EParent(b));case 6:b=a=this.token();switch(b[1]){case 7:return this.parseExprNext(Q.EObject([]));case 2:b=this.token();this.tokens.add(b);this.tokens.add(a);switch(b[1]){case 14:return this.parseExprNext(this.parseObject(0))}break;
case 1:b=b[2];if(this.allowJSON)switch(b[1]){case 2:b=this.token();this.tokens.add(b);this.tokens.add(a);switch(b[1]){case 14:return this.parseExprNext(this.parseObject(0))}break;default:this.tokens.add(a)}else this.tokens.add(a);break;default:this.tokens.add(a)}for(b=[];;){b.push(this.parseFullExpr());a=this.token();if(a==z.TBrClose)break;this.tokens.add(a)}return Q.EBlock(b);case 3:return b=b[2],this.unops.exists(b)?this.makeUnop(b,this.parseExpr()):this.unexpected(a);case 11:b=[];for(a=this.token();a!=
z.TBkClose;)this.tokens.add(a),b.push(this.parseExpr()),a=this.token(),a==z.TComma&&(a=this.token());return this.parseExprNext(Q.EArrayDecl(b));default:return this.unexpected(a)}},parseObject:function(){var a=[];try{for(;;){var b=this.token(),c=null,e=b;switch(e[1]){case 2:c=e[2];break;case 1:var f=e[2];this.allowJSON||this.unexpected(b);e=f;switch(e[1]){case 2:c=e[2];break;default:this.unexpected(b)}break;case 7:throw"__break__";default:this.unexpected(b)}this.ensure(z.TDoubleDot);a.push({name:c,
e:this.parseExpr()});b=this.token();switch(b[1]){case 7:throw"__break__";case 9:break;default:this.unexpected(b)}}}catch(h){if("__break__"!=h)throw h;}return this.parseExprNext(Q.EObject(a))},parseFullExpr:function(){var a=this.parseExpr(),b=this.token();b!=z.TSemicolon&&b!=z.TEof&&(this.isBlock(a)?this.tokens.add(b):this.unexpected(b));return a},isBlock:function(a){switch(a[1]){case 4:a=!0;break;case 21:a=!0;break;case 14:a=this.isBlock(a[3]);break;case 2:a=a[4];a=null!=a&&this.isBlock(a);break;
case 9:var b=a[4],a=a[3],a=null!=b?this.isBlock(b):this.isBlock(a);break;case 6:a=this.isBlock(a[4]);break;case 7:b=a[4];a=!a[3]&&this.isBlock(b);break;case 10:a=this.isBlock(a[3]);break;case 11:a=this.isBlock(a[4]);break;case 15:a=a[2];a=null!=a&&this.isBlock(a);break;default:a=!1}return a},mk:function(a){return a},pmax:function(){return 0},pmin:function(){return 0},expr:function(a){return a},ensure:function(a){var b=this.token();b!=a&&this.unexpected(b)},push:function(a){this.tokens.add(a)},unexpected:function(a){throw qa.EUnexpected(this.tokenString(a));
},parse:function(a){this.tokens=new be;this["char"]=-1;this.input=a;this.ops=[];this.idents=[];for(var a=0,b=this.opChars.length;a<b;){var c=a++;this.ops[u.cca(this.opChars,c)]=!0}a=0;for(b=this.identChars.length;a<b;)c=a++,this.idents[u.cca(this.identChars,c)]=!0;for(a=[];;){b=this.token();if(b==z.TEof)break;this.tokens.add(b);a.push(this.parseFullExpr())}return 1==a.length?a[0]:Q.EBlock(a)},parseString:function(a){this.line=1;return this.parse(new S.StringInput(a))},invalidChar:function(a){throw qa.EInvalidChar(a);
},error:function(a){throw a;},tokens:null,idents:null,ops:null,"char":null,input:null,allowTypes:null,allowJSON:null,unops:null,opRightAssoc:null,opPriority:null,identChars:null,opChars:null,line:null,__class__:hc};var Md,sc;Md=function(){this.handlers=[]};j["hxevents.Dispatcher"]=Md;Md.__name__=["hxevents","Dispatcher"];Md.prototype={stop:function(){this._stop=!0},_stop:null,has:function(a){if(null==a)return 0<this.handlers.length;for(var b=0,c=this.handlers;b<c.length;){var e=c[b];++b;if(a==e)return!0}return!1},
dispatchAndAutomate:function(a){this.dispatch(a);this.handlers=[];this.add=function(b){b(a);return b}},dispatch:function(a){for(var b=this.handlers.slice(),c=0;c<b.length;){var e=b[c];++c;if(!0==this._stop){this._stop=!1;break}e(a)}},clear:function(){this.handlers=[]},remove:function(a){for(var b=0,c=this.handlers.length;b<c;){var e=b++;if(l.compareMethods(this.handlers[e],a))return this.handlers.splice(e,1)[0]}return null},addOnce:function(a){var b=this,c=null,c=function(e){b.remove(c);a(e)};this.add(c);
return c},add:function(a){this.handlers.push(a);return a},handlers:null,__class__:Md};sc=function(){this.handlers=[]};j["hxevents.Notifier"]=sc;sc.__name__=["hxevents","Notifier"];sc.prototype={stop:function(){this._stop=!0},_stop:null,has:function(a){if(null==a)return 0<this.handlers.length;for(var b=0,c=this.handlers;b<c.length;){var e=c[b];++b;if(a==e)return!0}return!1},dispatchAndAutomate:function(){this.dispatch();this.handlers=[];this.add=function(a){a();return a}},dispatch:function(){for(var a=
this.handlers.slice(),b=0;b<a.length;){var c=a[b];++b;if(!0==this._stop){this._stop=!1;break}c()}},clear:function(){this.handlers=[]},remove:function(a){for(var b=0,c=this.handlers.length;b<c;){var e=b++;if(l.compareMethods(this.handlers[e],a))return this.handlers.splice(e,1)[0]}return null},addOnce:function(a){var b=this,c=null,c=function(){b.remove(c);a()};this.add(c);return c},add:function(a){this.handlers.push(a);return a},handlers:null,__class__:sc};I=function(){};j["js.Boot"]=I;I.__name__=["js",
"Boot"];I.__unhtml=function(a){return a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")};I.__trace=function(a,b){var c=null!=b?b.fileName+":"+b.lineNumber+": ":"",c=c+I.__string_rec(a,""),e;"undefined"!=typeof document&&null!=(e=document.getElementById("haxe:trace"))?e.innerHTML+=I.__unhtml(c)+"<br/>":"undefined"!=typeof console&&null!=console.log&&console.log(c)};I.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;if("function"==
c&&(a.__name__||a.__ename__))c="object";switch(c){case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];for(var c=a[0]+"(",b=b+"\t",e=2,f=a.length;e<f;)var h=e++,c=2!=h?c+(","+I.__string_rec(a[h],b)):c+I.__string_rec(a[h],b);return c+")"}e=a.length;c="[";b+="\t";for(f=0;f<e;)h=f++,c+=(0<h?",":"")+I.__string_rec(a[h],b);return c+"]"}try{f=a.toString}catch(m){return"???"}if(null!=f&&f!=Object.toString&&(c=a.toString(),"[object Object]"!=c))return c;f=null;c="{\n";b+="\t";e=
null!=a.hasOwnProperty;for(f in a)if(!e||a.hasOwnProperty(f))"prototype"==f||"__class__"==f||"__super__"==f||"__interfaces__"==f||"__properties__"==f||(2!=c.length&&(c+=", \n"),c+=b+f+" : "+I.__string_rec(a[f],b));b=b.substring(1);return c+("\n"+b+"}");case "function":return"<function>";case "string":return a;default:return""+a}};I.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var e=0,f=c.length;e<f;){var h=e++,h=c[h];if(h==b||I.__interfLoop(h,
b))return!0}return I.__interfLoop(a.__super__,b)};I.__instanceof=function(a,b){try{if(a instanceof b)return b==Array?null==a.__enum__:!0;if(I.__interfLoop(a.__class__,b))return!0}catch(c){if(null==b)return!1}switch(b){case Hd:return Math.ceil(a%2147483648)===a;case Fc:return"number"==typeof a;case Ce:return!0===a||!1===a;case String:return"string"==typeof a;case Je:return!0;default:return null==a?!1:b==Ke&&null!=a.__name__||b==Le&&null!=a.__ename__?!0:a.__enum__==b}};I.__cast=function(a,b){if(I.__instanceof(a,
b))return a;throw"Cannot cast "+n.string(a)+" to "+n.string(b);};Gd=function(){};j["js.Scroll"]=Gd;Gd.__name__=["js","Scroll"];Gd.getTop=function(){var a=window.pageYOffset;if("number"==typeof a||document.body&&(a=document.body.scrollTop))return a;return document.documentElement.scrollTop};Gd.getLeft=function(){var a=window.pageXOffset;if("number"==typeof a||document.body&&(a=document.body.scrollLeft))return a;return document.documentElement.scrollLeft};Va=void 0;r=void 0;$a=void 0;oa=void 0;la=void 0;
r=function(){(null==r.BI_RC||0==r.BI_RC.length)&&r.initBiRc();if(0==r.BI_RM.length)throw"BI_RM not initialized";this.chunks=[];switch(r.defaultAm){case 1:this.am=y(this,this.am1);break;case 2:this.am=y(this,this.am2);break;case 3:this.am=y(this,this.am3);break;default:throw"am error";}};j["math.BigInteger"]=r;r.__name__=["math","BigInteger"];r.__properties__={get_ONE:"getONE",get_ZERO:"getZERO"};r.initBiRc=function(){r.BI_RC=[];for(var a=u.cca("0",0),b=0;10>b;){var c=b++;r.BI_RC[a]=c;a++}a=u.cca("a",
0);for(b=10;37>b;)c=b++,r.BI_RC[a]=c,a++;a=u.cca("A",0);for(b=10;37>b;)c=b++,r.BI_RC[a]=c,a++};r.getZERO=function(){return r.nbv(0)};r.getONE=function(){return r.nbv(1)};r.nbv=function(a){var b=r.nbi();b.fromInt(a);return b};r.nbi=function(){return new r};r.ofString=function(a,b){var c=r.nbi(),e=function(a,b){c.fromInt(0);for(var e=Math.floor(0.6931471805599453*r.DB/Math.log(b)),f=Math.pow(b,e)|0,h=!1,m=0,g=0,A=0,i=a.length;A<i;){var j=A++,l=r.intAt(a,j);0>l?"-"==a.charAt(j)&&0==c.sign&&(h=!0):(g=
b*g+l,++m>=e&&(c.dMultiply(f),c.dAddOffset(g,0),g=m=0))}0<m&&(c.dMultiply(Math.pow(b,m)|0),c.dAddOffset(g,0));h&&r.getZERO().subTo(c,c);return c};if(16==b)e=4;else{if(10==b)return e(a,b);if(256==b)e=8;else if(8==b)e=3;else if(2==b)e=1;else if(32==b)e=5;else if(4==b)e=2;else return e(a,b)}c.t=0;c.sign=0;for(var f=a.length,h=!1,m=0;0<=--f;){var g=8==e?u.cca(a,f)&255:r.intAt(a,f);0>g?"-"==a.charAt(f)&&(h=!0):(h=!1,0==m?(c.chunks[c.t]=g,c.t++):m+e>r.DB?(c.chunks[c.t-1]|=(g&(1<<r.DB-m)-1)<<m,c.chunks[c.t]=
g>>r.DB-m,c.t++):c.chunks[c.t-1]|=g<<m,m+=e,m>=r.DB&&(m-=r.DB))}if(8==e&&0!=(u.cca(a,0)&128))c.sign=-1,0<m&&(c.chunks[c.t-1]|=(1<<r.DB-m)-1<<m);c.clamp();h&&r.getZERO().subTo(c,c);return c};r.ofInt=function(a){var b=r.nbi();b.fromInt(a);return b};r.ofInt32=function(a){var b=r.nbi();b.fromInt32(a);return b};r.ofBytes=function(a,b,c,e){null==c&&(c=0);null==e&&(e=a.length-c);if(0==e)return r.getZERO();var f=r.nbi();f.sign=0;f.t=0;for(var h=c+e,m=0;--h>=c;){var g=h<e?a.b[h]&255:0;0==m?(f.chunks[f.t]=
g,f.t++):m+8>r.DB?(f.chunks[f.t-1]|=(g&(1<<r.DB-m)-1)<<m,f.chunks[f.t]=g>>r.DB-m,f.t++):f.chunks[f.t-1]|=g<<m;m+=8;m>=r.DB&&(m-=r.DB)}if(!b&&0!=(a.b[0]&128))f.sign=-1,0<m&&(f.chunks[f.t-1]|=(1<<r.DB-m)-1<<m);f.clamp();return f};r.random=function(a,b){null==b&&(b=new Va.Random);if(2>a)return r.ofInt(1);var c=(a>>3)+1,e=pa.alloc(c),f=a&7;b.nextBytes(e,0,c);0<f?(c=e.b[0],e.b[0]=c&(1<<f)-1&255):e.b[0]=0;return r.ofString(na.hexDump(e,""),16)};r.randomPrime=function(a,b,c,e,f){null==f&&(f=new Va.Random);
for(1>c&&(c=1);;){var h=r.random(a,f);e&&(h.testBit(a-1)||h.bitwiseTo(r.getONE().shl(a-1),r.op_or,h));h.isEven()&&h.dAddOffset(1,0);h.primify(a,1);if(0==h.sub(r.getONE()).gcd(b).compare(r.getONE())&&h.isProbablePrime(c))return h}return null};r.op_and=function(a,b){return a&b};r.op_or=function(a,b){return a|b};r.op_xor=function(a,b){return a^b};r.op_andnot=function(a,b){return a&~b};r.nbits=function(a){var b=1,c;if(0!=(c=a>>>16))a=c,b+=16;if(0!=(c=a>>8))a=c,b+=8;if(0!=(c=a>>4))a=c,b+=4;if(0!=(c=a>>
2))a=c,b+=2;0!=a>>1&&(b+=1);return b};r.cbit=function(a){for(var b=0;0!=a;)a&=a-1,++b;return b};r.intAt=function(a,b){var c=r.BI_RC[u.cca(a,b)];return null==c?-1:c};r.int2charCode=function(a){return u.cca(r.BI_RM,a)};r.lbit=function(a){if(0==a)return-1;var b=0;0==(a&65535)&&(a>>=16,b+=16);0==(a&255)&&(a>>=8,b+=8);0==(a&15)&&(a>>=4,b+=4);0==(a&3)&&(a>>=2,b+=2);0==(a&1)&&++b;return b};r.dumpBi=function(a){var b="sign: "+n.string(a.sign),b=b+(" t: "+a.t);return b+=n.string(a.chunks)};r.prototype={am3:function(a,
b,c,e,f,h){for(var m=b&16383,b=b>>14;0<=--h;){var g=this.chunks[a]&16383,i=this.chunks[a]>>14;a++;var k=b*g+i*m,g=m*g+((k&16383)<<14)+c.chunks[e]+f,f=(g>>28)+(k>>14)+b*i;c.chunks[e]=g&268435455;e++}return f},am2:function(a,b,c,e,f,h){for(var m=b&32767,b=b>>15;0<=--h;){var g=this.chunks[a]&32767,i=this.chunks[a]>>15;a++;var k=b*g+i*m,g=m*g+((k&32767)<<15)+c.chunks[e]+(f&1073741823),f=(g>>>30)+(k>>>15)+b*i+(f>>>30);c.chunks[e]=g&1073741823;e++}return f},am1:function(a,b,c,e,f,h){for(;0<=--h;){var m=
b*this.chunks[a]+c.chunks[e]+f;a++;f=Math.floor(m/67108864);c.chunks[e]=m&67108863;e++}return f},rShiftTo:function(a,b){b.sign=this.sign;var c=Math.floor(a/r.DB);if(c>=this.t)b.t=0;else{var e=a%r.DB,f=r.DB-e,h=(1<<e)-1;b.chunks[0]=this.chunks[c]>>e;for(var m=c+1,g=this.t;m<g;){var i=m++;b.chunks[i-c-1]|=(this.chunks[i]&h)<<f;b.chunks[i-c]=this.chunks[i]>>e}0<e&&(b.chunks[this.t-c-1]|=(this.sign&h)<<f);b.t=this.t-c;b.clamp()}},lShiftTo:function(a,b){for(var c=a%r.DB,e=r.DB-c,f=(1<<e)-1,h=Math.floor(a/
r.DB),m=this.sign<<c&r.DM,g=this.t-1;0<=g;)b.chunks[g+h+1]=this.chunks[g]>>e|m,m=(this.chunks[g]&f)<<c,g--;for(g=h-1;0<=g;)b.chunks[g]=0,g--;b.chunks[h]=m;b.t=this.t+h+1;b.sign=this.sign;b.clamp()},millerRabin:function(a){var b=this.sub(r.getONE()),c=b.getLowestSetBit();if(0>=c)return!1;var e=b.shr(c),a=a+1>>1;if(a>r.lowprimes.length)a=r.lowprimes.length;for(var f=r.nbi(),h=0;h<a;){var m=h++;f.fromInt(r.lowprimes[m]);m=f.modPow(e,this);if(0!=m.compare(r.getONE())&&0!=m.compare(b)){for(var g=1;g++<
c&&0!=m.compare(b);)if(m=m.modPowInt(2,this),0==m.compare(r.getONE()))return!1;if(0!=m.compare(b))return!1}}return!0},exp:function(a,b){if(2147483647<a||1>a)return r.getONE();var c=r.nbi(),e=r.nbi(),f=b.convert(this),h=r.nbits(a)-1;for(f.copyTo(c);0<=--h;)if(b.sqrTo(c,e),0<(a&1<<h))b.mulTo(e,f,c);else var m=c,c=e,e=m;return b.revert(c)},dMultiply:function(a){this.chunks[this.t]=this.am(0,a-1,this,0,0,this.t);this.t++;this.clamp()},chunkSize:function(a){return Math.floor(0.6931471805599453*r.DB/Math.log(a))},
changeBit:function(a,b){var c=r.getONE().shl(a);this.bitwiseTo(c,b,c);return c},bitwiseTo:function(a,b,c){for(var e,f=Math.min(a.t,this.t)|0,h=0;h<f;){var m=h++;c.chunks[m]=b(this.chunks[m],a.chunks[m])}if(a.t<this.t){e=a.sign&r.DM;for(h=this.t;f<h;)m=f++,c.chunks[m]=b(this.chunks[m],e);c.t=this.t}else{e=this.sign&r.DM;for(h=a.t;f<h;)m=f++,c.chunks[m]=b(e,a.chunks[m]);c.t=a.t}c.sign=b(this.sign,a.sign);c.clamp()},primify:function(a,b){for(;this.bitLength()>a;)this.subTo(r.getONE().shl(a-1),this);
for(;!this.isProbablePrime(b);)for(this.dAddOffset(2,0);this.bitLength()>a;)this.subTo(r.getONE().shl(a-1),this)},isProbablePrime:function(a){var b,c=this.abs();if(1==c.t&&c.chunks[0]<=r.lowprimes[r.lowprimes.length-1]){a=0;for(b=r.lowprimes.length;a<b;){var e=a++;if(c.chunks[0]==r.lowprimes[e])return!0}return!1}if(c.isEven())return!1;for(b=1;b<r.lowprimes.length;){for(var e=r.lowprimes[b],f=b+1;f<r.lowprimes.length&&e<r.lplim;)e*=r.lowprimes[f],f++;for(e=c.modInt(e);b<f;){if(0==e%r.lowprimes[b])return!1;
b++}}return c.millerRabin(a)},invDigit:function(){if(1>this.t)return 0;var a=this.chunks[0];if(0==(a&1))return 0;var b=a&3,b=b*(2-(a&15)*b)&15,b=b*(2-(a&255)*b)&255,b=b*(2-((a&65535)*b&65535))&65535,b=b*(2-a*b%r.DV)%r.DV;return 0<b?r.DV-b:-b},drShiftTo:function(a,b){if(null!=b){for(var c=a;c<this.t;)b.chunks[c-a]=this.chunks[c],c++;b.t=Math.max(this.t-a,0)|0;b.sign=this.sign}},dlShiftTo:function(a,b){if(null!=b){for(var c=this.t-1;0<=c;)b.chunks[c+a]=this.chunks[c],c--;for(c=a-1;0<=c;)b.chunks[c]=
0,c--;b.t=this.t+a;b.sign=this.sign}},dAddOffset:function(a,b){for(;this.t<=b;)this.chunks[this.t]=0,this.t++;for(this.chunks[b]+=a;this.chunks[b]>=r.DV;)this.chunks[b]-=r.DV,++b>=this.t&&(this.chunks[this.t]=0,this.t++),++this.chunks[b]},sigNum:function(){return 0>this.sign?-1:0>=this.t||1==this.t&&0>=this.chunks[0]?0:1},byteValue:function(){return 0==this.t?this.sign:this.chunks[0]<<24>>24},shortValue:function(){return 0==this.t?this.sign:this.chunks[0]<<16>>16},padTo:function(a){for(;this.t<a;)this.chunks[this.t]=
0,this.t++},gcd:function(a){var b=0>this.sign?this.neg():this.clone(),a=0>a.sign?a.neg():a.clone();if(0>b.compare(a))var c=b,b=a,a=c;var c=b.getLowestSetBit(),e=a.getLowestSetBit();if(0>e)return b;c<e&&(e=c);0<e&&(b.rShiftTo(e,b),a.rShiftTo(e,a));for(;0<b.sigNum();)0<(c=b.getLowestSetBit())&&b.rShiftTo(c,b),0<(c=a.getLowestSetBit())&&a.rShiftTo(c,a),0<=b.compare(a)?(b.subTo(a,b),b.rShiftTo(1,b)):(a.subTo(b,a),a.rShiftTo(1,a));0<e&&a.lShiftTo(e,a);return a},clone:function(){var a=r.nbi();this.copyTo(a);
return a},clamp:function(){for(var a=this.sign&r.DM;0<this.t&&this.chunks[this.t-1]==a;)--this.t},subTo:function(a,b){for(var c=0,e=0,f=Math.min(a.t,this.t)|0;c<f;)e+=this.chunks[c]-a.chunks[c],b.chunks[c]=e&r.DM,c++,e>>=r.DB;if(a.t<this.t){for(e-=a.sign;c<this.t;)e+=this.chunks[c],b.chunks[c]=e&r.DM,c++,e>>=r.DB;e+=this.sign}else{for(e+=this.sign;c<a.t;)e-=a.chunks[c],b.chunks[c]=e&r.DM,c++,e>>=r.DB;e-=a.sign}b.sign=0>e?-1:0;-1>e?(b.chunks[c]=r.DV+e,c++):0<e&&(b.chunks[c]=e,c++);b.t=c;b.clamp()},
squareTo:function(a){if(a==this)throw"can not squareTo self";for(var b=this.abs(),c=a.t=2*b.t;0<=--c;)a.chunks[c]=0;for(c=0;c<b.t-1;){var e=b.am(c,b.chunks[c],a,2*c,0,1);if((a.chunks[c+b.t]+=b.am(c+1,2*b.chunks[c],a,2*c+1,e,b.t-c-1))>=r.DV)a.chunks[c+b.t]-=r.DV,a.chunks[c+b.t+1]=1;c++}0<a.t&&(b=b.am(c,b.chunks[c],a,2*c,0,1),a.chunks[a.t-1]+=b);a.sign=0;a.clamp()},multiplyUpperTo:function(a,b,c){--b;var e=c.t=this.t+a.t-b;for(c.sign=0;0<=--e;)c.chunks[e]=0;for(var e=Math.max(b-this.t,0)|0,f=a.t;e<
f;){var h=e++;c.chunks[this.t+h-b]=this.am(b-h,a.chunks[h],c,0,0,this.t+h-b)}c.clamp();c.drShiftTo(1,c)},multiplyTo:function(a,b){var c=this.abs(),e=a.abs(),f=c.t;for(b.t=f+e.t;0<=--f;)b.chunks[f]=0;for(var f=0,h=e.t;f<h;){var m=f++;b.chunks[m+c.t]=c.am(0,e.chunks[m],b,m,0,c.t)}b.sign=0;b.clamp();this.sign!=a.sign&&r.getZERO().subTo(b,b)},multiplyLowerTo:function(a,b,c){var e=Math.min(this.t+a.t,b)|0;c.sign=0;for(c.t=e;0<e;)--e,c.chunks[e]=0;for(var f=c.t-this.t;e<f;)c.chunks[e+this.t]=this.am(0,
a.chunks[e],c,e,0,this.t),++e;for(f=Math.min(a.t,b)|0;e<f;)this.am(0,a.chunks[e],c,e,0,b-e),++e;c.clamp()},divRemTo:function(a,b,c){var e=a.abs();if(!(0>=e.t)){var f=this.abs();if(f.t<e.t)null!=b&&b.fromInt(0),null!=c&&this.copyTo(c);else{null==c&&(c=r.nbi());var h=r.nbi(),m=this.sign,a=a.sign,g=r.DB-r.nbits(e.chunks[e.t-1]);0<g?(f.lShiftTo(g,c),e.lShiftTo(g,h)):(f.copyTo(c),e.copyTo(h));e=h.t;f=h.chunks[e-1];if(0!=f){var i=1*f*1*(1<<r.F1)+(1<e?1*(h.chunks[e-2]>>r.F2):0),k=r.FV/i,i=1*(1<<r.F1)/i,
w=1*(1<<r.F2),j=c.t,l=j-e,n=null==b?r.nbi():b;h.dlShiftTo(l,n);0<=c.compare(n)&&(c.chunks[c.t]=1,c.t++,c.subTo(n,c));r.getONE().dlShiftTo(e,n);for(n.subTo(h,h);h.t<e;)h.chunks[h.t]=0,h.t++;for(;0<=--l;){var o;o=c.chunks[--j]==f?r.DM:Math.floor(1*c.chunks[j]*k+(1*c.chunks[j-1]+w)*i);c.chunks[j]+=h.am(0,o,c,l,0,e);if(c.chunks[j]<o){h.dlShiftTo(l,n);for(c.subTo(n,c);c.chunks[j]<--o;)c.subTo(n,c)}}null!=b&&(c.drShiftTo(e,b),m!=a&&r.getZERO().subTo(b,b));c.t=e;c.clamp();0<g&&c.rShiftTo(g,c);0>m&&r.getZERO().subTo(c,
c)}}}},copyTo:function(a){for(var b=0,c=this.chunks.length;b<c;){var e=b++;a.chunks[e]=this.chunks[e]}a.t=this.t;a.sign=this.sign},addTo:function(a,b){for(var c=0,e=0,f=Math.min(a.t,this.t)|0;c<f;)e+=this.chunks[c]+a.chunks[c],b.chunks[c]=e&r.DM,c++,e>>=r.DB;if(a.t<this.t){for(e+=a.sign;c<this.t;)e+=this.chunks[c],b.chunks[c]=e&r.DM,c++,e>>=r.DB;e+=this.sign}else{for(e+=this.sign;c<a.t;)e+=a.chunks[c],b.chunks[c]=e&r.DM,c++,e>>=r.DB;e+=a.sign}b.sign=0>e?-1:0;0<e?(b.chunks[c]=e,c++):-1>e&&(b.chunks[c]=
r.DV+e,c++);b.t=c;b.clamp()},xor:function(a){var b=r.nbi();this.bitwiseTo(a,r.op_xor,b);return b},testBit:function(a){var b=Math.floor(a/r.DB);return b>=this.t?0!=this.sign:0!=(this.chunks[b]&1<<a%r.DB)},shr:function(a){var b=r.nbi();0>a?this.lShiftTo(-a,b):this.rShiftTo(a,b);return b},shl:function(a){var b=r.nbi();0>a?this.rShiftTo(-a,b):this.lShiftTo(a,b);return b},setBit:function(a){return this.changeBit(a,r.op_or)},or:function(a){var b=r.nbi();this.bitwiseTo(a,r.op_or,b);return b},not:function(){for(var a=
r.nbi(),b=0,c=this.t;b<c;){var e=b++;a.chunks[e]=r.DM&~this.chunks[e]}a.t=this.t;a.sign=~this.sign;return a},getLowestSetBit:function(){for(var a=0,b=this.t;a<b;){var c=a++;if(0!=this.chunks[c])return c*r.DB+r.lbit(this.chunks[c])}return 0>this.sign?this.t*r.DB:-1},flipBit:function(a){return this.changeBit(a,r.op_xor)},clearBit:function(a){return this.changeBit(a,r.op_andnot)},complement:function(){return this.not()},bitLength:function(){return 0>=this.t?0:r.DB*(this.t-1)+r.nbits(this.chunks[this.t-
1]^this.sign&r.DM)},bitCount:function(){for(var a=0,b=this.sign&r.DM,c=0,e=this.t;c<e;)var f=c++,a=a+r.cbit(this.chunks[f]^b);return a},andNot:function(a){var b=r.nbi();this.bitwiseTo(a,r.op_andnot,b);return b},and:function(a){var b=r.nbi();this.bitwiseTo(a,r.op_and,b);return b},sub:function(a){var b=r.nbi();this.subTo(a,b);return b},remainder:function(a){var b=r.nbi();this.divRemTo(a,null,b);return b},pow:function(a){return this.exp(a,new oa.Null)},neg:function(){var a=r.nbi();r.getZERO().subTo(this,
a);return a},mul:function(a){var b=r.nbi();this.multiplyTo(a,b);return b},modPowInt:function(a,b){if(null==b)throw"m is null";var c;c=256>a||b.isEven()?new oa.Classic(b):new oa.Montgomery(b);return this.exp(a,c)},modPow:function(a,b){var c=a.bitLength(),e,f=r.nbv(1),h;if(0>=c)return f;e=18>c?1:48>c?3:144>c?4:768>c?5:6;h=8>c?new oa.Classic(b):b.isEven()?new oa.Barrett(b):new oa.Montgomery(b);var m=[],g=3,i=e-1,k=(1<<e)-1;m[1]=h.convert(this);if(1<e){c=r.nbi();for(h.sqrTo(m[1],c);g<=k;)m[g]=r.nbi(),
h.mulTo(c,m[g-2],m[g]),g+=2}for(var w=a.t-1,j,l=!0,n=r.nbi(),c=r.nbits(a.chunks[w])-1;0<=w;){c>=i?j=a.chunks[w]>>c-i&k:(j=(a.chunks[w]&(1<<c+1)-1)<<i-c,0<w&&(j|=a.chunks[w-1]>>r.DB+c-i));for(g=e;0==(j&1);)j>>=1,--g;if(0>(c-=g))c+=r.DB,--w;if(l)m[j].copyTo(f),l=!1;else{for(;1<g;)h.sqrTo(f,n),h.sqrTo(n,f),g-=2;0<g?h.sqrTo(f,n):(g=f,f=n,n=g);h.mulTo(n,m[j],f)}for(g=a.chunks[w];0<=w&&0==(g&1<<c);)h.sqrTo(f,n),g=f,f=n,n=g,0>--c&&(c=r.DB-1,--w),g=a.chunks[w]}return h.revert(f)},modInverse:function(a){var b=
a.isEven();if(this.isEven()&&b||0==a.sigNum())return r.getZERO();for(var c=a.clone(),e=this.clone(),f=r.nbv(1),h=r.nbv(0),m=r.nbv(0),g=r.nbv(1);0!=c.sigNum();){for(;c.isEven();){c.rShiftTo(1,c);if(b){if(!f.isEven()||!h.isEven())f.addTo(this,f),h.subTo(a,h);f.rShiftTo(1,f)}else h.isEven()||h.subTo(a,h);h.rShiftTo(1,h)}for(;e.isEven();){e.rShiftTo(1,e);if(b){if(!m.isEven()||!g.isEven())m.addTo(this,m),g.subTo(a,g);m.rShiftTo(1,m)}else g.isEven()||g.subTo(a,g);g.rShiftTo(1,g)}0<=c.compare(e)?(c.subTo(e,
c),b&&f.subTo(m,f),h.subTo(g,h)):(e.subTo(c,e),b&&m.subTo(f,m),g.subTo(h,g))}if(0!=e.compare(r.getONE()))return r.getZERO();if(0<=g.compare(a))return g.sub(a);0>g.sigNum()&&g.addTo(a,g);return g},modInt:function(a){if(0>=a)return 0;var b=r.DV%a,c=0>this.sign?a-1:0;if(0<this.t)if(0==b)c=this.chunks[0]%a;else for(var e=this.t-1;0<=e;)c=(b*c+this.chunks[e])%a,--e;return c},mod:function(a){var b=r.nbi();this.abs().divRemTo(a,null,b);0>this.sign&&0<b.compare(r.getZERO())&&a.subTo(b,b);return b},min:function(a){return 0>
this.compare(a)?this:a},max:function(a){return 0<this.compare(a)?this:a},isEven:function(){return 0==(0<this.t?this.chunks[0]&1:this.sign)},eq:function(a){return 0==this.compare(a)},divideAndRemainder:function(a){var b=r.nbi(),c=r.nbi();this.divRemTo(a,b,c);return[b,c]},div:function(a){var b=r.nbi();this.divRemTo(a,b,null);return b},compare:function(a){var b=this.sign-a.sign;if(0!=b)return b;var c=this.t,b=c-a.t;if(0!=b)return b;for(;0<=--c;)if(b=this.chunks[c]-a.chunks[c],0!=b)return b;return 0},
add:function(a){var b=r.nbi();this.addTo(a,b);return b},abs:function(){return 0>this.sign?this.neg():this},toRadix:function(a){null==a&&(a=10);if(2>a||36<a)throw new G.UnsupportedException("invalid base for conversion");if(0==this.sigNum())return"0";var b=Math.floor(0.6931471805599453*r.DB/Math.log(a)),b=Math.pow(a,b)|0,c=r.nbv(b),e=r.nbi(),f=r.nbi(),h="";for(this.divRemTo(c,e,f);0<e.sigNum();)h=u.substr(da.baseEncode(b+f.toInt32(),a),1,null)+h,e.divRemTo(c,e,f);return da.baseEncode(f.toInt32(),a)+
h},toBytesUnsigned:function(){var a=new Ga,b=0,c=this.t,e=r.DB-c*r.DB%8,f=!1,h=0;if(0<c--){if(e<r.DB&&0<(b=this.chunks[c]>>e))f=!0,a.b.push(b),h++;for(;0<=c;)8>e?(b=(this.chunks[c]&(1<<e)-1)<<8-e,b|=this.chunks[--c]>>(e+=r.DB-8)):(b=this.chunks[c]>>(e-=8)&255,0>=e&&(e+=r.DB,--c)),0<b&&(f=!0),f&&(a.b.push(b),h++)}return a.getBytes()},toBytes:function(){var a=this.t,b=[];b[0]=this.sign;var c=r.DB-a*r.DB%8,e,f=0;if(0<a--){if(c<r.DB&&(e=this.chunks[a]>>c)!=(this.sign&r.DM)>>c)b[f]=e|this.sign<<r.DB-c,
f++;for(;0<=a;)if(8>c?(e=(this.chunks[a]&(1<<c)-1)<<8-c,--a,e|=this.chunks[a]>>(c+=r.DB-8)):(e=this.chunks[a]>>(c-=8)&255,0>=c&&(c+=r.DB,--a)),0!=(e&128)&&(e|=-256),0==f&&(this.sign&128)!=(e&128)&&++f,0<f||e!=this.sign)b[f]=e,f++}a=new Ga;c=0;for(e=b.length;c<e;)f=c++,a.b.push(b[f]);return a.getBytes()},toHex:function(){return this.toRadix(16).toString()},toString:function(){return this.toRadix(10).toString()},toInt32:function(){return this.toInt()},toInt:function(){if(0>this.sign){if(1==this.t)return this.chunks[0]-
r.DV;if(0==this.t)return-1}else{if(1==this.t)return this.chunks[0];if(0==this.t)return 0}return(this.chunks[1]&(1<<32-r.DB)-1)<<r.DB|this.chunks[0]},fromInt32:function(a){this.fromInt(a)},fromInt:function(a){this.t=1;this.chunks[0]=0;this.sign=0>a?-1:0;0<a?this.chunks[0]=a:-1>a?this.chunks[0]=a+r.DV:this.t=0},am:null,chunks:null,sign:null,t:null,__class__:r};la={Status:{__ename__:["math","_IEEE754","Status"],__constructs__:"Normal,Overflow,Underflow,Denormalized,Quiet,Signalling".split(",")}};la.Status.Normal=
["Normal",0];la.Status.Normal.toString=v;la.Status.Normal.__enum__=la.Status;la.Status.Overflow=["Overflow",1];la.Status.Overflow.toString=v;la.Status.Overflow.__enum__=la.Status;la.Status.Underflow=["Underflow",2];la.Status.Underflow.toString=v;la.Status.Underflow.__enum__=la.Status;la.Status.Denormalized=["Denormalized",3];la.Status.Denormalized.toString=v;la.Status.Denormalized.__enum__=la.Status;la.Status.Quiet=["Quiet",4];la.Status.Quiet.toString=v;la.Status.Quiet.__enum__=la.Status;la.Status.Signalling=
["Signalling",5];la.Status.Signalling.toString=v;la.Status.Signalling.__enum__=la.Status;$a=function(a){this.Size=a;this.BinaryPower=0;this.StatCond64=this.StatCond=la.Status.Normal;32==this.Size?(this.MaxExp=this.ExpBias=127,this.MinExp=-126,this.MinUnnormExp=-149):(this.Size=64,this.MaxExp=this.ExpBias=1023,this.MinExp=-1022,this.MinUnnormExp=-1074)};j["math.IEEE754"]=$a;$a.__name__=["math","IEEE754"];$a.floatToBytes=function(a,b){null==b&&(b=!1);var c=new $a(32);c.setEndian(b);c.rounding=!0;return c.convert(a)};
$a.doubleToBytes=function(a,b){null==b&&(b=!1);var c=new $a(64);c.setEndian(b);c.rounding=!0;return c.convert(a)};$a.bytesToFloat=function(a,b){null==b&&(b=!1);if(4!=a.length&&8!=a.length)throw"Bytes must be 4 or 8 bytes long";var c=new $a(4==a.length?32:64);c.setEndian(b);c.rounding=!0;return b?c.bytesToBin(a):c.bytesToBin(c.littleToBigEndian(a))};$a.splitFloat=function(a){var b={integral:0,decimal:0},c=n.string(a).toLowerCase(),e=c.indexOf("e"),f=0;if(0<=e)f=n.parseInt(u.substr(c,e+1,null));else return e=
c.indexOf("."),0<=e?(b.integral=n.parseFloat(u.substr(c,0,e)),b.decimal=n.parseFloat("0."+u.substr(c,e+1,null))):b.integral=n.parseFloat(c),b;c=u.substr(c,0,e);e=c.indexOf(".");c=F.replace(c,".","");0<f?(e+=f,e==c.length?b.integral=n.parseFloat(c):e>c.length?b.integral=a:(b.integral=n.parseFloat(u.substr(c,0,e)),b.decimal=n.parseFloat("0."+u.substr(c,e+1,null)))):(f+=e,0==f?b.decimal=n.parseFloat("0."+c):0>f?b.decimal=n.parseFloat("0."+c+"e"+n.string(f)):(b.integral=n.parseFloat(u.substr(c,0,f)),
b.decimal=n.parseFloat("0."+u.substr(c,f,null))));return b};$a.prototype={numStrClipOff:function(a,b){var c="",e=a.toUpperCase(),f="",c="",h=0,m=0,g=e.indexOf("E");-1!=g?(h=g,f=u.substr(a,g+1,a.length),m=n.parseInt(f)):(h=a.length,m=0);-1==a.indexOf(".")&&(e=u.substr(a,0,h),e+=".",a.length!=h&&(e+=u.substr(a,g,a.length)),a=e,g+=1,h+=1);var e=a.indexOf("."),i=0;"-"==a.charAt(i)?(i++,c="-"):c="";for(var k=i,w=!1;k<h&&!w;){for(var j=1;10>j;){if(a.charAt(k)=="0123456789".charAt(j)){w=!0;break}j++}k++}k--;
j=0;w?(j=e-k,0<j&&(j-=1),f="e"+(m+j)):k=i;m=h-k;e=u.substr(a,k,h);-1!=e.indexOf(".")&&(m-=1);w=m;b<m&&(w=b);e=u.substr(a,k,k+w+1);if(k!=i||-1==e.indexOf(".")){c+=u.substr(a,k,k+1);for(c=c+"."+u.substr(a,k+1,k+w);m<b;)c+="0",m+=1;c+=f}else{for(c=u.substr(a,0,i+w+1);m<b;)c+="0",m+=1;a.length!=h&&(c+=u.substr(a,g,a.length))}return c},Convert2Dec:function(){var a=Math.log(10),b=32==this.Size?9:12,c=0,e=0;this.BinaryPower<this.MinExp||this.BinaryPower>this.MaxExp?e=c=0:(c=-1,e=1);for(var f=b,h=this.Size;f<
h;)var m=f++,e=e+(this.Result[m]|0)*Math.pow(2,c+b-m);c=e*Math.pow(2,this.BinaryPower);32==this.Size?(b=8,0<e&&(a=Math.floor(Math.log(c)/a),c+=0.5*Math.pow(10,a-b+1))):b=17;1==this.Result[0]&&(c=-c);return c=n.parseFloat(this.numStrClipOff(n.string(c),b))},bytesToBin:function(a){this.initBuffers();for(var b=0,c=0,e=this,f=function(a,b){for(var c=0;4>c;){var f=c++,a=2*a;1<=a?(e.Result[b+f]=1,a-=1):e.Result[b+f]=0}};b<this.Size;)f(((a.b[c]&240)>>4)/16,b),b+=4,f((a.b[c]&15)/16,b),b+=4,c++;a=0;c=32==
this.Size?9:12;for(b=1;b<c;)f=b++,a+=this.Result[f]*Math.pow(2,c-f-1)|0;this.BinaryPower=a-=this.ExpBias;b=1024-a;a>=this.MinExp&&a<=this.MaxExp&&(this.BinVal[b]=1,b++);var h=b,f=!1;0==this.Result[c]&&(f=!0);this.BinVal[b]=this.Result[c];c++;b++;for(var m=!0;c<this.Size&&2102>b;)1==this.Result[c]&&(m=!1),this.BinVal[b]=this.Result[c],c++,b++;for(;2102>h&&1!=this.BinVal[h];)h++;b=1024-h;if(a<this.MinExp)this.StatCond=-1078==b?la.Status.Normal:b<this.MinUnnormExp?la.Status.Underflow:la.Status.Denormalized;
else if(a>this.MaxExp){if(f&&m)return this.StatCond=la.Status.Overflow,1==this.Result[0]?Math.NEGATIVE_INFINITY:Math.POSITIVE_INFINITY;this.StatCond=!f&&m&&1==this.Result[0]?la.Status.Quiet:f?la.Status.Signalling:la.Status.Quiet;return Math.NaN}return this.Convert2Dec()},toBytes:function(){for(var a=32==this.Size?4:8,b=pa.alloc(a),c=0,e=0;c<this.Size;){for(var f=0,h=0,m=0;4>m;)var g=m++,f=f+(Math.pow(2,3-g)|0)*this.Result[c+g];h=f<<4;f=0;c+=4;for(m=0;4>m;)g=m++,f+=(Math.pow(2,3-g)|0)*this.Result[c+
g];h|=f;b.b[e++]=h&255;c+=4}if(!this.bigEndian){c=pa.alloc(a);e=a-1;for(m=0;m<a;)g=m++,c.b[e]=b.b[g]&255,e--;b=c}return b},Convert2Bin:function(){var a=this.BinaryPower,b=0,c=0,e=c=b=0,f=32==this.Size?9:12,h=0;if(this.rounding&&this.StatCond64==la.Status.Normal){for(;2102>e&&1!=this.BinVal[e];)e++;1024-e>=this.MinExp?e++:(b=this.MinExp-1,e=1024-b);b=this.Size-1-f+e;if(1==this.BinVal[b+1]){c=0;if(1==this.BinVal[b])c=1;else for(h=b+2;0==c&&2102>h;)c=this.BinVal[h],h++;for(h=b;1==c&&0<=h;)0==this.BinVal[h]?
(this.BinVal[h]=1,c=0):this.BinVal[h]=0,h--}e-=2;0>e&&(e=0)}for(;2102>e&&1!=this.BinVal[e];)e++;c=1024-e;if(this.StatCond64==la.Status.Normal)if(b=c,b>=this.MinExp&&b<=this.MaxExp)e++;else{if(b<this.MinExp)this.StatCond=-1078==c?la.Status.Normal:c<this.MinUnnormExp?la.Status.Underflow:la.Status.Denormalized,b=this.MinExp-1,e=1024-b}else b=a,e=1024-b,b>this.MaxExp?b=this.MaxExp+1:b<this.MinExp&&(b=this.MinExp-1);for(;f<this.Size&&2102>e;)this.Result[f]=this.BinVal[e],f++,e++;if(b>this.MaxExp||this.StatCond64!=
la.Status.Normal){if(this.StatCond64==la.Status.Normal)return this.infinity(1==this.Result[0]);this.StatCond=this.StatCond64}e=32==this.Size?8:11;this.BinaryPower=b;b+=this.ExpBias;for(a=1*b;0!=a/2;)f=(a|0)%2,this.Result[e]=f,a=0==f?a/2:a/2-0.5,e--,a=$a.splitFloat(10*a).integral/10;return this.toBytes()},convert:function(a){this.input=a;this.StatCond64=this.StatCond=la.Status.Normal;if(this.input==Math.POSITIVE_INFINITY)return this.infinity(!1);if(this.input==Math.NEGATIVE_INFINITY)return this.infinity(!0);
if(Math.isNaN(this.input)){var a=new Ga,b=2;32==this.Size?(a.b.push(255),a.b.push(192)):(a.b.push(255),a.b.push(248),b=6);for(var c=0;c<b;)c++,a.b.push(0);return this.bufToEndian(a.getBytes())}this.BinaryPower=0;this.initBuffers();this.Result[0]=0;0>this.input&&(this.Result[0]=1);a=Math.abs(this.input);b=$a.splitFloat(a);a=b.integral;b=b.decimal;for(c=1024;0!=a/2&&0<=c;){for(var e=a;2147483647<e;)e/=10;e=(e|0)%2;this.BinVal[c]=e;a=0==e?a/2:a/2-0.5;a=$a.splitFloat(10*a).integral/10;c--}for(c=1025;0<
b&&2102>c;)b*=2,1<=b?(this.BinVal[c]=1,b--):this.BinVal[c]=0,c++;for(c=0;2102>c&&1!=this.BinVal[c];)c++;this.BinaryPower=1024-c;if(this.BinaryPower<this.MinExp)this.BinaryPower=this.MinExp-1;return this.Convert2Bin()},infinity:function(a){if(a){var a=new Ga,b=2;32==this.Size?(a.b.push(255),a.b.push(128)):(a.b.push(255),a.b.push(240),b=6);var c=0}else a=new Ga,b=2,32==this.Size?(a.b.push(127),a.b.push(128)):(a.b.push(127),a.b.push(240),b=6),c=0;for(;c<b;)c++,a.b.push(0);return this.bufToEndian(a.getBytes())},
bufToEndian:function(a){this.bigEndian||(a=this.littleToBigEndian(a));return a},littleToBigEndian:function(a){for(var b=32==this.Size?4:8,c=pa.alloc(b),e=b-1,f=0;f<b;){var h=f++;c.b[e]=a.b[h]&255;e--}return c},initBuffers:function(){this.BinVal=[];for(var a=0;2102>a;){var b=a++;this.BinVal[b]=0}this.Result=[];for(var c=0,a=this.Size;c<a;)b=c++,this.Result[b]=0},setEndian:function(a){return this.bigEndian=a},StatCond64:null,StatCond:null,Result:null,MinUnnormExp:null,MinExp:null,MaxExp:null,ExpBias:null,
BinVal:null,BinaryPower:null,Size:null,rounding:null,input:null,bigEndian:null,__class__:$a,__properties__:{set_bigEndian:"setEndian"}};Va={IPrng:function(){}};j["math.prng.IPrng"]=Va.IPrng;Va.IPrng.__name__=["math","prng","IPrng"];Va.IPrng.prototype={toString:null,next:null,init:null,size:null,__class__:Va.IPrng};Va.ArcFour=function(){this.j=this.i=0;this.S=[];this.setSize(256)};j["math.prng.ArcFour"]=Va.ArcFour;Va.ArcFour.__name__=["math","prng","ArcFour"];Va.ArcFour.__interfaces__=[Va.IPrng];Va.ArcFour.prototype=
{toString:function(){return"ArcFour"},setSize:function(a){if(0!=a%4||32>a)throw"invalid size";return this.size=a},next:function(){if(0==this.S.length)throw"not initialized";var a;this.i=this.i+1&255;this.j=this.j+this.S[this.i]&255;a=this.S[this.i];this.S[this.i]=this.S[this.j];this.S[this.j]=a;return this.S[a+this.S[this.i]&255]},init:function(a){for(var b,c=0;256>c;)b=c++,this.S[b]=b;for(c=this.j=0;256>c;){var e=c++;this.j=this.j+this.S[e]+a[e%a.length]&255;b=this.S[e];this.S[e]=this.j;this.S[this.j]=
b}this.j=this.i=0},size:null,S:null,j:null,i:null,__class__:Va.ArcFour};Va.Random=function(a){this.createState(a);this.initialized=!1};j["math.prng.Random"]=Va.Random;Va.Random.__name__=["math","prng","Random"];Va.Random.prototype={createState:function(a){this.state=null==a?new Va.ArcFour:a;if(null==this.pool){this.pool=[];for(this.pptr=0;this.pptr<this.state.size;)a=Math.floor(65536*Math.random()),this.pool[this.pptr++]=a>>>8,this.pool[this.pptr++]=a&255;this.pptr=0;this.seedTime()}},seedTime:function(){this.seedInt(1E3*
(new Date).getTime()|0)},seedInt:function(a){this.pool[this.pptr++]^=a&255;this.pool[this.pptr++]^=a>>8&255;this.pool[this.pptr++]^=a>>16&255;this.pool[this.pptr++]^=a>>24&255;this.pptr>=this.state.size&&(this.pptr-=this.state.size)},nextBytesStream:function(a,b){for(var c=0;c<b;)c++,a.writeUInt8(this.next())},nextBytes:function(a,b,c){for(var e=0;e<c;){var f=e++;a.b[b+f]=this.next()&255}},next:function(){if(!1==this.initialized){this.createState();this.state.init(this.pool);for(var a=0,b=this.pool.length;a<
b;)this.pool[a++]=0;this.pptr=0;this.pool=[];this.initialized=!0}return this.state.next()},initialized:null,pptr:null,pool:null,state:null,__class__:Va.Random};oa={ModularReduction:function(){}};j["math.reduction.ModularReduction"]=oa.ModularReduction;oa.ModularReduction.__name__=["math","reduction","ModularReduction"];oa.ModularReduction.prototype={sqrTo:null,mulTo:null,reduce:null,revert:null,convert:null,__class__:oa.ModularReduction};oa.Barrett=function(a){this.r2=r.nbi();this.q3=r.nbi();r.getONE().dlShiftTo(2*
a.t,this.r2);this.mu=this.r2.div(a);this.m=a};j["math.reduction.Barrett"]=oa.Barrett;oa.Barrett.__name__=["math","reduction","Barrett"];oa.Barrett.__interfaces__=[oa.ModularReduction];oa.Barrett.prototype={mulTo:function(a,b,c){a.multiplyTo(b,c);this.reduce(c)},sqrTo:function(a,b){a.squareTo(b);this.reduce(b)},reduce:function(a){a.drShiftTo(this.m.t-1,this.r2);if(a.t>this.m.t+1)a.t=this.m.t+1,a.clamp();this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3);for(this.m.multiplyLowerTo(this.q3,this.m.t+
1,this.r2);0>a.compare(this.r2);)a.dAddOffset(1,this.m.t+1);for(a.subTo(this.r2,a);0<=a.compare(this.m);)a.subTo(this.m,a)},revert:function(a){return a},convert:function(a){if(0>a.sign||a.t>2*this.m.t)return a.mod(this.m);if(0>a.compare(this.m))return a;var b=r.nbi();a.copyTo(b);this.reduce(b);return b},q3:null,r2:null,mu:null,m:null,__class__:oa.Barrett};oa.Classic=function(a){this.m=a};j["math.reduction.Classic"]=oa.Classic;oa.Classic.__name__=["math","reduction","Classic"];oa.Classic.__interfaces__=
[oa.ModularReduction];oa.Classic.prototype={sqrTo:function(a,b){a.squareTo(b);this.reduce(b)},mulTo:function(a,b,c){a.multiplyTo(b,c);this.reduce(c)},reduce:function(a){a.divRemTo(this.m,null,a)},revert:function(a){return a},convert:function(a){return 0>a.sign||0<=a.compare(this.m)?a.mod(this.m):a},m:null,__class__:oa.Classic};oa.Montgomery=function(a){this.m=a;this.mp=this.m.invDigit();this.mpl=this.mp&32767;this.mph=this.mp>>15;this.um=(1<<r.DB-15)-1;this.mt2=2*this.m.t};j["math.reduction.Montgomery"]=
oa.Montgomery;oa.Montgomery.__name__=["math","reduction","Montgomery"];oa.Montgomery.__interfaces__=[oa.ModularReduction];oa.Montgomery.prototype={sqrTo:function(a,b){a.squareTo(b);this.reduce(b)},mulTo:function(a,b,c){a.multiplyTo(b,c);this.reduce(c)},reduce:function(a){a.padTo(this.mt2);for(var b=0;b<this.m.t;){var c=a.chunks[b]&32767,e=c*this.mpl+((c*this.mph+(a.chunks[b]>>15)*this.mpl&this.um)<<15)&r.DM,c=b+this.m.t;for(a.chunks[c]+=this.m.am(0,e,a,b,0,this.m.t);a.chunks[c]>=r.DV;)a.chunks[c]-=
r.DV,a.chunks.length<c+2&&(a.chunks[c+1]=0),a.chunks[++c]++;b++}a.clamp();a.drShiftTo(this.m.t,a);0<=a.compare(this.m)&&a.subTo(this.m,a)},revert:function(a){var b=r.nbi();a.copyTo(b);this.reduce(b);return b},convert:function(a){var b=r.nbi();a.abs().dlShiftTo(this.m.t,b);b.divRemTo(this.m,null,b);0>a.sign&&0<b.compare(r.getZERO())&&this.m.subTo(b,b);return b},um:null,mph:null,mpl:null,mp:null,mt2:null,m:null,__class__:oa.Montgomery};oa.Null=function(){};j["math.reduction.Null"]=oa.Null;oa.Null.__name__=
["math","reduction","Null"];oa.Null.__interfaces__=[oa.ModularReduction];oa.Null.prototype={reduce:function(){},sqrTo:function(a,b){a.squareTo(b)},mulTo:function(a,b,c){a.multiplyTo(b,c)},revert:function(a){return a},convert:function(a){return a},__class__:oa.Null};var Pb;Pb=function(){};j["rg.RGConst"]=Pb;Pb.__name__=["rg","RGConst"];mb=function(a){this.layouts=new ea;this.globalNotifier=a};nb=void 0;Eb=void 0;j["rg.app.charts.App"]=mb;mb.__name__=["rg","app","charts","App"];mb.nextid=function(){return":RGVIZ-"+
++mb.lastid};mb.supportsSvg=function(){return!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect};mb.prototype={getLayout:function(a,b,c,e){var f=this.layouts.get(a);if(null!=f)if(e)f.destroy();else return f;e=ua.feed(new sd,b);b=(new Kb).create(e,null==b.marginheight?0:b.marginheight,c);this.layouts.set(a,b);return b},visualization:function(a,b){var c=this;mb.chartsCounter++;var e=a.node(),f=e.id;if(null==f)e.id=f=mb.nextid();var e=ua.feed(new td,
b),h=new ne(ua.feed(new ud,b).loader),m=(new Vd).createVariables(e.variables),g=ua.feed(new vd,e.options),i=ua.feed(new wd,e.options),k=!mb.supportsSvg()||g.forcelegacy,w=null,j=B.filter(m,function(a){return I.__instanceof(a,yc)}),l=B.filter(m,function(a){return I.__instanceof(a,Pc)});h.onLoad.addOnce(function(a){(new Td).process(a,j);(new Ud).process(a,l)});if(!k){switch(ua.feed(new xd,e.options).kind[1]){case 1:f=this.getLayout(f,e.options,a,i.replace);w=(new Wd).create(i.type,f,e.options);break;
case 0:i.replace&&a.selectAll("*").remove(),w=(new Xd).create(i.type,a,e.options)}w.setVariables(m,j,l);w.init();null!=g.ready&&w.addReady(g.ready);h.onLoad.addOnce(function(a){w.feedData(a)})}var n=0,o=ua.feed(new yd,b.options.download);if(k){var p=new Sa(a,o.legacyservice);h.onLoad.addOnce(function(a){b.datapoints=a;p.display(b);if(null!=g.ready)p.onReady(g.ready)})}if(!k&&(null!=o.position||null!=o.handler)){var r=new Tb(w.container,o.service);null!=o.handler?w.addReadyOnce(function(){o.handler(y(r,
r.download))}):w.addReadyOnce(function(){new L.DownloaderMenu(y(r,r.download),o.position,o.formats,w.container);n=24})}k||(!b.options.a&&"file://"!=document.location.href.substr(0,7)&&w.addReadyOnce(function(){L.Logo.createLogo(w.container,n)}),w.addReadyOnce(function(){mb.chartsLoaded++;mb.chartsLoaded==mb.chartsCounter&&c.globalNotifier.dispatch()}));Wb.delay(y(h,h.load),0);return w},globalNotifier:null,layouts:null,__class__:mb};nb=function(){};j["rg.app.charts.JSBridge"]=nb;nb.__name__=["rg",
"app","charts","JSBridge"];nb.log=function(a){(window.console&&window.console.warn||alert)(a)};nb.getInternetExplorerVersion=function(){var a=-1;if("Microsoft Internet Explorer"==ma.window.navigator.appName){var b=ma.window.navigator.userAgent,c=new R("MSIE ([0-9]{1,}[\\.0-9]{0,})","");null!=c.match(b)&&(a=n.parseFloat(c.matched(1)))}return a};nb.main=function(){var a="undefined"==typeof ReportGrid?window.ReportGrid={}:ReportGrid,b=new sc,c=!1;b.addOnce(function(){c=!0});a.charts={ready:function(a){c?
a():b.add(a)}};var e=new mb(b);a.chart=function(a,b,c){b=nb.chartopt(b,c);b.options.a=!1;Eb.complete(b,function(b){try{e.visualization(nb.select(a),b)}catch(c){I.__instanceof(c,J.Error)?nb.log(c.toString()):nb.log(n.string(c))}})};a.barChart=function(b,c){return a.chart(b,c,"barchart")};a.funnelChart=function(b,c){return a.chart(b,c,"funnelchart")};a.geo=function(b,c){return a.chart(b,c,"geo")};a.heatGrid=function(b,c){return a.chart(b,c,"heatgrid")};a.leaderBoard=function(b,c){return a.chart(b,c,
"leaderboard")};a.lineChart=function(b,c){return a.chart(b,c,"linechart")};a.pieChart=function(b,c){return a.chart(b,c,"piechart")};a.pivotTable=function(b,c){return a.chart(b,c,"pivottable")};a.sankey=function(b,c){return a.chart(b,c,"sankey")};a.scatterGraph=function(b,c){return a.chart(b,c,"scattergraph")};a.streamGraph=function(b,c){return a.chart(b,c,"streamgraph")};a.parseQueryParameters=wc.parseQueryParameters;a.findScript=qd.findScript;a.format=fa.format;a.compare=fa.compare;a.dump=fa.string;
var f=V.SymbolCache.cache;a.symbol=function(a,b){return f.get(a,null==b?100:b)};a.date={range:function(a,b,c){I.__instanceof(a,String)&&(a=x.DateParser.parse(a));null==a&&(a=W.defaultRange(c)[0]);I.__instanceof(a,Date)&&(a=a.getTime());I.__instanceof(b,String)&&(b=x.DateParser.parse(b));null==b&&(b=W.defaultRange(c)[1]);I.__instanceof(b,Date)&&(b=b.getTime());return W.range(a,b,c)},formatPeriodicity:function(a,b){var c=I.__instanceof(a,Date)?a.getTime():I.__instanceof(a,Fc)?a:x.DateParser.parse(a).getTime();
return W.format(b,c)},parse:x.DateParser.parse,snap:va.snap};a.humanize=function(a){return I.__instanceof(a,String)&&ya.isTime(a)?ya.periodicity(a):Ca.humanize(a)};var h=new C.Random(666);a.math={setRandomSeed:function(a){h=new C.Random(a)},random:function(){return((h.seed=16807*h.seed%2147483647)&1073741823)/1073741823}};a.query=null!=a.query?a.query:nb.createQuery();a.info=null!=a.info?a.info:{};a.info.charts={version:"1.5.30.9072"};a.getTooltip=function(){return L.Tooltip.get_instance()}};nb.createQuery=
function(){for(var a=Jb.create(),b={},c=0,e=K.getInstanceFields(K.getClass(a));c<e.length;){var f=[e[c]];++c;"_"!=u.substr(f[0],0,1)&&l.isFunction(l.field(a,f[0]))&&(b[f[0]]=function(a){return function(){var b=Jb.create();return l.field(b,a[0]).apply(b,arguments)}}(f))}return b};nb.select=function(a){var b=I.__instanceof(a,String)?U.select(a):U.selectNode(a);if(b.empty())throw new J.Error("invalid container '{0}'",a,null,{fileName:"JSBridge.hx",lineNumber:193,className:"rg.app.charts.JSBridge",methodName:"select"});
return b};nb.opt=function(a){return null==a?{}:ga.clone(a)};nb.chartopt=function(a,b){a=null==a?{}:ga.clone(a);a.options=nb.opt(a.options);a.options.visualization=null!=b?b:a.options.visualization;return a};Eb=function(){};j["rg.app.charts.MVPOptions"]=Eb;Eb.__name__=["rg","app","charts","MVPOptions"];Eb.a1=function(a,b){var c=ReportGrid.authCode,e=!1;null==c&&(c=qd.findScript("reportgrid-charts.js"),c=wc.parseQueryParameters(c.src),c=l.field(c,"authCode"));if(null!=c){var c=new Qd(c),f=[],h=ma.window.location.hostname;
if((new R("^\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$","")).match(h))f.push(h);else{h=h.split(".");3==h.length&&"www"==h[0]&&h.shift();for(f.push(h.join("."));2<h.length;)h.shift();f.push("*."+h.join("."))}e=c.authorizeMany(f)}else e=L.Logo.pageIsBranded();Eb.a1=function(a,b){a.options.a=e;b(a)};Eb.a1(a,b)};Eb.a2=function(a,b){var c=function(c){Eb.a2=null==c?function(a,b){b(a)}:function(a,b){a.options.a=c;b(a)};Eb.a2(a,b)},e=ReportGrid.token;a.options.a||null==e?c(null):e(function(a){c((0>=a.expires||
a.expires>=(new Date).getTime())&&a.permissions.read)},function(){c(null)})};Eb.complete=function(a,b){var c=new Rd(b);if(null==a.options)a.options={};var e=a.options;if(null!=e.download&&!cb.isAnonymous(e.download)){var f=e.download;l.deleteField(e,"download");if(!0==f)e.download={position:"auto"};else if(I.__instanceof(f,String))e.download={position:f};else throw new J.Error("invalid value for download '{0}'",[f],null,{fileName:"MVPOptions.hx",lineNumber:118,className:"rg.app.charts.MVPOptions",
methodName:"complete"});}if(null!=e.map&&cb.isAnonymous(e.map))e.map=[e.map];c.addAction(Eb.a1);c.addAction(Eb.a2);c.addAction(function(a,b){var c=a.axes,e=!1;null==c&&(c=[]);a.axes=c=c.map(function(a){return I.__instanceof(a,String)?{type:a}:a});for(var f=0,g=c.length;f<g;){var i=f++,j=c[i].variable;null==j?c[i].variable=!e&&i==c.length-1?"dependent":"independent":"dependent"==j&&(e=!0)}for(g=0;g<c.length;)if(e=c[g],++g,"dependent"!=e.variable)switch(a.options.visualization){case "barchart":if(null==
e.scalemode)e.scalemode="fit";break;case "pivottable":if(null==e.scalemode)e.scalemode="fit"}b(a)});c.addAction(function(a,b){if(null==a.options.label)a.options.label={};switch(a.options.visualization){case "linechart":var c=a.axes[0].type;if(null==a.options.label.datapointover)a.options.label.datapointover=function(b,e){return(null!=a.options.segmenton?ya.formatValue(a.options.segmenton,b)+", ":"")+ya.formatValue(c,b)+": "+ya.formatValue(e.type,b)};break;case "barchart":c=a.axes[0].type;if(null==
a.options.label.datapointover)a.options.label.datapointover=function(b,e){return(null!=a.options.segmenton?ya.formatValue(a.options.segmenton,b)+", ":"")+ya.formatValue(c,b)+": "+ya.formatValue(e.type,b)};break;case "streamgraph":c=a.axes[0].type;if(null==a.options.label.datapointover)a.options.label.datapointover=function(b,e){return(null!=a.options.segmenton?ya.formatValue(a.options.segmenton,b)+", ":"")+ya.formatValue(c,b)+": "+ya.formatValue(e.type,b)};break;case "scattergraph":var e=a.axes[0].type;
if(null==a.options.label.datapointover)a.options.label.datapointover=function(a,b){return ya.formatValue(e,a)+": "+ya.formatValue(b.type,a)};break;case "heatgrid":e=a.axes[0].type;if(null==a.options.label.datapointover)a.options.label.datapointover=function(a,b){return ya.formatValue(e,a)+": "+ya.formatValue(b.type,a)};break;case "geo":var f=a.axes[0].type,g=a.options.map;if(null==g[g.length-1].label)g[g.length-1].label={};if(null==g[g.length-1].label.datapointover)g[g.length-1].label.datapointover=
function(a,b){var c=ya.formatValue(f,a);return null==c?null:c+": "+ya.formatValue(b.type,a)};break;case "piechart":if(null==a.options.label.datapoint)a.options.label.datapoint=function(b,c){var e=l.field(b,c.type);return 1<a.axes.length?ya.formatValue(a.axes[0].type,b):0!=c.tot?D.format(Math.round(1E3*e/c.tot)/10,"P:1"):Ca.humanize(e)};if(null==a.options.label.datapointover)a.options.label.datapointover=function(b,c){var e=l.field(b,c.type);return Ca.humanize(c.type)+": "+Ca.humanize(e)+(1<a.axes.length&&
0!=c.tot?" ("+D.format(Math.round(1E3*e/c.tot)/10,"P:1")+")":"")};break;case "funnelchart":if(null==a.options.label.datapointover)a.options.label.datapointover=function(b,c){var e=l.field(b,c.type);return Ca.humanize(c.type)+": "+Ca.humanize(e)+(1<a.axes.length&&0!=c.tot?" ("+D.format(Math.round(1E3*e/c.tot)/10,"P:1")+")":"")};break;case "sankey":var g=a.axes,i=g[g.length-1].type;if(null==a.options.label.datapointover)a.options.label.datapointover=function(a,b){var c=l.field(a,i);return Ca.humanize(i)+
": "+ya.formatValue(i,a)+"\n"+(0!=b.tot?D.format(Math.round(1E3*c/b.tot)/10,"P:1"):Ca.humanize(c))};if(null==a.options.label.node)a.options.label.node=function(a){return null!=a?a.id:""};if(null==a.options.label.datapoint)a.options.label.datapoint=function(a){return ya.formatValue(i,a)+"\n"+Ca.humanize(i)};if(null==a.options.label.edge)a.options.label.edge=function(a){return D.format(100*a.edgeweight/a.nodeweight,"D:0")+"%"};if(null==a.options.label.edgeover)a.options.label.edgeover=function(a){return D.format(a.edgeweight,
"D:0")+"\n"+D.format(100*a.edgeweight/a.nodeweight,"D:0")+"%"}}b(a)});c.execute(a)};Pd=function(){};nc=void 0;md=void 0;Rb=void 0;Za=void 0;Gb=void 0;nd=void 0;Hb=void 0;wb=void 0;ac=void 0;Ib=void 0;sb=void 0;Sb=void 0;vc=void 0;Oc=void 0;bc=void 0;od=void 0;pd=void 0;j["rg.axis.IAxis"]=Pd;Pd.__name__=["rg","axis","IAxis"];Pd.prototype={createStats:null,min:null,max:null,ticks:null,scale:null,__class__:Pd};nc=function(){};j["rg.axis.IAxisDiscrete"]=nc;nc.__name__=["rg","axis","IAxisDiscrete"];nc.__interfaces__=
[Pd];nc.prototype={range:null,scaleDistribution:null,__class__:nc};md=function(){};j["rg.axis.IAxisOrdinal"]=md;md.__name__=["rg","axis","IAxisOrdinal"];md.__interfaces__=[nc];md.prototype={values:null,allTicks:null,last:null,first:null,__class__:md};Rb=function(){this.set_scaleDistribution(Za.ScaleFit)};j["rg.axis.AxisOrdinal"]=Rb;Rb.__name__=["rg","axis","AxisOrdinal"];Rb.__interfaces__=[md];Rb.prototype={createStats:function(a){return new Gb(a)},max:function(){return B.last(this.values())},min:function(){return this.values()[0]},
set_scaleDistribution:function(a){return this.scaleDistribution=a},allTicks:function(){var a=this,b=this.first(),c=this.last();return this.range(b,c).map(function(e){return a.toTickmark(b,c,e)})},values:function(){throw new J.AbstractMethod({fileName:"AxisOrdinal.hx",lineNumber:64,className:"rg.axis.AxisOrdinal",methodName:"values"});},last:function(){return B.last(this.values())},first:function(){return this.values()[0]},scale:function(a,b,c){var e=this.values(),f=e.indexOf(a),h=e.indexOf(b),m=e.indexOf(c);
if(0>f)throw new J.Error("the start bound '{0}' is not part of the values {1}",[a,e],null,{fileName:"AxisOrdinal.hx",lineNumber:54,className:"rg.axis.AxisOrdinal",methodName:"scale"});if(0>h)throw new J.Error("the end bound '{0}' is not part of the values {1}",[b,e],null,{fileName:"AxisOrdinal.hx",lineNumber:56,className:"rg.axis.AxisOrdinal",methodName:"scale"});if(0>m)throw new J.Error("the value '{0}' is not part of the values {1}",[c,e],null,{fileName:"AxisOrdinal.hx",lineNumber:58,className:"rg.axis.AxisOrdinal",
methodName:"scale"});return nd.distribute(this.scaleDistribution,m-f,h-f+1)},range:function(a,b){var c=this.values(),e=c.indexOf(a),f=c.indexOf(b);if(0>e)throw new J.Error("the start bound '{0}' is not part of the acceptable values {1}",[a,c],null,{fileName:"AxisOrdinal.hx",lineNumber:41,className:"rg.axis.AxisOrdinal",methodName:"range"});if(0>f)throw new J.Error("the end bound '{0}' is not part of the acceptable values {1}",[b,c],null,{fileName:"AxisOrdinal.hx",lineNumber:43,className:"rg.axis.AxisOrdinal",
methodName:"range"});return c.slice(e,f+1)},ticks:function(a,b,c){if(0==c)return[];a=Hb.fromArray(this.range(a,b),this.scaleDistribution);return wb.bound(a,c)},toTickmark:function(a,b,c){a=this.range(a,b);return new Hb(a.indexOf(c),a,null,this.scaleDistribution)},scaleDistribution:null,__class__:Rb,__properties__:{set_scaleDistribution:"set_scaleDistribution"}};ac=function(a){Rb.call(this);this._values=a};j["rg.axis.AxisOrdinalFixedValues"]=ac;ac.__name__=["rg","axis","AxisOrdinalFixedValues"];ac.__super__=
Rb;ac.prototype=H(Rb.prototype,{values:function(){return this._values},_values:null,__class__:ac});Ib=function(a){ac.call(this,Ib.valuesByGroup(a));this.groupBy=a};j["rg.axis.AxisGroupByTime"]=Ib;Ib.__name__=["rg","axis","AxisGroupByTime"];Ib.valuesByGroup=function(a){return O.range(Ib.defaultMin(a),Ib.defaultMax(a)+1)};Ib.defaultMin=function(a){switch(a){case "minute":return 0;case "hour":return 0;case "week":return 0;case "month":return 0;case "day":return 1;default:throw new J.Error("invalid periodicity '{0}' for groupBy min",
null,a,{fileName:"AxisGroupByTime.hx",lineNumber:34,className:"rg.axis.AxisGroupByTime",methodName:"defaultMin"});}};Ib.defaultMax=function(a){switch(a){case "minute":return 59;case "hour":return 23;case "day":return 31;case "week":return 6;case "month":return 11;default:throw new J.Error("invalid periodicity '{0}' for groupBy max",null,a,{fileName:"AxisGroupByTime.hx",lineNumber:48,className:"rg.axis.AxisGroupByTime",methodName:"defaultMax"});}};Ib.__super__=ac;Ib.prototype=H(ac.prototype,{groupBy:null,
__class__:Ib});sb=function(){};j["rg.axis.AxisNumeric"]=sb;sb.__name__=["rg","axis","AxisNumeric"];sb.__interfaces__=[Pd];sb._step=function(a,b){var c=Math.pow(10,Math.floor(Math.log(a/b)/2.302585092994046)),e=b/a*c;0.15>=e?c*=10:0.35>=e?c*=5:0.75>=e&&(c*=2);return c};sb.nice=function(a){return Math.pow(10,Math.round(Math.log(a)/2.302585092994046)-1)};sb.niceMin=function(a,b){var c=Math.pow(10,Math.round(Math.log(a)/2.302585092994046)-1);return Math.floor(b/c)*c};sb.niceMax=function(a,b){var c=Math.pow(10,
Math.round(Math.log(a)/2.302585092994046)-1);return Math.ceil(b/c)*c};sb.prototype={createStats:function(a){return new Sb(a)},max:function(a,b){if(null!=b.max)return b.max;var c=sb.niceMax(a.max-a.min,a.max);return 0<c?c:0},min:function(a,b){if(null!=b.min)return b.min;var c=sb.niceMin(a.max-a.min,a.min);return 0>c?c:0},ticks:function(a,b,c){var e=b-a,f;if(0==a%1&&0==b%1&&10>e&&1<=e)f=D.range(a,b+1,1),e=null;else{var h=sb._step(e,5),e=sb._step(e,20),e=0==e?[0]:D.range(a,b,e,!0);f=0==h?[0]:D.range(a,
b,h,!0)}return wb.bound(null==e?f.map(function(c){return new vc(c,!0,(c-a)/(b-a))}):e.map(function(c){return new vc(c,u.remove(f,c),(c-a)/(b-a))}),c)},scale:function(a,b,c){return a==b?a:D.uninterpolatef(a,b)(c)},__class__:sb};Oc=function(a){Rb.call(this);this.variable=a};j["rg.axis.AxisOrdinalStats"]=Oc;Oc.__name__=["rg","axis","AxisOrdinalStats"];Oc.__super__=Rb;Oc.prototype=H(Rb.prototype,{values:function(){return this.variable.stats.values},variable:null,__class__:Oc});bc=function(a){this.periodicity=
a;this.set_scaleDistribution(Za.ScaleFill)};j["rg.axis.AxisTime"]=bc;bc.__name__=["rg","axis","AxisTime"];bc.__interfaces__=[nc];bc.prototype={createStats:function(a){return new Sb(a)},max:function(a){return a.max},min:function(a){return a.min},set_scaleDistribution:function(a){return this.scaleDistribution=a},scale:function(a,b,c){switch(this.scaleDistribution[1]){case 1:return(c-a)/(b-a);default:return a=this.range(a,b),nd.distribute(this.scaleDistribution,a.indexOf(va.snap(c,this.periodicity)),
a.length)}},range:function(a,b){return W.range(a,b,this.periodicity)},ticks:function(a,b,c){var e=this,f=W.unitsBetween(a,b,this.periodicity),h=this.range(a,b),a=h.map(function(a){return new od(a,h,e.isMajor(f,a),e.periodicity,e.scaleDistribution)});return wb.bound(a,c)},isMajor:function(a,b){switch(this.periodicity){case "day":if(31>=a)return!0;return 121>a?(function(){var a=new Date;a.setTime(b);return a}(this).getDate(),W.firstInSeries("month",b)||W.firstInSeries("week",b)):W.firstInSeries("month",
b);case "week":return 31>a?!0:7>=function(){var a=new Date;a.setTime(b);return a}(this).getDate();default:var c=l.field(bc.snapping,this.periodicity),e=W.units(b,this.periodicity);if(null==c)return!0;for(var f=0;f<c.length;){var h=c[f];++f;if(!(a>h.to))return 0==e%h.s}c=l.field(bc.snapping,this.periodicity+"top");null==c&&(c=1);return 0==e%c}},scaleDistribution:null,periodicity:null,__class__:bc,__properties__:{set_scaleDistribution:"set_scaleDistribution"}};pd=function(){};j["rg.axis.ITickmark"]=
pd;pd.__name__=["rg","axis","ITickmark"];pd.prototype={label:null,value:null,major:null,delta:null,__class__:pd};Za={__ename__:["rg","axis","ScaleDistribution"],__constructs__:["ScaleFit","ScaleFill","ScaleBefore","ScaleAfter"],ScaleFit:["ScaleFit",0]};Za.ScaleFit.toString=v;Za.ScaleFit.__enum__=Za;Za.ScaleFill=["ScaleFill",1];Za.ScaleFill.toString=v;Za.ScaleFill.__enum__=Za;Za.ScaleBefore=["ScaleBefore",2];Za.ScaleBefore.toString=v;Za.ScaleBefore.__enum__=Za;Za.ScaleAfter=["ScaleAfter",3];Za.ScaleAfter.toString=
v;Za.ScaleAfter.__enum__=Za;nd=function(){};j["rg.axis.ScaleDistributions"]=nd;nd.__name__=["rg","axis","ScaleDistributions"];nd.distribute=function(a,b,c){switch(a[1]){case 0:return(b+0.5)/c;case 1:return b/(c-1);case 2:return b/c;case 3:return(b+1)/c}};Gb=function(a,b){this.type=a;this.sortf=b;this.reset()};j["rg.axis.Stats"]=Gb;Gb.__name__=["rg","axis","Stats"];Gb.prototype={addMany:function(a){for(a=ra(a)();a.hasNext();){var b=a.next();this.count++;B.exists(this.values,b)||this.values.push(b)}null!=
this.sortf&&this.values.sort(this.sortf);this.min=this.values[0];this.max=B.last(this.values);return this},add:function(a){this.count++;if(B.exists(this.values,a))return this;this.values.push(a);null!=this.sortf&&this.values.sort(this.sortf);this.min=this.values[0];this.max=B.last(this.values);return this},reset:function(){this.max=this.min=null;this.count=0;this.values=[];return this},type:null,sortf:null,values:null,count:null,max:null,min:null,__class__:Gb};Sb=function(a,b){if(null==b)b=D.compare;
Gb.call(this,a,b)};j["rg.axis.StatsNumeric"]=Sb;Sb.__name__=["rg","axis","StatsNumeric"];Sb.__super__=Gb;Sb.prototype=H(Gb.prototype,{addMany:function(a){Gb.prototype.addMany.call(this,a);for(a=ra(a)();a.hasNext();)this.tot+=a.next();return this},add:function(a){Gb.prototype.add.call(this,a);this.tot+=a;return this},reset:function(){Gb.prototype.reset.call(this);this.tot=0;return this},tot:null,__class__:Sb});vc=function(a,b,c){this.value=a;this.major=b;this.delta=c};j["rg.axis.Tickmark"]=vc;vc.__name__=
["rg","axis","Tickmark"];vc.__interfaces__=[pd];vc.prototype={toString:function(){return wb.string(this)},get_label:function(){return Ca.humanize(this.get_value())},get_value:function(){return this.value},get_major:function(){return this.major},get_delta:function(){return this.delta},label:null,value:null,major:null,delta:null,__class__:vc,__properties__:{get_delta:"get_delta",get_major:"get_major",get_value:"get_value",get_label:"get_label"}};Hb=function(a,b,c,e){null==c&&(c=!0);this.pos=a;this.values=
b;this.scaleDistribution=e;this.major=c};j["rg.axis.TickmarkOrdinal"]=Hb;Hb.__name__=["rg","axis","TickmarkOrdinal"];Hb.__interfaces__=[pd];Hb.fromArray=function(a,b){return a.map(function(c,e){return new Hb(e,a,null,b)})};Hb.prototype={toString:function(){return wb.string(this)},get_label:function(){return Ca.humanize(this.values[this.pos])},label:null,get_value:function(){return this.values[this.pos]},value:null,get_major:function(){return this.major},major:null,get_delta:function(){return nd.distribute(this.scaleDistribution,
this.pos,this.values.length)},delta:null,scaleDistribution:null,values:null,pos:null,__class__:Hb,__properties__:{get_delta:"get_delta",get_major:"get_major",get_value:"get_value",get_label:"get_label"}};od=function(a,b,c,e,f){Hb.call(this,b.indexOf(a),b,c,f);this.periodicity=e};j["rg.axis.TickmarkTime"]=od;od.__name__=["rg","axis","TickmarkTime"];od.__super__=Hb;od.prototype=H(Hb.prototype,{get_label:function(){return W.smartFormat(this.periodicity,this.values[this.pos])},periodicity:null,__class__:od});
wb=function(){};j["rg.axis.Tickmarks"]=wb;wb.__name__=["rg","axis","Tickmarks"];wb.bound=function(a,b){if(null==b||a.length<=(2>b?2:b))return a;var c=B.filter(a,function(a){return a.get_major()});if(c.length>b)return wb.reduce(c,b);c=wb.reduce(B.filter(a,function(a){return!a.get_major()}),b-c.length).concat(c);c.sort(function(a,b){return D.compare(a.get_delta(),b.get_delta())});return c};wb.reduce=function(a,b){if(1==b)return[a[0]];if(2==b)return[a[a.length-1]];var c=a.length/b,e=[],f=0;do e.push(a[Math.round(c*
f++)]);while(b>e.length);return e};wb.string=function(a){return fa.string(a.get_value())+" ("+(a.get_major()?"Major":"minor")+", "+D.format(a.get_delta())+")"};wb.forFloat=function(a,b,c,e){return new vc(c,e,(c-a)/(b-a))};ne=function(a){if(null==a)throw new J.NullArgument("loader","invalid null argument '{0}' for method {1}.{2}()",{fileName:"DataLoader.hx",lineNumber:11,className:"rg.data.DataLoader",methodName:"new"});this.loader=a;this.onLoad=new Md};yc=void 0;Pc=void 0;Td=void 0;Ud=void 0;Qc=void 0;
cc=void 0;j["rg.data.DataLoader"]=ne;ne.__name__=["rg","data","DataLoader"];ne.prototype={load:function(){var a=this;this.loader(function(b){a.onLoad.dispatch(b)})},onLoad:null,loader:null,__class__:ne};Ud=function(){};j["rg.data.DependentVariableProcessor"]=Ud;Ud.__name__=["rg","data","DependentVariableProcessor"];Ud.prototype={process:function(a,b){for(var c=0;c<b.length;){var e=b[c];++c;var f=Pa.values(a,e.type);if(0!=f.length){null==e.axis&&e.setAxis((new rd).create(e.type,I.__instanceof(f[0],
Fc),e,null));e.stats.addMany(f);var h;if(null!=e.scaleDistribution&&null!=(h=cb.as(e.axis,nc)))h.set_scaleDistribution(e.scaleDistribution),e.scaleDistribution=null}}},__class__:Ud};Td=function(){};j["rg.data.IndependentVariableProcessor"]=Td;Td.__name__=["rg","data","IndependentVariableProcessor"];Td.prototype={process:function(a,b){for(var c=0;c<b.length;){var e=b[c];++c;e.stats.addMany(Pa.values(a,e.type));var f;if(null!=e.scaleDistribution&&null!=(f=cb.as(e.axis,nc)))f.set_scaleDistribution(e.scaleDistribution),
e.scaleDistribution=null}},__class__:Td};Qc=function(a,b,c,e){this.on=a;this.transform=b;this.scale=c;this.values=e};j["rg.data.Segmenter"]=Qc;Qc.__name__=["rg","data","Segmenter"];Qc.prototype={segment:function(a){var b=this,c;if(null==this.on)c=[a];else if(0<this.values.length){c=[];for(var e=0,f=this.values;e<f.length;){var h=[f[e]];++e;c.push(B.filter(a,function(a){return function(c){return l.field(c,b.on)==a[0]}}(h)))}}else c=Pa.partition(a,this.on);if(null!=this.scale){f=0;for(e=c.length;f<
e;)a=f++,c[a]=this.scale(c[a])}if(null!=this.transform){c=B.rotate(c);f=0;for(e=c.length;f<e;)a=f++,c[a]=this.transform(c[a]);c=B.rotate(c)}return c},values:null,scale:null,transform:null,on:null,__class__:Qc};cc=function(a,b){this.type=a;this.scaleDistribution=b;this.meta={}};j["rg.data.Variable"]=cc;cc.__name__=["rg","data","Variable"];cc.prototype={get_maxf:function(){if(null==this.maxf){if(null==this.axis)throw new J.Error("axis is null in '{0}' variable (required by max)",[this.type],null,{fileName:"Variable.hx",
lineNumber:61,className:"rg.data.Variable",methodName:"get_maxf"});this.set_maxf((P=this.axis,y(P,P.max)))}return this.maxf},get_minf:function(){if(null==this.minf){if(null==this.axis)throw new J.Error("axis is null in '{0}' variable (required by min)",[this.type],null,{fileName:"Variable.hx",lineNumber:50,className:"rg.data.Variable",methodName:"get_minf"});this.set_minf((P=this.axis,y(P,P.min)))}return this.minf},set_maxf:function(a){return this.maxf=a},set_minf:function(a){return this.minf=a},
max:function(){return this.get_maxf()(this.stats,this.meta)},min:function(){return this.get_minf()(this.stats,this.meta)},setAxis:function(a){this.axis=a;this.stats=null!=a?a.createStats(this.type):null},maxf:null,minf:null,meta:null,stats:null,axis:null,scaleDistribution:null,type:null,__class__:cc,__properties__:{set_minf:"set_minf",get_minf:"get_minf",set_maxf:"set_maxf",get_maxf:"get_maxf"}};Pc=function(a,b){cc.call(this,a,b)};j["rg.data.VariableDependent"]=Pc;Pc.__name__=["rg","data","VariableDependent"];
Pc.__super__=cc;Pc.prototype=H(cc.prototype,{__class__:Pc});yc=function(a,b){cc.call(this,a,b)};j["rg.data.VariableIndependent"]=yc;yc.__name__=["rg","data","VariableIndependent"];yc.__super__=cc;yc.prototype=H(cc.prototype,{__class__:yc});rd=function(){};Kb=void 0;Vd=void 0;Wd=void 0;Xd=void 0;Yd=void 0;dc=void 0;Zd=void 0;j["rg.factory.FactoryAxis"]=rd;rd.__name__=["rg","factory","FactoryAxis"];rd.prototype={createDiscrete:function(a,b,c,e){return 0<=a.indexOf("time:")?null!=e?new Ib(u.substr(a,
a.indexOf("time:")+5,null)):new bc(u.substr(a,a.indexOf("time:")+5,null)):null!=c&&0<c.length?new ac(c):new Oc(b)},create:function(a,b,c,e){return null!=e&&0<e.length?new ac(e):!0==b?new sb:!1==b?new Oc(c):null},__class__:rd};Yd=function(){};j["rg.factory.FactoryGeoProjection"]=Yd;Yd.__name__=["rg","factory","FactoryGeoProjection"];Yd.prototype={create:function(a){switch(a.projection.toLowerCase()){case "mercator":var b=new ca.Mercator;null!=a.scale&&b.set_scale(a.scale);null!=a.translate?b.set_translate(a.translate):
b.set_translate([0,0]);return b;case "albers":return b=new ca.Albers,null!=a.scale&&b.set_scale(a.scale),null!=a.translate?b.set_translate(a.translate):b.set_translate([0,0]),null!=a.origin&&b.set_origin(a.origin),null!=a.parallels&&b.set_parallels(a.parallels),b;case "albersusa":return b=new ca.AlbersUsa,null!=a.scale&&b.set_scale(a.scale),null!=a.translate?b.set_translate(a.translate):b.set_translate([0,0]),b;case "azimuthal":return b=new ca.Azimuthal,null!=a.scale&&b.set_scale(a.scale),null!=a.translate?
b.set_translate(a.translate):b.set_translate([0,0]),null!=a.mode&&b.set_mode(a.mode),null!=a.origin&&b.set_origin(a.origin),b;default:throw new J.Error("the projection '{0}' does not exist or is not implemented",[a.projection],null,{fileName:"FactoryGeoProjection.hx",lineNumber:68,className:"rg.factory.FactoryGeoProjection",methodName:"create"});}},__class__:Yd};Xd=function(){};j["rg.factory.FactoryHtmlVisualization"]=Xd;Xd.__name__=["rg","factory","FactoryHtmlVisualization"];Xd.prototype={create:function(a,
b,c){switch(a){case "pivottable":return a=new cd(b),a.info=ua.feed(new Lb,c),a;case "leaderboard":return a=new dd(b),a.info=ua.feed(new zd,c),a;default:throw new J.Error("unsupported visualization '{0}'",null,a,{fileName:"FactoryHtmlVisualization.hx",lineNumber:35,className:"rg.factory.FactoryHtmlVisualization",methodName:"create"});}},__class__:Xd};Kb=function(){};j["rg.factory.FactoryLayout"]=Kb;Kb.__name__=["rg","factory","FactoryLayout"];Kb.size=function(a,b,c){var e,f=null==b.width?10<(e=a.node().clientWidth)?
e:400:b.width,a=(null==b.height?10<(e=a.node().clientHeight)?e:300:b.height)-c;return{width:f,height:a}};Kb.prototype={create:function(a,b,c){var b=Kb.size(c,a,b),e=a.layout;null==e&&(e=xa.layoutDefault.get(a.type));if(null==e)throw new J.Error("unable to find a suitable layout for '{0}'",null,a.type,{fileName:"FactoryLayout.hx",lineNumber:28,className:"rg.factory.FactoryLayout",methodName:"create"});c=xa.instantiateLayout(e,b.width,b.height,c);c.feedOptions(a);return c},__class__:Kb};Wd=function(){};
j["rg.factory.FactorySvgVisualization"]=Wd;Wd.__name__=["rg","factory","FactorySvgVisualization"];Wd.prototype={create:function(a,b,c){switch(a){case "barchart":return a=new ed(b),a.info=a.infoBar=ua.feed(new Rc,c),a;case "funnelchart":return a=new fd(b),a.info=ua.feed(new Ad,c),a;case "geo":return a=new gd(b),a.info=ua.feed(new Bd,c),a;case "heatgrid":return a=new hd(b),a.info=a.infoHeatGrid=ua.feed(new Sc,c),a;case "linechart":return a=new id(b),a.info=a.infoLine=ua.feed(new Tc,c),a;case "piechart":return a=
new jd(b),a.info=ua.feed(new Cd,c),a;case "sankey":return a=new Fb(b),a.info=ua.feed(new Dd,c),a;case "scattergraph":return a=new kd(b),a.info=a.infoScatter=ua.feed(new Uc,c),a;case "streamgraph":return a=new ld(b),a.info=a.infoStream=ua.feed(new Vc,c),a;default:throw new J.Error("unsupported visualization type '{0}'",null,a,{fileName:"FactorySvgVisualization.hx",lineNumber:76,className:"rg.factory.FactorySvgVisualization",methodName:"create"});}},__class__:Wd};Vd=function(){this.independentFactory=
new dc;this.dependentFactory=new Zd};j["rg.factory.FactoryVariable"]=Vd;Vd.__name__=["rg","factory","FactoryVariable"];Vd.prototype={createDependents:function(a){for(var b=[],c=0;c<a.length;){var e=a[c];++c;var f=void 0;switch(e.variableType[1]){case 2:f=!1;break;case 0:f=!1;break;default:f=!0}f||b.push(this.dependentFactory.create(e,null))}return b},createIndependents:function(a){for(var b=[],c=0;c<a.length;){var e=a[c];++c;var f=void 0;switch(e.variableType[1]){case 1:f=!1;break;case 0:f=!0;break;
default:f=!0}f||b.push(this.independentFactory.create(e))}return b},createVariables:function(a){var b=this;return a.map(function(a){switch(a.variableType[1]){case 1:return b.independentFactory.create(a);case 2:return b.dependentFactory.create(a,null);case 0:return b.dependentFactory.create(a,null)}})},dependentFactory:null,independentFactory:null,__class__:Vd};Zd=function(){};j["rg.factory.FactoryVariableDependent"]=Zd;Zd.__name__=["rg","factory","FactoryVariableDependent"];Zd.prototype={create:function(a,
b){if(null==a.type)throw new J.Error("cannot create an axis if type is not specified",null,null,{fileName:"FactoryVariableDependent.hx",lineNumber:18,className:"rg.factory.FactoryVariableDependent",methodName:"create"});var c=new rd,e=new Pc(a.type,a.scaleDistribution),c=c.create(a.type,b,e,a.values);e.setAxis(c);e.set_minf(dc.convertBound(c,a.min));e.set_maxf(dc.convertBound(c,a.max));return e},__class__:Zd};dc=function(){};j["rg.factory.FactoryVariableIndependent"]=dc;dc.__name__=["rg","factory",
"FactoryVariableIndependent"];dc.convertBound=function(a,b){if(null==b||l.isFunction(b))return b;if(I.__instanceof(a,bc)){I.__instanceof(b,Date)&&(b=I.__cast(b,Date).getTime());if(I.__instanceof(b,Fc))return function(){return b};if(I.__instanceof(b,String))return function(){return x.DateParser.parse(b).getTime()};throw new J.Error("invalid value '{0}' for time bound",[b],null,{fileName:"FactoryVariableIndependent.hx",lineNumber:46,className:"rg.factory.FactoryVariableIndependent",methodName:"convertBound"});
}return function(){return b}};dc.prototype={create:function(a){if(null==a.type)return null;var b=new rd,c=new yc(a.type,a.scaleDistribution),b=b.createDiscrete(a.type,c,a.values,a.groupBy);c.setAxis(b);c.set_minf(dc.convertBound(b,a.min));c.set_maxf(dc.convertBound(b,a.max));return c},__class__:dc};bd=function(){this.x=this.y=this.width=this.height=0};ia=void 0;Qa=void 0;Od=void 0;pb=void 0;j["rg.frame.Frame"]=bd;bd.__name__=["rg","frame","Frame"];bd.prototype={toString:function(){return"[x: "+this.x+
", y: "+this.y+", width: "+this.width+", height: "+this.height+"]"},set_layout:function(a,b,c,e){if(!(this.x==a&&this.y==b&&this.width==c&&this.height==e))this.x=a,this.y=b,this.width=c,this.height=e,this.change()},change:function(){},height:null,width:null,y:null,x:null,__class__:bd};ia={__ename__:["rg","frame","FrameLayout"],__constructs__:["Fill","FillPercent","FillRatio","Fixed","Floating"]};ia.Fill=function(a,b,c,e){a=["Fill",0,a,b,c,e];a.__enum__=ia;a.toString=v;return a};ia.FillPercent=function(a,
b,c,e,f){a=["FillPercent",1,a,b,c,e,f];a.__enum__=ia;a.toString=v;return a};ia.FillRatio=function(a,b,c){a=["FillRatio",2,a,b,c];a.__enum__=ia;a.toString=v;return a};ia.Fixed=function(a,b,c){a=["Fixed",3,a,b,c];a.__enum__=ia;a.toString=v;return a};ia.Floating=function(a,b,c,e){a=["Floating",4,a,b,c,e];a.__enum__=ia;a.toString=v;return a};Qa={__ename__:["rg","frame","Orientation"],__constructs__:["Vertical","Horizontal"],Vertical:["Vertical",0]};Qa.Vertical.toString=v;Qa.Vertical.__enum__=Qa;Qa.Horizontal=
["Horizontal",1];Qa.Horizontal.toString=v;Qa.Horizontal.__enum__=Qa;Od=function(a,b,c){this.orientation=null==c?Qa.Vertical:c;this.children=[];this.width=a;this.height=b};j["rg.frame.Stack"]=Od;Od.__name__=["rg","frame","Stack"];Od.prototype={toString:function(){return"Stack [width: "+this.width+", height: "+this.height+", children: "+this.children.length+"]"},setSize:function(a,b){if(this.width==a&&this.height==b)return this;this.width=a;this.height=b;this.reflow();return this},get_length:function(){return this.children.length},
reflow:function(){for(var a=function(a){var b;switch(a.orientation[1]){case 0:b=a.height;break;case 1:b=a.width}return b}(this),b=function(a){var b;switch(a.orientation[1]){case 0:b=a.width;break;case 1:b=a.height}return b}(this),c=0,e=[],f=[],h=0,m=0,g=0,i=this.children;g<i.length;){var k=i[g];++g;k=k.disposition;switch(k[1]){case 0:var w=k[5],j=k[4],l=k[3],k=k[2];null==j&&(j=0);null==w&&(w=a);c+=j+k+l;m+=f[h]=w-j;e.push(j+k+l);break;case 1:var w=k[6],j=k[5],n=k[4],l=k[3],k=k[2],n=Math.round(n*a);
null!=j&&n<j&&(n=j);null!=w&&n>w&&(n=w);c+=n+k+l;e.push(n+k+l);break;case 2:j=k[4];w=k[3];k=k[2];null==j&&(j=1);n=Math.round(b*j);c+=n+k+w;e.push(n+k+w);break;case 3:w=k[4];j=k[3];k=k[2];c+=w+k+j;e.push(w+k+j);break;case 4:w=k[5],j=k[4],l=k[3],k=k[2],e.push(0)}h++}a-=c;if(0<a){g=h=0;for(i=this.children;g<i.length;){k=i[g];++g;k=k.disposition;switch(k[1]){case 0:w=k[5],j=k[4],l=k[3],k=k[2],n=Math.round(f[h]/m*a),e[h]+=n}h++}}f=h=0;switch(this.orientation[1]){case 0:i=0;for(m=this.children;i<m.length;){k=
m[i];++i;b=k;k=k.disposition;switch(k[1]){case 4:w=k[5];j=k[4];l=k[3];k=k[2];b.set_layout(k,l,j,w);break;case 3:w=k[4];j=k[3];k=k[2];b.set_layout(0,f+k,this.width,e[h]-j-k);break;case 0:w=k[5];j=k[4];l=k[3];k=k[2];b.set_layout(0,f+k,this.width,e[h]-l-k);break;case 1:w=k[6];j=k[5];n=k[4];l=k[3];k=k[2];b.set_layout(0,f+k,this.width,e[h]-l-k);break;case 2:j=k[4],w=k[3],k=k[2],b.set_layout(0,f+k,this.width,e[h]-w-k)}f+=e[h++]}break;case 1:i=0;for(m=this.children;i<m.length;){k=m[i];++i;b=k;k=k.disposition;
switch(k[1]){case 4:w=k[5];j=k[4];l=k[3];k=k[2];b.set_layout(k,l,j,w);break;case 3:w=k[4];j=k[3];k=k[2];b.set_layout(f+k,0,e[h]-j-k,this.height);break;case 0:w=k[5];j=k[4];l=k[3];k=k[2];b.set_layout(f+k,0,e[h]-l-k,this.height);break;case 1:w=k[6];j=k[5];n=k[4];l=k[3];k=k[2];b.set_layout(f+k,0,e[h]-l-k,this.height);break;case 2:j=k[4],w=k[3],k=k[2],b.set_layout(f+k,0,e[h]-w-k,this.height)}f+=e[h++]}}0>a&&this.moreSpaceRequired(c)},iterator:function(){return u.iter(this.children)},removeChild:function(a){if(!u.remove(this.children,
a))return!1;a.set_parent(null);this.reflow();return!0},addItems:function(a){for(var b=!1,a=ra(a)();a.hasNext();){var c=a.next();null!=c&&(b=!0,this.children.push(c),c.set_parent(this))}b&&this.reflow();return this},addItem:function(a){if(null==a)return this;this.children.push(a);a.set_parent(this);this.reflow();return this},insertItem:function(a,b){if(null==b)return this;if(a>=this.children.length)return this.addItem(b);0>a&&(a=0);this.children.splice(a,0,b);b.set_parent(this);this.reflow();return this},
moreSpaceRequired:function(){},length:null,orientation:null,height:null,width:null,children:null,__class__:Od,__properties__:{get_length:"get_length"}};pb=function(a){bd.call(this);this.set_disposition(a)};j["rg.frame.StackItem"]=pb;pb.__name__=["rg","frame","StackItem"];pb.__super__=bd;pb.prototype=H(bd.prototype,{set_disposition:function(a){this.disposition=a;null!=this.parent&&this.parent.reflow();return a},set_parent:function(a){null!=this.parent&&this.parent.removeChild(this);return this.parent=
a},parent:null,disposition:null,__class__:pb,__properties__:{set_disposition:"set_disposition"}});qb={};L=void 0;qb.Leadeboard=function(a){this.ready=new sc;this.container=a;this.animated=!0;this.animationDuration=1500;this.animationEase=C.Equations.elasticf();this.animationDelay=150;this._created=0;this.displayGradient=!0;this.colorScale=this.useMax=!1};j["rg.html.chart.Leadeboard"]=qb.Leadeboard;qb.Leadeboard.__name__=["rg","html","chart","Leadeboard"];qb.Leadeboard.prototype={id:function(a){return Pa.id(a,
[this.variableDependent.type])},lTitle:function(a){return this.labelDataPointOver(a,this.stats)},lDataPoint:function(a){return this.labelDataPoint(a,this.stats)},lValue:function(a){return this.labelValue(a,this.stats)},lRank:function(a,b){return this.labelRank(a,b,this.stats)},fadeIn:function(a,b){var c=this;U.selectNodeData(a).transition().ease(this.animationEase).duration(null,this.animationDuration).delay(null,this.animationDelay*(b-this._created)).attr("opacity")["float"](1).endNode(function(){c._created++})},
onClick:function(a){this.click(a)},data:function(a){null!=this.sortDataPoint&&a.sort(this.sortDataPoint);if(null!=this.variableDependent.stats){this.stats=I.__cast(this.variableDependent.stats,Sb);var a=this.list.selectAll("li").data(a,y(this,this.id)),b=a.enter().append("li");b.attr("title").stringf(y(this,this.lTitle));b.append("div").attr("class").stringf(function(a,b){return 0==b%2?"rg_background fill-0":"rg_background"});var c=b.append("div").attr("class").string("rg_labels");if(null!=y(this,
this.labelRank)){var e=c.append("div").text().stringf(y(this,this.lRank));this.colorScale?e.attr("class").stringf(function(a,b){return"rg_rank fill fill-"+b}):e.attr("class").string("rg_rank")}null!=y(this,this.labelDataPoint)&&c.append("span").attr("class").string("rg_description color-0").text().stringf(y(this,this.lDataPoint));null!=y(this,this.labelValue)&&c.append("span").attr("class").string("rg_value color-2").text().stringf(y(this,this.lValue));b.append("div").attr("class").string("clear");
this.displayBar&&(c=b.append("div").attr("class").string("rg_barpadding").append("div").attr("class").string("rg_barcontainer"),c.append("div").attr("class").string("rg_barback fill-0"),c.append("div").attr("class").string("rg_bar fill-0").style("width").stringf(y(this,this.backgroundSize)),b.append("div").attr("class").string("clear"));if(null!=this.click)b.on("click.user",y(this,this.onClick));if(this.animated)b.style("opacity")["float"](0).eachNode(y(this,this.fadeIn));else b.style("opacity")["float"](1);
this.animated?a.exit().transition().ease(this.animationEase).duration(null,this.animationDuration).style("opacity")["float"](0).remove():a.exit().remove();this.ready.dispatch()}},backgroundSize:function(a){return 100*l.field(a,this.variableDependent.type)/(this.useMax?this.stats.max:this.stats.tot)+"%"},setVariables:function(a,b){this.variableDependent=b[0];this.variableIndependent=a[0]},init:function(){var a=this.container.append("div").attr("class").string("leaderboard");this.list=a.append("ul");
a.append("div").attr("class").string("clear")},labelValue:function(a,b){return ya.formatValue(b.type,a)},labelRank:function(a,b){return""+(b+1)},labelDataPointOver:function(a,b){return D.format(100*l.field(a,b.type)/(this.useMax?b.max:b.tot),"P:1")},labelDataPoint:function(a){return ya.humanize(l.field(a,this.variableIndependent.type))},stats:null,_created:null,list:null,container:null,displayBar:null,ready:null,colorScale:null,useMax:null,displayGradient:null,sortDataPoint:null,click:null,animationEase:null,
animationDelay:null,animationDuration:null,animated:null,variableDependent:null,variableIndependent:null,__class__:qb.Leadeboard};o=void 0;J=void 0;C=void 0;hb=void 0;g=void 0;x=void 0;ca=void 0;Y=void 0;q=void 0;ja=void 0;Ua=void 0;T=void 0;t=void 0;Ta=void 0;tb=void 0;gc=void 0;ib=void 0;Bb=void 0;oe=void 0;pe=void 0;g={Rgb:function(a,b,c){this.red=O.clamp(a,0,255);this.green=O.clamp(b,0,255);this.blue=O.clamp(c,0,255)}};j["thx.color.Rgb"]=g.Rgb;g.Rgb.__name__=["thx","color","Rgb"];g.Rgb.fromFloats=
function(a,b,c){return new g.Rgb(O.interpolate(a,0,255,null),O.interpolate(b,0,255,null),O.interpolate(c,0,255,null))};g.Rgb.fromInt=function(a){return new g.Rgb(a>>16&255,a>>8&255,a&255)};g.Rgb.equals=function(a,b){return a.red==b.red&&a.green==b.green&&a.blue==b.blue};g.Rgb.darker=function(a,b,c){return new g.Rgb(O.interpolate(b,a.red,0,c),O.interpolate(b,a.green,0,c),O.interpolate(b,a.blue,0,c))};g.Rgb.lighter=function(a,b,c){return new g.Rgb(O.interpolate(b,a.red,255,c),O.interpolate(b,a.green,
255,c),O.interpolate(b,a.blue,255,c))};g.Rgb.interpolate=function(a,b,c,e){return new g.Rgb(O.interpolate(c,a.red,b.red,e),O.interpolate(c,a.green,b.green,e),O.interpolate(c,a.blue,b.blue,e))};g.Rgb.interpolatef=function(a,b,c){var e=O.interpolatef(a.red,b.red,c),f=O.interpolatef(a.green,b.green,c),h=O.interpolatef(a.blue,b.blue,c);return function(a){return new g.Rgb(e(a),f(a),h(a))}};g.Rgb.contrast=function(a){a=g.Hsl.toHsl(a);return 0.5>a.lightness?new g.Hsl(a.hue,a.saturation,a.lightness+0.5):
new g.Hsl(a.hue,a.saturation,a.lightness-0.5)};g.Rgb.contrastBW=function(a){var b=g.Grey.toGrey(a),a=g.Hsl.toHsl(a);return 0.5>b.grey?new g.Hsl(a.hue,a.saturation,1):new g.Hsl(a.hue,a.saturation,0)};g.Rgb.interpolateBrightness=function(a,b){return g.Rgb.interpolateBrightnessf(b)(a)};g.Rgb.interpolateBrightnessf=function(a){var b=O.interpolatef(0,255,a);return function(a){a=b(a);return new g.Rgb(a,a,a)}};g.Rgb.interpolateHeat=function(a,b,c){return g.Rgb.interpolateHeatf(b,c)(a)};g.Rgb.interpolateHeatf=
function(a,b){return g.Rgb.interpolateStepsf([new g.Rgb(0,0,0),null!=a?a:new g.Rgb(255,127,0),new g.Rgb(255,255,255)],b)};g.Rgb.interpolateRainbow=function(a,b){return g.Rgb.interpolateRainbowf(b)(a)};g.Rgb.interpolateRainbowf=function(a){return g.Rgb.interpolateStepsf([new g.Rgb(0,0,255),new g.Rgb(0,255,255),new g.Rgb(0,255,0),new g.Rgb(255,255,0),new g.Rgb(255,0,0)],a)};g.Rgb.interpolateStepsf=function(a,b){if(0>=a.length)throw new J.Error("invalid number of steps",null,null,{fileName:"Rgb.hx",
lineNumber:164,className:"thx.color.Rgb",methodName:"interpolateStepsf"});if(1==a.length)return function(){return a[0]};if(2==a.length)return g.Rgb.interpolatef(a[0],a[1],b);for(var c=a.length-1,e=1/c,f=[],h=0;h<c;){var m=h++;f[m]=g.Rgb.interpolatef(a[m],a[m+1])}return function(a){0>a?a=0:1<a&&(a=1);var b=1==a?c-1:Math.floor(a/e);return f[b](c*(a-b*e))}};g.Rgb.prototype={toString:function(){return this.toRgbString()},toRgbString:function(){return"rgb("+this.red+","+this.green+","+this.blue+")"},toCss:function(){return this.hex("#")},
hex:function(a){null==a&&(a="");return a+F.hex(this.red,2)+F.hex(this.green,2)+F.hex(this.blue,2)},"int":function(){return(this.red&255)<<16|(this.green&255)<<8|this.blue&255},red:null,green:null,blue:null,__class__:g.Rgb};g.Hsl=function(a,b,c){this.hue=a=D.circularWrap(a,360);this.saturation=b=D.normalize(b);this.lightness=c=D.normalize(c);g.Rgb.call(this,O.interpolate(g.Hsl._c(a+120,b,c),0,255,null),O.interpolate(g.Hsl._c(a,b,c),0,255,null),O.interpolate(g.Hsl._c(a-120,b,c),0,255,null))};j["thx.color.Hsl"]=
g.Hsl;g.Hsl.__name__=["thx","color","Hsl"];g.Hsl._c=function(a,b,c){b=0.5>=c?c*(1+b):c+b-c*b;c=2*c-b;a=D.circularWrap(a,360);return 60>a?c+(b-c)*a/60:180>a?b:240>a?c+(b-c)*(240-a)/60:c};g.Hsl.toHsl=function(a){var b=a.red/255,c=a.green/255,e=a.blue/255,f=D.min(b<c?b:c,e),h=D.max(b>c?b:c,e),m=h-f,a=(h+f)/2;0==m?f=b=0:(f=0.5>a?m/(h+f):m/(2-h-f),b=60*(b==h?(c-e)/m+(c<e?6:0):c==h?(e-b)/m+2:(b-c)/m+4));return new g.Hsl(b,f,a)};g.Hsl.equals=function(a,b){return a.hue==b.hue&&a.saturation==b.saturation&&
a.lightness==b.lightness};g.Hsl.darker=function(a,b,c){return new g.Hsl(a.hue,a.saturation,D.interpolate(b,a.lightness,0,c))};g.Hsl.lighter=function(a,b,c){return new g.Hsl(a.hue,a.saturation,D.interpolate(b,a.lightness,1,c))};g.Hsl.interpolate=function(a,b,c,e){return new g.Hsl(D.interpolate(c,a.hue,b.hue,e),D.interpolate(c,a.saturation,b.saturation,e),D.interpolate(c,a.lightness,b.lightness,e))};g.Hsl.interpolatef=function(a,b,c){return function(e){return new g.Hsl(D.interpolate(e,a.hue,b.hue,c),
D.interpolate(e,a.saturation,b.saturation,c),D.interpolate(e,a.lightness,b.lightness,c))}};g.Hsl.__super__=g.Rgb;g.Hsl.prototype=H(g.Rgb.prototype,{toHslString:function(){return"hsl("+this.hue+","+100*this.saturation+"%,"+100*this.lightness+"%)"},lightness:null,saturation:null,hue:null,__class__:g.Hsl});C={Equations:function(){}};j["thx.math.Equations"]=C.Equations;C.Equations.__name__=["thx","math","Equations"];C.Equations.linear=function(a){return a};C.Equations.polynomial=function(a,b){return Math.pow(a,
b)};C.Equations.quadratic=function(a){return C.Equations.polynomial(a,2)};C.Equations.cubic=function(a){return C.Equations.polynomial(a,3)};C.Equations.sin=function(a){return 1-Math.cos(a*Math.PI/2)};C.Equations.exponential=function(a){return 0!=a?Math.pow(2,10*(a-1))-0.0010:0};C.Equations.circle=function(a){return 1-Math.sqrt(1-a*a)};C.Equations.elastic=function(a,b,c){var e;null==c&&(c=0.45);null==b?(b=1,e=c/4):e=c/(2*Math.PI)/Math.asin(1/b);return 1+b*Math.pow(2,10*-a)*Math.sin(2*(a-e)*Math.PI/
c)};C.Equations.elasticf=function(a,b){var c;null==b&&(b=0.45);null==a?(a=1,c=b/4):c=b/(2*Math.PI)/Math.asin(1/a);return function(e){return 1+a*Math.pow(2,10*-e)*Math.sin(2*(e-c)*Math.PI/b)}};C.Equations.back=function(a,b){null==b&&(b=1.70158);return a*a*((b+1)*a-b)};C.Equations.backf=function(a){null==a&&(a=1.70158);return function(b){return b*b*((a+1)*b-a)}};C.Equations.bounce=function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*
(a-=2.625/2.75)*a+0.984375};C.Equations.polynomialf=function(a){return function(b){C.Equations.polynomial(b,a)}};qb.PivotTable=function(a){this.ready=new sc;this.container=a;this.displayHeatMap=this.displayRowTotal=this.displayColumnTotal=!0;this.colorStart=qb.PivotTable.defaultColorStart;this.colorEnd=qb.PivotTable.defaultColorEnd;this.incolumns=1};j["rg.html.chart.PivotTable"]=qb.PivotTable;qb.PivotTable.__name__=["rg","html","chart","PivotTable"];qb.PivotTable.prototype={range:function(a){return a.axis.range(a.min(),
a.max())},transformData:function(a){for(var b=[],c=[],e=[],f=[],h=new Sb(null),m,g=0,i=O.min(1,this.columnVariables.length);g<i;){var k=g++;m=this.columnVariables[k];b.push(m.type);for(var k=0,w=this.range(m);k<w.length;){var j=w[k];++k;e.push({values:[j],stats:null,type:m.type})}}g=1;for(i=this.columnVariables.length;g<i;){k=g++;m=this.columnVariables[k];b.push(m.type);for(var n=e.slice(),e=[],k=0;k<n.length;){var o=n[k];++k;for(var w=0,r=this.range(m);w<r.length;){j=r[w];++w;var p=ga.clone(o);p.values.push(j);
e.push(p)}}}for(var q,g=0,i=e.length;g<i;){k=g++;w=[e[k]];m=new Sb(null);w[0].stats=m;k=0;for(w=B.filter(a,function(a){return function(c){for(var e=0,f=b.length;e<f;){var h=e++;q=b[h];if(0<=q.indexOf("time:")&&va.snap(l.field(c,q),u.substr(q,q.indexOf("time:")+5,null))==a[0].values[h]||l.field(c,q)==a[0].values[h])return!0}return!1}}(w));k<w.length;)n=w[k],++k,o=l.field(n,this.cellVariable.type),null!=o&&(m.add(o),h.add(o))}g=0;for(i=O.min(1,this.rowVariables.length);g<i;){k=g++;m=this.rowVariables[k];
c.push(m.type);k=0;for(w=this.range(m);k<w.length;)j=w[k],++k,f.push({values:[j],stats:null,cells:null})}g=1;for(i=this.rowVariables.length;g<i;){k=g++;m=this.rowVariables[k];c.push(m.type);n=f.slice();f=[];for(k=0;k<n.length;){o=n[k];++k;w=0;for(r=this.range(m);w<r.length;)j=r[w],++w,p=ga.clone(o),p.values.push(j),f.push(p)}}for(var s,g=0,i=f.length;g<i;){k=g++;m=[f[k]];m[0].stats=new Sb(null);m[0].cells=[];j=B.filter(a,function(a){return function(b){for(var e=0,f=c.length;e<f;){var h=e++;s=c[h];
if(0<=s.indexOf("time:")&&va.snap(l.field(b,s),u.substr(s,s.indexOf("time:")+5,null))!=a[0].values[h]||l.field(b,s)!=a[0].values[h])return!1}return!0}}(m));w=0;for(k=e.length;w<k;)n=w++,n=[e[n]],0<=n[0].type.indexOf("time:")?(o=[ya.periodicity(n[0].type)],n=B.firstf(j,function(a,c){return function(e){for(var f=0,h=c[0].values.length;f<h;){var m=f++;if(va.snap(l.field(e,b[m]),a[0])!=c[0].values[m])return!1}return!0}}(o,n))):n=B.firstf(j,function(a){return function(c){for(var e=0,f=a[0].values.length;e<
f;){var h=e++;if(l.field(c,b[h])!=a[0].values[h])return!1}return!0}}(n)),o=l.field(n,this.cellVariable.type),null==o?m[0].cells.push({}):(m[0].cells.push(n),m[0].stats.add(o))}return{column_headers:b,row_headers:c,columns:e,rows:f,stats:h}},destroy:function(){this.container.html().string("")},setVariables:function(a,b){this.cellVariable=b[0];this.columnVariables=[];for(var c=0,e=this.incolumns;c<e;){var f=c++;this.columnVariables.push(a[f])}this.rowVariables=[];c=this.incolumns;for(e=a.length;c<e;)f=
c++,this.rowVariables.push(a[f])},init:function(){},prependSpacer:function(a,b){if(0!=a){var c=b.append("th").attr("class").string("spacer");if(1<a)c.attr("colspan")["float"](a)}},buildValue:function(a,b,c,e){e=e.append("th").text().string(this.labelAxisValue(a,b));if(1<c)e.attr("colspan")["float"](c);c=["column value"];null!=this.valueclass&&(a=this.valueclass(a,b),null!=a&&c.push(a));e.attr("class").string(c.join(" "))},formatDataPointOver:function(a){return this.labelDataPointOver(a,this.stats)},
formatDataPoint:function(a){return this.labelDataPoint(a,this.stats)},formatTotalOver:function(a){return this.labelTotalOver(a,this.stats)},formatTotal:function(a){return this.labelTotal(a,this.stats)},onClick:function(a){this.click(a)},data:function(a){var a=this.transformData(a),b=this.container.append("table").classed().add("pivot-table"),c=b.append("thead"),e=0<a.rows.length?a.rows[0].values.length:0,f=g.Rgb.interpolatef(this.colorStart,this.colorEnd);this.stats=a.stats;if(0<a.columns.length)for(var h=
0,m=a.column_headers.length;h<m;){var i=h++,j=c.append("tr");this.prependSpacer(e,j);var j=j.append("th").text().string(this.labelAxis(a.column_headers[i])),k=["col-header"];if(null!=this.headerclass){var w=this.headerclass(a.column_headers[i]);null!=w&&k.push(w)}j.attr("class").string(k.join(" "));if(1<a.columns.length)j.attr("colspan")["float"](a.columns.length);var k=1,n=a.columns[0].values[i],j=c.append("tr");if(i==a.column_headers.length-1)for(var o=0,r=a.row_headers;o<r.length;){var p=r[o];
++o;var q=j.append("th").text().string(this.labelAxis(p)),s=["row-header"];null!=this.headerclass&&(w=this.headerclass(p),null!=w&&s.push(w));q.attr("class").string(s.join(" "))}else this.prependSpacer(e,j);r=1;for(o=a.columns.length;r<o;)q=r++,q=a.columns[q].values[i],n==q?k++:(this.buildValue(n,a.column_headers[i],k,j),k=1,n=q);null!=n&&this.buildValue(n,a.column_headers[i],k,j)}if(0==a.column_headers.length){j=c.append("tr");m=0;for(h=a.row_headers;m<h.length;)p=h[m],++m,j.append("th").attr("class").string("row header").text().string(this.labelAxis(p))}c=
b.append("tbody");n=[];m=0;for(h=a.rows;m<h.length;){p=h[m];++m;j=c.append("tr");s=p.values.length;for(o=0;o<s;){var i=o++,w=p.values[i],t=w==n[i];if(!t){n[i]=w;for(r=i+1;r<s;)q=r++,n[q]=null}q=j.append("th").text().string(t?"":this.labelAxisValue(w,a.row_headers[i]));k=["row value"];t&&k.push("empty");null!=this.valueclass&&(i=this.valueclass(w,a.row_headers[i]),null!=i&&k.push(i));q.attr("class").string(k.join(" "))}o=0;for(r=p.cells;o<r.length;){i=r[o];++o;q=j.append("td").text().string(this.formatDataPoint(i)).attr("title").string(this.formatDataPointOver(i));
if(null!=this.click)q.onNode("click",function(a,b){return function(c,e){return a(b,c,e)}}(y(this,this.onClick),i));if(this.displayHeatMap&&!Math.isNaN(w=l.field(i,this.cellVariable.type)/a.stats.max))k=f(w),q.style("color").color(g.Rgb.contrastBW(k)).style("background-color").color(k);k=[];null!=this.cellclass&&(i=this.cellclass(i,p.stats),null!=i&&k.push(i));q.attr("class").string(k.join(" "))}this.displayRowTotal&&1<a.columns.length&&(q=j.append("th").text().string(this.formatTotal(p.stats.tot)),
o=this.formatTotalOver(p.stats.tot),null!=o&&q.attr("title").string(o),k=["row total"],null!=this.totalclass&&(i=this.totalclass(p.stats.tot,p.values),null!=i&&k.push(i)),q.attr("class").string(k.join(" ")))}h=b.append("tfoot");if(this.displayColumnTotal&&1<a.rows.length){j=h.append("tr");this.prependSpacer(e,j);m=0;for(h=a.columns;m<h.length;)e=h[m],++m,o=this.formatTotalOver(e.stats.tot),q=j.append("th").text().string(this.formatTotal(e.stats.tot)),null!=o&&q.attr("title").string(o),k=["column total"],
null!=this.totalclass&&(i=this.totalclass(e.stats.tot,e.values),null!=i&&k.push(i)),q.attr("class").string(k.join(" "));this.displayRowTotal&&1<a.columns.length&&(q=j.append("th").text().string(this.formatTotal(a.stats.tot)).attr("title").string(this.formatTotalOver(a.stats.tot)),k=["table total"],null!=this.totalclass&&(i=this.totalclass(a.stats.tot,[]),null!=i&&k.push(i)),q.attr("class").string(k.join(" ")))}this.ready.dispatch()},labelTotalOver:function(a,b){return o.FormatNumber.percent(100*a/
b.tot,1)},labelTotal:function(a){return o.FormatNumber["int"](a)},labelAxisValue:function(a,b){if(0<=b.indexOf("time:")){var c=u.substr(b,b.indexOf("time:")+5,null);return W.format(c,a)}return Ca.humanize(a)},labelAxis:function(a){return Ca.humanize(a)},labelDataPointOver:function(a,b){var c=l.field(a,this.cellVariable.type);return Math.isNaN(c)?"0":o.FormatNumber.percent(100*c/b.tot,1)},labelDataPoint:function(a){a=l.field(a,this.cellVariable.type);return Math.isNaN(a)?"0":o.FormatNumber["int"](a)},
stats:null,container:null,totalclass:null,headerclass:null,valueclass:null,cellclass:null,click:null,incolumns:null,cellVariable:null,rowVariables:null,columnVariables:null,ready:null,colorEnd:null,colorStart:null,displayHeatMap:null,displayRowTotal:null,displayColumnTotal:null,__class__:qb.PivotTable};L={};L.DownloaderMenu=function(a,b,c,e){this.handler=a;this.formats=null==c?L.DownloaderMenu.DEFAULT_FORMATS:c;this.title=L.DownloaderMenu.DEFAULT_TITLE;this.build(b,e)};j["rg.html.widget.DownloaderMenu"]=
L.DownloaderMenu;L.DownloaderMenu.__name__=["rg","html","widget","DownloaderMenu"];L.DownloaderMenu.prototype={click:function(a){var b=this;this.menu.classed().add("downloading");this.handler(a,this.backgroundColor,function(){b.menu.classed().remove("downloading");return!0},function(a){b.menu.classed().remove("downloading");ma.window.alert("ERROR: "+a)})},createMenu:function(a){this.menu=a.append("div").attr("class").string("rg menu");a=this.menu.append("div").attr("class").string("options");a.append("div").attr("class").string("title").html().string(this.title);
a.append("ul").selectAll("li").data(this.formats).enter().append("li").on("click.download",y(this,this.click)).html().stringf(function(a){return a})},build:function(a,b){this.createMenu(b);var c=this.menu.node();switch(a[1]){case 6:b.node().parentNode.insertBefore(c,b.node().nextSibling);break;case 5:b.node().parentNode.insertBefore(c,b.node());break;case 3:this.menu.classed().add("bottom").classed().add("left");break;case 4:this.menu.classed().add("bottom").classed().add("right");break;case 0:U.select(a[2]).node().appendChild(c);
break;case 1:this.menu.classed().add("top").classed().add("left");break;case 2:this.menu.classed().add("top").classed().add("right")}},menu:null,backgroundColor:null,title:null,formats:null,handler:null,__class__:L.DownloaderMenu};L.DownloaderPosition={__ename__:["rg","html","widget","DownloaderPosition"],__constructs__:"ElementSelector,TopLeft,TopRight,BottomLeft,BottomRight,Before,After".split(",")};L.DownloaderPosition.ElementSelector=function(a){a=["ElementSelector",0,a];a.__enum__=L.DownloaderPosition;
a.toString=v;return a};L.DownloaderPosition.TopLeft=["TopLeft",1];L.DownloaderPosition.TopLeft.toString=v;L.DownloaderPosition.TopLeft.__enum__=L.DownloaderPosition;L.DownloaderPosition.TopRight=["TopRight",2];L.DownloaderPosition.TopRight.toString=v;L.DownloaderPosition.TopRight.__enum__=L.DownloaderPosition;L.DownloaderPosition.BottomLeft=["BottomLeft",3];L.DownloaderPosition.BottomLeft.toString=v;L.DownloaderPosition.BottomLeft.__enum__=L.DownloaderPosition;L.DownloaderPosition.BottomRight=["BottomRight",
4];L.DownloaderPosition.BottomRight.toString=v;L.DownloaderPosition.BottomRight.__enum__=L.DownloaderPosition;L.DownloaderPosition.Before=["Before",5];L.DownloaderPosition.Before.toString=v;L.DownloaderPosition.Before.__enum__=L.DownloaderPosition;L.DownloaderPosition.After=["After",6];L.DownloaderPosition.After.toString=v;L.DownloaderPosition.After.__enum__=L.DownloaderPosition;L.DownloaderPositions=function(){};j["rg.html.widget.DownloaderPositions"]=L.DownloaderPositions;L.DownloaderPositions.__name__=
["rg","html","widget","DownloaderPositions"];L.DownloaderPositions.parse=function(a){switch(a.toLowerCase()){case "topleft":return L.DownloaderPosition.TopLeft;case "topright":return L.DownloaderPosition.TopRight;case "auto":return L.DownloaderPosition.TopRight;case "bottomleft":return L.DownloaderPosition.BottomLeft;case "bottomright":return L.DownloaderPosition.BottomRight;case "before":return L.DownloaderPosition.Before;case "after":return L.DownloaderPosition.After;default:return L.DownloaderPosition.ElementSelector(a)}};
L.Logo=function(a,b){this.mapvalues=new ea;this.padRight=b;this.id=++L.Logo._id;this.container=a;this.create();(new Wb(5E3)).run=y(this,this.live)};j["rg.html.widget.Logo"]=L.Logo;L.Logo.__name__=["rg","html","widget","Logo"];L.Logo.pageIsBranded=function(){for(var a=0,b=L.Logo.getLogos();a<b.length;){var c=b[a];++a;if(!U.select('img[src="'+c+'"]').empty())return!0}return!1};L.Logo.createLogo=function(a,b){var c=a.attr("id").get(),e=L.Logo.registry.get(c);null==e?L.Logo.registry.set(c,e=new L.Logo(a,
b)):e.live();return e};L.Logo.getLogo=function(){return L.Logo.getLogos()[0]};L.Logo.getLogos=function(){return"http://api.reportgrid.com/css/images/reportgrid-clear.png,http://api.reportgrid.com/css/images/reportgrid-cleart.png,http://api.reportgrid.com/css/images/reportgrid-dark.png,http://api.reportgrid.com/css/images/reportgrid-darkt.png,https://api.reportgrid.com/css/images/reportgrid-clear.png,https://api.reportgrid.com/css/images/reportgrid-cleart.png,https://api.reportgrid.com/css/images/reportgrid-dark.png,https://api.reportgrid.com/css/images/reportgrid-darkt.png".split(",")};
L.Logo.position=function(a){for(var b={x:a.offsetLeft||0,y:a.offsetTop||0};null!=(a=a.offsetParent);)b.x+=a.offsetLeft,b.y+=a.offsetTop;return b};L.Logo.prototype={updateImage:function(){this.setAttr(this.image,"src",L.Logo.getLogo());this.setAttr(this.image,"title","Powered by ReportGrid");this.setAttr(this.image,"height","29");this.setAttr(this.image,"width","194");this.setStyle(this.image,"opacity","1");this.setStyle(this.image,"border","none");this.setStyle(this.image,"height","29px");this.setStyle(this.image,
"width","194px")},updateAnchor:function(){var a=ma.document.body;U.select("body :last-child").node()!=this.anchor.node()&&a.appendChild(this.anchor.node());var a=L.Logo.position(this.frame.node()),b=this.frame.style("width").getFloat();this.setAttr(this.anchor,"title","Powered by ReportGrid");this.setAttr(this.anchor,"href","http://www.reportgrid.com/charts/");this.setStyle(this.anchor,"z-index","2147483647");this.setStyle(this.anchor,"display","block");this.setStyle(this.anchor,"opacity","1");this.setStyle(this.anchor,
"position","absolute");this.setStyle(this.anchor,"height","29px");this.setStyle(this.anchor,"width","194px");this.setStyle(this.anchor,"top",a.y+"px");this.setStyle(this.anchor,"left",a.x-194+b-this.padRight+"px")},setAttr:function(a,b,c){var e="attr:"+b+":"+c,f;null!=(f=this.mapvalues.get(e))&&f!=a.attr(b).get()?a.attr(b).string(f):null==f&&(a.attr(b).string(c),this.mapvalues.set(e,a.attr(b).get()))},setStyle:function(a,b,c){var e="style:"+b+":"+c,f;null!=(f=this.mapvalues.get(e))&&f!=a.style(b).get()?
a.style(b).string(f,"important"):null==f&&(a.style(b).string(c,"important"),this.mapvalues.set(e,a.style(b).get()))},updateFrame:function(){this.setStyle(this.frame,"display","block");this.setStyle(this.frame,"opacity","1");this.setStyle(this.frame,"width","100%");this.setStyle(this.frame,"height","29px");this.setStyle(this.frame,"position","relative")},createImage:function(){this.image=this.anchor.append("img");this.updateImage()},createAnchor:function(){this.anchor=U.select("body").append("a").attr("class").string("reportgridbrandanchor"+
this.id).attr("target").string("_blank");this.updateAnchor()},createFrame:function(){this.chartContainer=this.container.select("*");this.frame=this.container.insert("div",this.chartContainer.node()).attr("class").string("reportgridbrandcontainer");this.updateFrame()},create:function(){this.createFrame();this.createAnchor();this.createImage()},live:function(){this.container.select("div.reportgridbrandcontainer").empty()?this.createFrame():this.updateFrame();U.select("body").select("a.reportgridbrandanchor"+
this.id).empty()?this.createAnchor():this.updateAnchor();this.anchor.select("img").empty()?this.createImage():this.updateImage()},padRight:null,mapvalues:null,id:null,image:null,anchor:null,frame:null,container:null,chartContainer:null,__class__:L.Logo};L.Tooltip=function(a){this.visible=!1;a=null==a?ma.document.body:a;this.tooltip=U.selectNode(a).append("div").style("display").string("none").style("position").string("absolute").style("opacity")["float"](0).style("left").string("0px").style("top").string("0px").attr("class").string("rg tooltip").style("z-index").string("1000000");
this._anchor=this.tooltip.append("div").style("display").string("block").style("position").string("absolute");this.setAnchorClass("");this.container=this.tooltip.append("div").style("position").string("relative").attr("class").string("rg_container");this.background=this.container.append("div").style("display").string("block").style("position").string("static").append("div").style("z-index").string("-1").attr("class").string("rg_background").style("position").string("absolute").style("left").string("0").style("right").string("0").style("top").string("0").style("bottom").string("0");
this.content=this.container.append("div").attr("class").string("rg_content");this.content.onNode("DOMSubtreeModified",y(this,this.resize));this.anchortype="bottomright";this.anchordistance=0};j["rg.html.widget.Tooltip"]=L.Tooltip;L.Tooltip.__name__=["rg","html","widget","Tooltip"];L.Tooltip.__properties__={get_instance:"get_instance"};L.Tooltip.get_instance=function(){if(null==L.Tooltip.instance)L.Tooltip.instance=new L.Tooltip,ReportGrid.tooltip=L.Tooltip.instance;return L.Tooltip.instance};L.Tooltip.prototype=
{reanchor:function(){if(this.visible){var a=this.container.style("width").getFloat(),b=this.container.style("height").getFloat(),c=this.anchortype;switch(c){case "top":this.container.style("left").string(-a/2+"px");break;case "bottom":this.container.style("left").string(-a/2+"px");break;case "center":this.container.style("left").string(-a/2+"px");break;case "left":this.container.style("left").string(this.anchordistance+"px");break;case "topleft":this.container.style("left").string(this.anchordistance+
"px");break;case "bottomleft":this.container.style("left").string(this.anchordistance+"px");break;case "right":this.container.style("left").string(-this.anchordistance-a+"px");break;case "topright":this.container.style("left").string(-this.anchordistance-a+"px");break;case "bottomright":this.container.style("left").string(-this.anchordistance-a+"px");break;default:throw new J.Error("invalid anchor point: {"+this.anchortype+"}",null,null,{fileName:"Tooltip.hx",lineNumber:157,className:"rg.html.widget.Tooltip",
methodName:"reanchor"});}switch(c){case "top":this.container.style("top").string(this.anchordistance+"px");break;case "topleft":this.container.style("top").string(this.anchordistance+"px");break;case "topright":this.container.style("top").string(this.anchordistance+"px");break;case "left":this.container.style("top").string(-b/2+"px");break;case "center":this.container.style("top").string(-b/2+"px");break;case "right":this.container.style("top").string(-b/2+"px");break;case "bottom":this.container.style("top").string(-this.anchordistance-
b+"px");break;case "bottomleft":this.container.style("top").string(-this.anchordistance-b+"px");break;case "bottomright":this.container.style("top").string(-this.anchordistance-b+"px")}}},resize:function(){this.reanchor()},setAnchorColor:function(a){this._anchor.style("background-color").string(a)},setAnchorClass:function(a){this._anchor.attr("class").string("rg_anchor "+a)},anchor:function(a,b){null==b&&(b=0);if(!(this.anchortype==a&&this.anchordistance==b))this.anchortype=a,this.anchordistance=
b,this.reanchor()},moveAt:function(a,b){this.tooltip.style("left").string(a+"px").style("top").string(b+"px")},showAt:function(a,b){this.moveAt(a,b);this.show()},hide:function(){if(this.visible)this.visible=!1,this.tooltip.style("opacity")["float"](0).style("display").string("none")},show:function(){if(!this.visible)this.tooltip.style("display").string("block"),this.visible=!0,this.reanchor(),this.tooltip.style("opacity")["float"](1)},html:function(a){this.content.node().innerHTML=a;this.reanchor()},
visible:null,anchordistance:null,anchortype:null,content:null,background:null,container:null,_anchor:null,tooltip:null,__class__:L.Tooltip};ua=function(){};sd=void 0;td=void 0;ud=void 0;vd=void 0;wd=void 0;xd=void 0;yd=void 0;Lb=void 0;zd=void 0;Rc=void 0;Ad=void 0;Bd=void 0;Sc=void 0;Tc=void 0;Cd=void 0;Dd=void 0;Uc=void 0;Vc=void 0;yb=void 0;i=void 0;La=void 0;Mb=void 0;gb=void 0;oc=void 0;zc=void 0;Ma=void 0;Wc=void 0;Ac=void 0;Bc=void 0;Cc=void 0;Xc=void 0;Ed=void 0;Fd=void 0;ec=void 0;zb=void 0;
j["rg.info.Info"]=ua;ua.__name__=["rg","info","Info"];ua.feed=function(a,b){if(null==b)return a;var c=K.getClass(a),e=l.field(c,"filters");if(null==e)return a;for(var c=e.apply(c,[]),f,e=0;e<c.length;){var h=c[e];++e;if(l.hasField(b,h.name))switch(f=l.field(b,h.name),f=h.transformer.transform(f),f[1]){case 0:for(h=f[2].iterator();h.hasNext();)f=h.next(),a[f.name]=f.value;break;case 1:ua.warn(h.name,f[2])}}return a};ua.warn=function(a,b){ua.warner("the parameter "+a+" has not been applied because: "+
n.string(b))};yb=function(){this.animated=!1;this.duration=1500;this.delay=150;this.ease=C.Equations.elasticf()};j["rg.info.InfoAnimation"]=yb;yb.__name__=["rg","info","InfoAnimation"];yb.filters=function(){return[i.FilterDescription.toBool("animated"),i.FilterDescription.toInt("duration"),i.FilterDescription.toInt("delay"),i.FilterDescription.toExpressionFunction("ease",["value"])]};yb.prototype={delay:null,ease:null,duration:null,animated:null,__class__:yb};La=function(){this.animation=new yb;this.label=
new Mb;this.displayMinorTick=function(){return!0};this.displayMajorTick=function(){return!0};this.displayLabelTick=function(){return!0};this.displayAnchorLineTick=function(){return!1};this.displayMinorRule=function(){return!1};this.displayMajorRule=function(){return!1};this.displayAnchorLineRule=function(){return!1};this.labelOrientation=function(){return null};this.labelAnchor=function(){return null};this.labelAngle=function(){return null};this.lengthTickMinor=2;this.lengthTickMajor=5;this.paddingTickMajor=
this.paddingTickMinor=1;this.paddingLabel=10};j["rg.info.InfoCartesianChart"]=La;La.__name__=["rg","info","InfoCartesianChart"];La.filters=function(){return[i.FilterDescription.toInfo("animation",null,yb),i.FilterDescription.toFunction("click"),i.FilterDescription.toInfo("label",null,Mb),i.FilterDescription.toExpressionFunctionOrBool("displaytickmarks",["type"],["displayMinorTick","displayMajorTick","displayLabelTick"]),i.FilterDescription.toExpressionFunctionOrBool("displaytickminor",["type"],["displayMinorTick"]),
i.FilterDescription.toExpressionFunctionOrBool("displaytickmajor",["type"],["displayMajorTick"]),i.FilterDescription.toExpressionFunctionOrBool("displayticklabel",["type"],["displayLabelTick"]),i.FilterDescription.toExpressionFunctionOrBool("displayanchorlinetick",["type"],["displayAnchorLineTick"]),i.FilterDescription.toExpressionFunctionOrBool("displayrules",["type"],["displayMinorRule","displayMajorRule"]),i.FilterDescription.toExpressionFunctionOrBool("displayruleminor",["type"],["displayMinorRule"]),
i.FilterDescription.toExpressionFunctionOrBool("displayrulemajor",["type"],["displayMajorRule"]),i.FilterDescription.toExpressionFunctionOrBool("displayanchorlinerule",["type"],["displayAnchorLineRule"]),i.FilterDescription.toFloat("lengthtick",["lengthTickMajor","lengthTickMinor"]),i.FilterDescription.toFloat("lengthtickminor",["lengthTickMinor"]),i.FilterDescription.toFloat("lengthtickmajor",["lengthTickMajor"]),i.FilterDescription.toFloat("paddingtick",["paddingTickMajor","paddingTickMinor"]),
i.FilterDescription.toFloat("paddingtickminor",["paddingTickMinor"]),i.FilterDescription.toFloat("paddingtickmajor",["paddingTickMajor"]),i.FilterDescription.toFloat("paddingticklabel",["paddingLabel"]),i.FilterDescription.toExpressionFunctionOrString("labelorientation",["type"],["labelOrientation"]),i.FilterDescription.toExpressionFunctionOrString("labelanchor",["type"],["labelAnchor"]),i.FilterDescription.toExpressionFunctionOrFloat("labelangle",["type"],["labelAngle"]),i.FilterDescription.simplified("labelhorizontal",
["labelAnchor"],function(a){return!1==a?function(){return"right"}:function(){return null}},i.ReturnMessageIfNot.isBool),i.FilterDescription.simplified("labelhorizontal",["labelAngle"],function(a){return!1==a?function(){return 0}:function(){return null}},i.ReturnMessageIfNot.isBool)]};La.prototype={paddingLabel:null,paddingTickMajor:null,paddingTickMinor:null,lengthTickMajor:null,lengthTickMinor:null,labelAngle:null,labelAnchor:null,labelOrientation:null,displayAnchorLineRule:null,displayMajorRule:null,
displayMinorRule:null,displayAnchorLineTick:null,displayLabelTick:null,displayMajorTick:null,displayMinorTick:null,label:null,click:null,animation:null,__class__:La};Rc=function(){La.call(this);this.segment=new gb;this.stacked=!0;this.effect=s.GradientEffect.Gradient(1.25);this.barPadding=12;this.barPaddingAxis=4;this.barPaddingDataPoint=2;this.horizontal=!1;this.startat=null};j["rg.info.InfoBarChart"]=Rc;Rc.__name__=["rg","info","InfoBarChart"];Rc.filters=function(){return[i.FilterDescription.toBool("stacked"),
i.FilterDescription.toBool("horizontal"),i.FilterDescription.simplified("effect",null,s.GradientEffects.parse,i.ReturnMessageChainer.or(i.ReturnMessageIfNot.isString,i.ReturnMessageChainer.make(s.GradientEffects.canParse,"invalid gradient effect: {0}"))),i.FilterDescription.toFloat("barpadding",["barPadding"]),i.FilterDescription.toFloat("barpaddingaxis",["barPaddingAxis"]),i.FilterDescription.toFloat("barpaddingdatapoint",["barPaddingDataPoint"]),i.FilterDescription.simplified("segmenton",["segment"],
function(a){return ua.feed(new gb,{on:a})},i.ReturnMessageIfNot.isString),i.FilterDescription.toInfo("segment",null,gb),i.FilterDescription.toStr("startat")].concat(La.filters())};Rc.__super__=La;Rc.prototype=H(La.prototype,{startat:null,segment:null,horizontal:null,barPadding:null,barPaddingAxis:null,barPaddingDataPoint:null,effect:null,stacked:null,__class__:Rc});ud=function(){};j["rg.info.InfoDataSource"]=ud;ud.__name__=["rg","info","InfoDataSource"];ud.filters=function(){return[i.FilterDescription.toDataFunctionFromArray("data",
["loader"]),i.FilterDescription.toDataFunctionFromArray("datapoints",["loader"]),i.FilterDescription.toLoaderFunction("load",["loader"])]};ud.prototype={loader:null,__class__:ud};xd=function(){};j["rg.info.InfoDomType"]=xd;xd.__name__=["rg","info","InfoDomType"];xd.filters=function(){return[i.FilterDescription.custom("visualization",["kind"],function(a){var b=null==a?null:(""+n.string(a)).toLowerCase();return B.exists(xa.visualizations,b)?i.TransformResult.Success(B.exists(xa.html,b)?oc.Html:oc.Svg):
i.TransformResult.Failure(new Y.Message("'{0}' value is not a vailid visualization kind",[a]))})]};xd.prototype={kind:null,__class__:xd};oc={__ename__:["rg","info","DomKind"],__constructs__:["Html","Svg"],Html:["Html",0]};oc.Html.toString=v;oc.Html.__enum__=oc;oc.Svg=["Svg",1];oc.Svg.toString=v;oc.Svg.__enum__=oc;yd=function(){this.service=Pb.SERVICE_RENDERING_STATIC;this.legacyservice=Pb.LEGACY_RENDERING_STATIC;this.formats=["pdf","png","jpg","svg"]};j["rg.info.InfoDownload"]=yd;yd.__name__=["rg",
"info","InfoDownload"];yd.filters=function(){return[i.FilterDescription.toFunction("handler"),i.FilterDescription.toStr("service"),i.FilterDescription.toStr("legacyservice"),i.FilterDescription.toArray("formats"),i.FilterDescription.custom("position",null,function(a){return I.__instanceof(a,String)||a.nodeName?i.TransformResult.Success(L.DownloaderPositions.parse(a)):i.TransformResult.Failure(new Y.Message("invalid downloader position: {0}",a))})]};yd.prototype={formats:null,position:null,legacyservice:null,
service:null,handler:null,__class__:yd};Ad=function(){this.animation=new yb;this.label=new zc;this.padding=2.5;this.flatness=1;this.effect=s.GradientEffect.Gradient(1.25);this.arrowSize=30};j["rg.info.InfoFunnelChart"]=Ad;Ad.__name__=["rg","info","InfoFunnelChart"];Ad.filters=function(){return[i.FilterDescription.toInfo("animation",null,yb),i.FilterDescription.toInfo("label",null,zc),i.FilterDescription.toExpressionFunction("sort",["a","b"],["sortDataPoint"]),i.FilterDescription.toFunction("click"),
i.FilterDescription.toFloat("segmentpadding",["padding"]),i.FilterDescription.toFloat("flatness"),i.FilterDescription.custom("effect",null,function(a){return s.GradientEffects.canParse(a)?i.TransformResult.Success(s.GradientEffects.parse(a)):i.TransformResult.Failure(new Y.Message("'{0}' is not a valid effect",a))}),i.FilterDescription.toFloat("arrowsize",["arrowSize"])]};Ad.prototype={arrowSize:null,effect:null,flatness:null,padding:null,click:null,sortDataPoint:null,label:null,animation:null,__class__:Ad};
vd=function(){this.forcelegacy=!1};j["rg.info.InfoGeneral"]=vd;vd.__name__=["rg","info","InfoGeneral"];vd.filters=function(){return[i.FilterDescription.toFunction("ready"),i.FilterDescription.toBool("forcelegacy")]};vd.prototype={forcelegacy:null,ready:null,__class__:vd};Bd=function(){this.labelOutline=this.labelShadow=!1;this.label=new Ma;this.map=[ua.feed(new Wc,{template:"world"})]};j["rg.info.InfoGeo"]=Bd;Bd.__name__=["rg","info","InfoGeo"];Bd.filters=function(){return[i.FilterDescription.toInfoArray("map",
null,Wc),i.FilterDescription.toBool("labeloutline",["labelOutline"]),i.FilterDescription.toBool("labelshadow",["labelShadow"])]};Bd.prototype={labelShadow:null,labelOutline:null,label:null,map:null,__class__:Bd};Sc=function(){La.call(this);this.colorScaleMode=s.ColorScaleMode.FromCssInterpolation()};j["rg.info.InfoHeatGrid"]=Sc;Sc.__name__=["rg","info","InfoHeatGrid"];Sc.filters=function(){return[i.FilterDescription.toBool("contour"),i.FilterDescription.simplified("color",["colorScaleMode"],s.ColorScaleModes.createFromDynamic,
function(a){return s.ColorScaleModes.canParse(a)?null:"value must be a a string or a function returning a string expressing a valid color scale mode"})].concat(La.filters())};Sc.__super__=La;Sc.prototype=H(La.prototype,{colorScaleMode:null,contour:null,__class__:Sc});Ma=function(){};j["rg.info.InfoLabel"]=Ma;Ma.__name__=["rg","info","InfoLabel"];Ma.filters=function(){return[i.FilterDescription.toTemplateFunctionOrString("title",["axes","values","types"]),i.FilterDescription.toTemplateFunction("datapoint",
[null,"stats"]),i.FilterDescription.toTemplateFunction("datapointover",[null,"stats"])]};Ma.prototype={datapointover:null,datapoint:null,title:null,__class__:Ma};Mb=function(){Ma.call(this)};j["rg.info.InfoLabelAxis"]=Mb;Mb.__name__=["rg","info","InfoLabelAxis"];Mb.filters=function(){return[i.FilterDescription.toTemplateFunction("axis",["type"]),i.FilterDescription.toTemplateFunction("tickmark",["value","type"])].concat(Ma.filters())};Mb.__super__=Ma;Mb.prototype=H(Ma.prototype,{tickmark:null,axis:null,
__class__:Mb});zc=function(){Ma.call(this)};j["rg.info.InfoLabelFunnel"]=zc;zc.__name__=["rg","info","InfoLabelFunnel"];zc.filters=function(){return[i.FilterDescription.toTemplateFunction("arrow",[null,"stats"])].concat(Ma.filters())};zc.__super__=Ma;zc.prototype=H(Ma.prototype,{arrow:null,__class__:zc});Ac=function(){Ma.call(this)};j["rg.info.InfoLabelLeaderboard"]=Ac;Ac.__name__=["rg","info","InfoLabelLeaderboard"];Ac.filters=function(){return[i.FilterDescription.toTemplateFunctionOrNull("rank",
[null,"index","stats"]),i.FilterDescription.toTemplateFunctionOrNull("value",[null,"stats"])].concat(Ma.filters())};Ac.__super__=Ma;Ac.prototype=H(Ma.prototype,{value:null,rank:null,__class__:Ac});Bc=function(){Mb.call(this)};j["rg.info.InfoLabelPivotTable"]=Bc;Bc.__name__=["rg","info","InfoLabelPivotTable"];Bc.filters=function(){return[i.FilterDescription.toTemplateFunction("total",["value","stats"]),i.FilterDescription.toTemplateFunction("totalover",["value","stats"]),i.FilterDescription.toTemplateFunction("axisvalue",
["value","axis"])].concat(Mb.filters())};Bc.__super__=Mb;Bc.prototype=H(Mb.prototype,{axisvalue:null,totalover:null,total:null,__class__:Bc});Cc=function(){Ma.call(this)};j["rg.info.InfoLabelSankey"]=Cc;Cc.__name__=["rg","info","InfoLabelSankey"];Cc.filters=function(){return[i.FilterDescription.toTemplateFunction("edge",[null,"stats"]),i.FilterDescription.toTemplateFunction("edgeover",[null,"stats"]),i.FilterDescription.toTemplateFunction("node",[null,"stats"])].concat(Ma.filters())};Cc.__super__=
Ma;Cc.prototype=H(Ma.prototype,{node:null,edgeover:null,edge:null,__class__:Cc});sd=function(){this.main="main";this.titleOnTop=!0;this.scalePattern=eb.ScalesAlternating;this.padding=new Xc};j["rg.info.InfoLayout"]=sd;sd.__name__=["rg","info","InfoLayout"];sd.filters=function(){return[i.FilterDescription.custom("layout",null,function(a){var b=null==a?null:(""+n.string(a)).toLowerCase();return B.exists(xa.layouts,b)?i.TransformResult.Success(b):i.TransformResult.Failure(new Y.Message("value '{0}' is not a valid visualization layout",
[a]))}),i.FilterDescription.toFloat("width"),i.FilterDescription.toFloat("height"),i.FilterDescription.custom("visualization",["type"],function(a){var b=null==a?null:(""+n.string(a)).toLowerCase();return B.exists(xa.svg,b)?i.TransformResult.Success(b):i.TransformResult.Failure(new Y.Message("value '{0}' is not a valid visualization type",[a]))}),i.FilterDescription.toStr("main"),i.FilterDescription.toBool("titleontop",["titleOnTop"]),i.FilterDescription.custom("yscaleposition",["scalePattern"],function(a){return!I.__instanceof(a,
String)?i.TransformResult.Failure(new Y.Message("value '{0}' must be a string",[a])):i.TransformResult.Success(function(){var b;switch(a){case "alt":b=eb.ScalesAlternating;break;case "alternate":b=eb.ScalesAlternating;break;case "alternating":b=eb.ScalesAlternating;break;case "right":b=eb.ScalesAfter;break;default:b=eb.ScalesBefore}return b}(this))}),i.FilterDescription.toInfo("padding",null,Xc)]};sd.prototype={padding:null,scalePattern:null,titleOnTop:null,main:null,type:null,height:null,width:null,
layout:null,__class__:sd};zd=function(){this.animation=new yb;this.label=new Ac;this.usemax=!1;this.displaybar=!0;this.colorscale=!1};j["rg.info.InfoLeaderboard"]=zd;zd.__name__=["rg","info","InfoLeaderboard"];zd.filters=function(){return[i.FilterDescription.toInfo("animation",null,yb,function(a){a.ease=C.Equations.linear}),i.FilterDescription.toInfo("label",null,Ac),i.FilterDescription.toFunction("click"),i.FilterDescription.toExpressionFunction("sort",["a","b"],["sortDataPoint"]),i.FilterDescription.toBool("displaybar"),
i.FilterDescription.toBool("usemax"),i.FilterDescription.toBool("colorscale")]};zd.prototype={colorscale:null,displaybar:null,usemax:null,sortDataPoint:null,click:null,label:null,animation:null,__class__:zd};Tc=function(){La.call(this);this.segment=new gb;this.effect=s.LineEffect.Gradient(-1.2,2);this.interpolation=q.LineInterpolator.Linear;this.displayarea=!1;this.sensibleradius=100};j["rg.info.InfoLineChart"]=Tc;Tc.__name__=["rg","info","InfoLineChart"];Tc.filters=function(){return[i.FilterDescription.toExpressionFunctionOrString("symbol",
[null,"stats"]),i.FilterDescription.toExpressionFunctionOrString("symbolstyle",[null,"stats"],["symbolStyle"]),i.FilterDescription.simplified("segmenton",["segment"],function(a){return ua.feed(new gb,{on:a})},i.ReturnMessageIfNot.isString),i.FilterDescription.toInfo("segment",null,gb),i.FilterDescription.toStr("y0property"),i.FilterDescription.toBool("displayarea"),i.FilterDescription.toInt("sensibleradius"),i.FilterDescription.toTry("effect",null,s.LineEffects.parse,"invalid effect string value '{0}'"),
i.FilterDescription.toTry("interpolation",null,function(a){return q.LineInterpolators.parse(a)},"invalid line interpolation string value '{0}'")].concat(La.filters())};Tc.__super__=La;Tc.prototype=H(La.prototype,{sensibleradius:null,segment:null,y0property:null,displayarea:null,symbolStyle:null,symbol:null,interpolation:null,effect:null,__class__:Tc});Wc=function(){this.property="location";this.type="geojson";this.colorScaleMode=s.ColorScaleMode.FromCssInterpolation();this.usejsonp=!0;this.radius=
function(){return 10}};j["rg.info.InfoMap"]=Wc;Wc.__name__=["rg","info","InfoMap"];Wc.filters=function(){return[i.FilterDescription.toStr("url"),i.FilterDescription.toStr("type"),i.FilterDescription.toFloat("scale"),i.FilterDescription.toStr("projection"),i.FilterDescription.toStr("classname"),i.FilterDescription.toArray("translate"),i.FilterDescription.toArray("origin"),i.FilterDescription.toArray("parallels"),i.FilterDescription.toTry("mode",null,function(a){return K.createEnum(ca.ProjectionMode,
E.ucfirst(a.toLowerCase()),[])},"value is not a valid projection mode '{0}'"),i.FilterDescription.toStrOrNull("property"),i.FilterDescription.toBool("usejsonp"),new i.FilterDescription("template",new Ed),i.FilterDescription.toInfo("label",null,Ma),i.FilterDescription.toFunction("click"),i.FilterDescription.simplified("color",["colorScaleMode"],s.ColorScaleModes.createFromDynamic,i.ReturnMessageChainer.make(function(a){return I.__instanceof(a,String)||l.isFunction(a)},"invalid color mode value '{0}'")),
i.FilterDescription.toExpressionFunctionOrFloat("radius",[null,"stats"]),new i.FilterDescription("mapping",new Fd)]};Wc.prototype={mappingurl:null,mapping:null,usejsonp:null,colorScaleMode:null,radius:null,click:null,label:null,property:null,mode:null,parallels:null,origin:null,translate:null,classname:null,projection:null,scale:null,type:null,url:null,__class__:Wc};i={ITransformer:function(){}};j["rg.info.filter.ITransformer"]=i.ITransformer;i.ITransformer.__name__=["rg","info","filter","ITransformer"];
i.ITransformer.prototype={transform:null,__class__:i.ITransformer};Fd=function(){};j["rg.info.MapTransformer"]=Fd;Fd.__name__=["rg","info","MapTransformer"];Fd.__interfaces__=[i.ITransformer];Fd.prototype={transform:function(a){return I.__instanceof(a,String)?i.TransformResult.Success(new i.Pairs(["mappingurl"],[a])):l.isObject(a)&&null==K.getClass(a)?i.TransformResult.Success(new i.Pairs(["mapping"],[a])):i.TransformResult.Failure(new Y.Message("value should be url string or an object",[a]))},__class__:Fd};
Ed=function(){};j["rg.info.TemplateTransformer"]=Ed;Ed.__name__=["rg","info","TemplateTransformer"];Ed.__interfaces__=[i.ITransformer];Ed.prototype={transform:function(a){a=null==a?"":""+n.string(a);switch(a.toLowerCase()){case "world":a=i.TransformResult.Success(new i.Pairs(["projection","url"],["mercator",Pb.BASE_URL_GEOJSON+"world-countries.json.js"]));break;case "world-countries":a=i.TransformResult.Success(new i.Pairs(["projection","url"],["mercator",Pb.BASE_URL_GEOJSON+"world-countries.json.js"]));
break;case "usa-states":a=i.TransformResult.Success(new i.Pairs(["projection","url"],["albersusa",Pb.BASE_URL_GEOJSON+"usa-states.json.js"]));break;case "usa-state-centroids":a=i.TransformResult.Success(new i.Pairs(["projection","url"],["albersusa",Pb.BASE_URL_GEOJSON+"usa-state-centroids.json.js"]));break;case "usa-counties":a=i.TransformResult.Success(new i.Pairs(["projection","url"],["albersusa",Pb.BASE_URL_GEOJSON+"usa-counties.json.js"]));break;default:a=i.TransformResult.Failure(new Y.Message("{0} is not a valid map template",
[a]))}return a},__class__:Ed};Xc=function(){};j["rg.info.InfoPadding"]=Xc;Xc.__name__=["rg","info","InfoPadding"];Xc.filters=function(){return[i.FilterDescription.toInt("top"),i.FilterDescription.toInt("bottom"),i.FilterDescription.toInt("left"),i.FilterDescription.toInt("right")]};Xc.prototype={right:null,left:null,bottom:null,top:null,__class__:Xc};Cd=function(){this.innerradius=0;this.labelradius=0.45;this.labelorientation=p.LabelOrientation.Aligned;this.outerradius=0.9;this.overradius=0.95;this.tooltipradius=
0.5;this.animation=new yb;this.label=new Ma;this.effect=s.GradientEffect.Gradient(1.2);this.dontfliplabel=!0};j["rg.info.InfoPieChart"]=Cd;Cd.__name__=["rg","info","InfoPieChart"];Cd.filters=function(){return[i.FilterDescription.toFloat("labelradius"),i.FilterDescription.toBool("dontfliplabel"),i.FilterDescription.toTry("labelorientation",null,p.LabelOrientations.parse,"invalid orientation value '{0}'"),i.FilterDescription.toFloat("innerradius"),i.FilterDescription.toFloat("outerradius"),i.FilterDescription.toFloat("overradius"),
i.FilterDescription.toFloat("tooltipradius"),i.FilterDescription.toInfo("animation",null,yb),i.FilterDescription.toInfo("label",null,Ma),i.FilterDescription.toExpressionFunction("sort",["a","b"],["sortDataPoint"]),i.FilterDescription.toFunction("click"),i.FilterDescription.simplified("effect",null,s.GradientEffects.parse,i.ReturnMessageChainer.or(i.ReturnMessageIfNot.isString,i.ReturnMessageChainer.make(s.GradientEffects.canParse,"invalid gradient effect: {0}")))]};Cd.prototype={click:null,dontfliplabel:null,
sortDataPoint:null,effect:null,label:null,animation:null,tooltipradius:null,overradius:null,outerradius:null,innerradius:null,labelorientation:null,labelradius:null,__class__:Cd};Lb=function(){this.label=new Bc;this.heatmapColorStart=Lb.defaultStartColor;this.heatmapColorEnd=Lb.defaultEndColor;this.displayRowTotal=this.displayColumnTotal=this.displayHeatmap=!0;this.columnAxes=1};j["rg.info.InfoPivotTable"]=Lb;Lb.__name__=["rg","info","InfoPivotTable"];Lb.filters=function(){return[i.FilterDescription.toInt("columnaxes",
["columnAxes"]),i.FilterDescription.toBool("displayheatmap",["displayHeatmap"]),i.FilterDescription.toBool("displaycolumntotal",["displayColumnTotal"]),i.FilterDescription.toBool("displayrowtotal",["displayRowTotal"]),i.FilterDescription.toTry("startcolor",["heatmapColorStart"],function(a){return g.Hsl.toHsl(aa.parse(a,Lb.defaultStartColor.hex("#")))},"value is not a parsable color '{0}'"),i.FilterDescription.toTry("endcolor",["heatmapColorEnd"],function(a){return g.Hsl.toHsl(aa.parse(a,Lb.defaultEndColor.hex("#")))},
"value is not a parsable color '{0}'"),i.FilterDescription.toInfo("label",null,Bc),i.FilterDescription.toFunction("click"),i.FilterDescription.toExpressionFunction("cellclass",[null,"stats"]),i.FilterDescription.toExpressionFunction("valueclass",["value","header"]),i.FilterDescription.toExpressionFunction("headerclass",["header"]),i.FilterDescription.toExpressionFunction("totalclass",["value","values"])]};Lb.prototype={totalclass:null,headerclass:null,valueclass:null,cellclass:null,click:null,columnAxes:null,
displayRowTotal:null,displayColumnTotal:null,displayHeatmap:null,heatmapColorEnd:null,heatmapColorStart:null,label:null,__class__:Lb};Dd=function(){this.label=new Cc;this.idproperty="id";this.weightproperty="count";this.parentsproperty="parents";this.stackbackedges=!0;this.thinbackedges=!1};j["rg.info.InfoSankey"]=Dd;Dd.__name__=["rg","info","InfoSankey"];Dd.filters=function(){return[i.FilterDescription.toInfo("label",null,Cc),i.FilterDescription.toFloat("layerwidth",["layerWidth"]),i.FilterDescription.toFloat("nodespacing",
["nodeSpacing"]),i.FilterDescription.toFloat("dummyspacing",["dummySpacing"]),i.FilterDescription.toFloat("extrawidth",["extraWidth"]),i.FilterDescription.toFloat("backedgespacing",["backEdgeSpacing"]),i.FilterDescription.toFloat("extraheight",["extraHeight"]),i.FilterDescription.toFloat("extraradius",["extraRadius"]),i.FilterDescription.toFloat("imagewidth",["imageWidth"]),i.FilterDescription.toFloat("imageheight",["imageHeight"]),i.FilterDescription.toFloat("imagespacing",["imageSpacing"]),i.FilterDescription.toFloat("labelnodespacing",
["labelNodeSpacing"]),i.FilterDescription.toExpressionFunction("imagepath",[null],["imagePath"]),i.FilterDescription.toFunction("click",["click"]),i.FilterDescription.toFunction("clickedge",["clickEdge"]),i.FilterDescription.toObject("layoutmap"),i.FilterDescription.toStr("layoutmethod"),i.FilterDescription.toExpressionFunctionOrString("nodeclass",[null,"stats"]),i.FilterDescription.toExpressionFunctionOrString("edgeclass",[null,"stats"]),i.FilterDescription.toExpressionFunctionOrBool("displayentry",
[null,"stats"]),i.FilterDescription.toExpressionFunctionOrBool("displayexit",[null,"stats"]),i.FilterDescription.toBool("stackbackedges"),i.FilterDescription.toBool("thinbackedges")]};Dd.prototype={thinbackedges:null,stackbackedges:null,displayexit:null,displayentry:null,edgeclass:null,nodeclass:null,layoutmethod:null,clickEdge:null,click:null,layoutmap:null,imagePath:null,labelNodeSpacing:null,imageSpacing:null,imageHeight:null,imageWidth:null,extraRadius:null,extraHeight:null,backEdgeSpacing:null,
extraWidth:null,dummySpacing:null,nodeSpacing:null,layerWidth:null,parentsproperty:null,weightproperty:null,idproperty:null,label:null,__class__:Dd};Uc=function(){La.call(this);this.segment=new gb;this.symbol=function(){return V.SymbolCache.cache.get("circle",16)}};j["rg.info.InfoScatterGraph"]=Uc;Uc.__name__=["rg","info","InfoScatterGraph"];Uc.filters=function(){return[i.FilterDescription.toExpressionFunctionOrString("symbol",[null,"stats"]),i.FilterDescription.toTemplateFunction("symbolstyle",[null,
"stats"],["symbolStyle"]),i.FilterDescription.simplified("segmenton",["segment"],function(a){return ua.feed(new gb,{on:a})},i.ReturnMessageIfNot.isString),i.FilterDescription.toInfo("segment",null,gb)].concat(La.filters())};Uc.__super__=La;Uc.prototype=H(La.prototype,{segment:null,symbolStyle:null,symbol:null,__class__:Uc});gb=function(){this.values=[]};j["rg.info.InfoSegment"]=gb;gb.__name__=["rg","info","InfoSegment"];gb.filters=function(){return[i.FilterDescription.toStr("on"),i.FilterDescription.toFunction("transform"),
i.FilterDescription.toFunction("scale"),i.FilterDescription.toArray("values")]};gb.prototype={values:null,scale:null,transform:null,on:null,__class__:gb};Vc=function(){La.call(this);this.segment=new gb;this.interpolation=q.LineInterpolator.Cardinal();this.effect=s.StreamEffect.GradientVertical(1.25)};j["rg.info.InfoStreamGraph"]=Vc;Vc.__name__=["rg","info","InfoStreamGraph"];Vc.filters=function(){return[i.FilterDescription.toTry("interpolation",null,function(a){return q.LineInterpolators.parse(a)},
"value is expected to be a valid interpolation string, it is '{0}'"),i.FilterDescription.toTry("effect",null,function(a){return s.StreamEffects.parse(a)},"value is expected to be a valid effect string, it is '{0}'"),i.FilterDescription.simplified("segmenton",["segment"],function(a){return ua.feed(new gb,{on:a})},i.ReturnMessageIfNot.isString),i.FilterDescription.toInfo("segment",null,gb)].concat(La.filters())};Vc.__super__=La;Vc.prototype=H(La.prototype,{segment:null,effect:null,interpolation:null,
__class__:Vc});ec=function(){this.variableType=zb.Unknown};j["rg.info.InfoVariable"]=ec;ec.__name__=["rg","info","InfoVariable"];ec.filters=function(){return[i.FilterDescription.toStr("type"),i.FilterDescription.custom("view",["min"],function(a){return!I.__instanceof(a,Array)||!ec.testViewValue(a[0])?i.TransformResult.Failure(new Y.Message("value is expected to be an array of two items but is '{0}'",[a])):i.TransformResult.Success(a[0])}),i.FilterDescription.custom("view",["max"],function(a){return!I.__instanceof(a,
Array)||!ec.testViewValue(a[1])?i.TransformResult.Failure(new Y.Message("value is expected to be an array of two items but is '{0}'",[a])):i.TransformResult.Success(a[1])}),i.FilterDescription.toArray("values"),i.FilterDescription.custom("values",["min"],function(a){return I.__instanceof(a,Array)?i.TransformResult.Success(a[0]):i.TransformResult.Failure(new Y.Message("values is expected to be an array"))}),i.FilterDescription.custom("values",["max"],function(a){return I.__instanceof(a,Array)?(a=I.__cast(a,
Array),i.TransformResult.Success(a[a.length-1])):i.TransformResult.Failure(new Y.Message("values is expected to be an array"))}),i.FilterDescription.custom("groupby",["groupBy"],function(a){return!I.__instanceof(a,String)||!W.isValidGroupBy(a)?i.TransformResult.Failure(new Y.Message("value is expected to be a valid string periodicity but is '{0}'",[a])):i.TransformResult.Success(a)}),i.FilterDescription.custom("variable",["variableType"],function(a){var b=null==a?null:(""+n.string(a)).toLowerCase();
return B.exists(["independent","dependent"],b)?i.TransformResult.Success(K.createEnum(zb,E.ucfirst(b.toLowerCase()),[])):i.TransformResult.Failure(new Y.Message("value is expected to be an 'independent' or 'dependent' but is '{0}'",[a]))}),i.FilterDescription.toTry("scalemode",["scaleDistribution"],function(a){return K.createEnum(Za,"Scale"+E.ucfirst((""+n.string(a)).toLowerCase()),[])},"value is expected to be a valid scale distribution value but is '{0}'")]};ec.testViewValue=function(a){return null==
a||cb.isPrimitive(a)||I.__instanceof(a,Date)||l.isFunction(a)};ec.__super__=ua;ec.prototype=H(ua.prototype,{scaleDistribution:null,variableType:null,groupBy:null,values:null,max:null,min:null,type:null,__class__:ec});zb={__ename__:["rg","info","VariableType"],__constructs__:["Unknown","Independent","Dependent"],Unknown:["Unknown",0]};zb.Unknown.toString=v;zb.Unknown.__enum__=zb;zb.Independent=["Independent",1];zb.Independent.toString=v;zb.Independent.__enum__=zb;zb.Dependent=["Dependent",2];zb.Dependent.toString=
v;zb.Dependent.__enum__=zb;td=function(){};j["rg.info.InfoVisualizationOption"]=td;td.__name__=["rg","info","InfoVisualizationOption"];td.filters=function(){return[i.FilterDescription.toInfoArray("axes",["variables"],ec),i.FilterDescription.toObject("options")]};td.prototype={options:null,variables:null,__class__:td};wd=function(){this.replace=!0};j["rg.info.InfoVisualizationType"]=wd;wd.__name__=["rg","info","InfoVisualizationType"];wd.filters=function(){return[i.FilterDescription.custom("visualization",
["type"],function(a){var b=null==a?null:(""+n.string(a)).toLowerCase();return B.exists(xa.visualizations,b)?i.TransformResult.Success(b):i.TransformResult.Failure(new Y.Message("invalid visualization type '{0}'",a))}),i.FilterDescription.toBool("replace")]};wd.prototype={type:null,replace:null,__class__:wd};i.EmptyTransformer=function(a){this.mapto=a};j["rg.info.filter.EmptyTransformer"]=i.EmptyTransformer;i.EmptyTransformer.__name__=["rg","info","filter","EmptyTransformer"];i.EmptyTransformer.__interfaces__=
[i.ITransformer];i.EmptyTransformer.prototype={transform:function(a){return i.TransformResult.Success(new i.Pairs([this.mapto],[a]))},mapto:null,__class__:i.EmptyTransformer};i.FilterDescription=function(a,b){this.name=a;this.transformer=null==b?new i.EmptyTransformer(a):b};j["rg.info.filter.FilterDescription"]=i.FilterDescription;i.FilterDescription.__name__=["rg","info","filter","FilterDescription"];i.FilterDescription.toBool=function(a,b){return i.FilterDescription.pair(a,b,i.TransformerBool.instance)};
i.FilterDescription.toInt=function(a,b){return i.FilterDescription.pair(a,b,i.TransformerInt.instance)};i.FilterDescription.toFloat=function(a,b){return i.FilterDescription.pair(a,b,i.TransformerFloat.instance)};i.FilterDescription.toStr=function(a,b){return i.FilterDescription.pair(a,b,i.TransformerString.instance)};i.FilterDescription.toStrOrNull=function(a,b){return i.FilterDescription.custom(a,b,function(a){return null==a?i.TransformResult.Success(null):i.TransformerString.instance.transform(a)})};
i.FilterDescription.toArray=function(a,b){return i.FilterDescription.custom(a,b,function(a){return I.__instanceof(a,Array)?i.TransformResult.Success(a):i.TransformResult.Failure(new Y.Message("expected array but was '{0}'",a))})};i.FilterDescription.toObject=function(a,b){return i.FilterDescription.pair(a,b,i.TransformerObject.instance)};i.FilterDescription.toFunction=function(a,b){return i.FilterDescription.pair(a,b,i.TransformerFunction.instance)};i.FilterDescription.toTemplateFunction=function(a,
b,c){return i.FilterDescription.pair(a,c,new i.TransformerTemplateToFunction(b))};i.FilterDescription.toExpressionFunction=function(a,b,c){return i.FilterDescription.pair(a,c,new i.TransformerExpressionToFunction(b))};i.FilterDescription.toInfo=function(a,b,c,e){return i.FilterDescription.simplified(a,b,function(a){var b=K.createInstance(c,[]);null!=e&&e(b);return ua.feed(b,a)},i.ReturnMessageIfNot.isObject)};i.FilterDescription.toInfoArray=function(a,b,c){return i.FilterDescription.custom(a,b,function(a){if(!I.__instanceof(a,
Array))if(l.isObject(a)&&null==K.getClass(a))a=[a];else return i.TransformResult.Failure(new Y.Message("value must be either an array of objects or an object but is {0}",[a]));return i.TransformResult.Success(a.map(function(a){var b=K.createInstance(c,[]);return ua.feed(b,a)}))})};i.FilterDescription.toTry=function(a,b,c,e){return i.FilterDescription.custom(a,b,function(a){try{return i.TransformResult.Success(c(a))}catch(b){return i.TransformResult.Failure(new Y.Message(e,[a]))}})};i.FilterDescription.toDataFunctionFromArray=
function(a,b){return i.FilterDescription.custom(a,b,i.TransformerChainer.onResult((P=i.TransformerArray.instance,y(P,P.transform)),function(a){return i.TransformResult.Success(function(b){return b(a)})},function(){return i.TransformResult.Failure(new Y.Message("parameter must be an array of values"))}))};i.FilterDescription.toLoaderFunction=function(a,b){return i.FilterDescription.custom(a,b,i.TransformerChainer.onResult((P=i.TransformerFunction.instance,y(P,P.transform)),function(a){return i.TransformResult.Success(a)},
function(a){var b=l.field(a,"execute");return null!=b&&l.isFunction(b)?i.TransformResult.Success(function(f){b.apply(a,[f])}):i.TransformResult.Failure(new Y.Message("parameter must be an array of values"))}))};i.FilterDescription.toFunctionOrBool=function(a,b){return i.FilterDescription.custom(a,b,i.TransformerChainer.onResult((P=i.TransformerFunction.instance,y(P,P.transform)),function(a){return i.TransformResult.Success(a)},function(a){return i.TransformerChainer.onResult((P=i.TransformerBool.instance,
y(P,P.transform)),function(a){return i.TransformResult.Success(function(){return a})},function(){return i.TransformResult.Failure(new Y.Message("parameter should be a boolean value or a function returning a boolean value"))})(a)}))};i.FilterDescription.toExpressionFunctionOrBool=function(a,b,c){return i.FilterDescription.custom(a,c,i.TransformerChainer.onResult((P=new i.TransformerExpressionToFunction(b),y(P,P.transform)),function(a){return i.TransformResult.Success(a)},function(a){return i.TransformerChainer.onResult((P=
i.TransformerBool.instance,y(P,P.transform)),function(a){return i.TransformResult.Success(function(){return a})},function(){return i.TransformResult.Failure(new Y.Message("parameter should be a boolean value or a function returning a boolean value"))})(a)}))};i.FilterDescription.toFunctionOrFloat=function(a,b){return i.FilterDescription.custom(a,b,i.TransformerChainer.onResult((P=i.TransformerFunction.instance,y(P,P.transform)),function(a){return i.TransformResult.Success(a)},function(a){return i.TransformerChainer.onResult((P=
i.TransformerFloat.instance,y(P,P.transform)),function(a){return i.TransformResult.Success(function(){return a})},function(){return i.TransformResult.Failure(new Y.Message("parameter should be a float value or a function returning a float value"))})(a)}))};i.FilterDescription.toExpressionFunctionOrFloat=function(a,b,c){return i.FilterDescription.custom(a,c,i.TransformerChainer.onResult((P=new i.TransformerExpressionToFunction(b),y(P,P.transform)),function(a){return i.TransformResult.Success(a)},function(a){return i.TransformerChainer.onResult((P=
i.TransformerFloat.instance,y(P,P.transform)),function(a){return i.TransformResult.Success(function(){return a})},function(){return i.TransformResult.Failure(new Y.Message("parameter should be a float value or a function returning a float value"))})(a)}))};i.FilterDescription.toFunctionOrNull=function(a,b){return i.FilterDescription.custom(a,b,i.TransformerChainer.onResult((P=i.TransformerFunction.instance,y(P,P.transform)),function(a){return i.TransformResult.Success(a)},function(a){return null==
a?i.TransformResult.Success(null):i.TransformResult.Failure(new Y.Message("parameter should be a function or null"))}))};i.FilterDescription.toExpressionFunctionOrNull=function(a,b,c){return i.FilterDescription.custom(a,c,i.TransformerChainer.onResult((P=new i.TransformerExpressionToFunction(b),y(P,P.transform)),function(a){return i.TransformResult.Success(a)},function(a){return null==a?i.TransformResult.Success(null):i.TransformResult.Failure(new Y.Message("parameter should be a function or null"))}))};
i.FilterDescription.toTemplateFunctionOrNull=function(a,b,c){return i.FilterDescription.custom(a,c,i.TransformerChainer.onResult((P=new i.TransformerTemplateToFunction(b),y(P,P.transform)),function(a){return i.TransformResult.Success(a)},function(a){return null==a?i.TransformResult.Success(null):i.TransformResult.Failure(new Y.Message("parameter should be a function or null"))}))};i.FilterDescription.toFunctionOrString=function(a,b){return i.FilterDescription.custom(a,b,i.TransformerChainer.onResult((P=
i.TransformerFunction.instance,y(P,P.transform)),function(a){return i.TransformResult.Success(a)},function(a){return i.TransformerChainer.onResult((P=i.TransformerString.instance,y(P,P.transform)),function(a){return i.TransformResult.Success(function(){return a})},function(){return i.TransformResult.Failure(new Y.Message("parameter should be a string value or a function returning a string value"))})(a)}))};i.FilterDescription.toExpressionFunctionOrString=function(a,b,c){return i.FilterDescription.custom(a,
c,i.TransformerChainer.onResult((P=new i.TransformerExpressionToFunction(b),y(P,P.transform)),function(a){return i.TransformResult.Success(a)},function(a){return i.TransformerChainer.onResult((P=i.TransformerString.instance,y(P,P.transform)),function(a){return i.TransformResult.Success(function(){return a})},function(){return i.TransformResult.Failure(new Y.Message("parameter should be a string value or a function returning a string value"))})(a)}))};i.FilterDescription.toTemplateFunctionOrString=
function(a,b,c){return i.FilterDescription.custom(a,c,i.TransformerChainer.onResult((P=new i.TransformerTemplateToFunction(b),y(P,P.transform)),function(a){return i.TransformResult.Success(a)},function(a){return i.TransformerChainer.onResult((P=i.TransformerString.instance,y(P,P.transform)),function(a){return i.TransformResult.Success(function(){return a})},function(){return i.TransformResult.Failure(new Y.Message("parameter should be a string value or a function returning a string value"))})(a)}))};
i.FilterDescription.custom=function(a,b,c){return i.FilterDescription.pair(a,b,new i.CustomTransformer(c))};i.FilterDescription.simplified=function(a,b,c,e){return i.FilterDescription.pair(a,b,i.CustomTransformer.simplified(c,e))};i.FilterDescription.pair=function(a,b,c){null==b&&(b=[a]);return new i.FilterDescription(a,new i.PairTransformer(b,c))};i.FilterDescription.prototype={transformer:null,name:null,__class__:i.FilterDescription};i.CustomTransformer=function(a){this.transformer=a};j["rg.info.filter.CustomTransformer"]=
i.CustomTransformer;i.CustomTransformer.__name__=["rg","info","filter","CustomTransformer"];i.CustomTransformer.__interfaces__=[i.ITransformer];i.CustomTransformer.simplified=function(a,b){return new i.CustomTransformer(function(c){var e=b(c);return null==e?i.TransformResult.Success(a(c)):i.TransformResult.Failure(new Y.Message(e,[c]))})};i.CustomTransformer.prototype={transform:function(a){return this.transformer(a)},transformer:null,__class__:i.CustomTransformer};i.TransformerChainer=function(){};
j["rg.info.filter.TransformerChainer"]=i.TransformerChainer;i.TransformerChainer.__name__=["rg","info","filter","TransformerChainer"];i.TransformerChainer.onResult=function(a,b,c){return function(e){var f=a(e);switch(f[1]){case 0:return b(f[2],e);case 1:return c(e,f[2])}}};i.TransformerArray=function(){};j["rg.info.filter.TransformerArray"]=i.TransformerArray;i.TransformerArray.__name__=["rg","info","filter","TransformerArray"];i.TransformerArray.__interfaces__=[i.ITransformer];i.TransformerArray.prototype=
{transform:function(a){return I.__instanceof(a,Array)?i.TransformResult.Success(a):i.TransformResult.Failure(new Y.Message("value {0} is not an array",[a]))},__class__:i.TransformerArray};i.TransformerObject=function(){};j["rg.info.filter.TransformerObject"]=i.TransformerObject;i.TransformerObject.__name__=["rg","info","filter","TransformerObject"];i.TransformerObject.__interfaces__=[i.ITransformer];i.TransformerObject.prototype={transform:function(a){return l.isObject(a)&&null==K.getClass(a)?i.TransformResult.Success(a):
i.TransformResult.Failure(new Y.Message("value {0} is not an object",[a]))},__class__:i.TransformerObject};i.TransformerString=function(){};j["rg.info.filter.TransformerString"]=i.TransformerString;i.TransformerString.__name__=["rg","info","filter","TransformerString"];i.TransformerString.__interfaces__=[i.ITransformer];i.TransformerString.prototype={transform:function(a){switch(K["typeof"](a)[1]){case 3:return i.TransformResult.Success(a?"true":"false");case 1:return i.TransformResult.Success(""+
n.string(a));case 2:return i.TransformResult.Success(""+n.string(a));case 6:return i.TransformResult.Success(n.string(a));default:return i.TransformResult.Failure(new Y.Message("unable to tranform {0} into a string value",[a]))}},__class__:i.TransformerString};i.TransformerBool=function(){};j["rg.info.filter.TransformerBool"]=i.TransformerBool;i.TransformerBool.__name__=["rg","info","filter","TransformerBool"];i.TransformerBool.__interfaces__=[i.ITransformer];i.TransformerBool.prototype={transform:function(a){var b=
K["typeof"](a);switch(b[1]){case 3:return i.TransformResult.Success(a);case 1:return i.TransformResult.Success(0!=a);case 2:return i.TransformResult.Success(0!=a);case 6:return"String"==K.getClassName(b[2])?ab.canParse(a)?i.TransformResult.Success(ab.parse(a)):i.TransformResult.Failure(new Y.Message("unable to tranform the string '{0}'' into a boolean value",[a])):i.TransformResult.Failure(new Y.Message("unable to tranform the instance of {0} into a boolean value",[a]));default:return i.TransformResult.Failure(new Y.Message("unable to tranform {0} into a boolean value",
[a]))}},__class__:i.TransformerBool};i.TransformerInt=function(){};j["rg.info.filter.TransformerInt"]=i.TransformerInt;i.TransformerInt.__name__=["rg","info","filter","TransformerInt"];i.TransformerInt.__interfaces__=[i.ITransformer];i.TransformerInt.prototype={transform:function(a){switch(K["typeof"](a)[1]){case 3:return i.TransformResult.Success(a?1:0);case 1:return i.TransformResult.Success(a);case 2:return i.TransformResult.Success(n["int"](a));default:return I.__instanceof(a,String)&&O.canParse(a)?
i.TransformResult.Success(O.parse(a)):i.TransformResult.Failure(new Y.Message("unable to tranform {0} into an integer value",[a]))}},__class__:i.TransformerInt};i.TransformerFloat=function(){};j["rg.info.filter.TransformerFloat"]=i.TransformerFloat;i.TransformerFloat.__name__=["rg","info","filter","TransformerFloat"];i.TransformerFloat.__interfaces__=[i.ITransformer];i.TransformerFloat.prototype={transform:function(a){switch(K["typeof"](a)[1]){case 3:return i.TransformResult.Success(a?1:0);case 1:return i.TransformResult.Success(a);
case 2:return i.TransformResult.Success(a);default:return I.__instanceof(a,String)&&D.canParse(a)?i.TransformResult.Success(D.parse(a)):i.TransformResult.Failure(new Y.Message("unable to tranform {0} into a float value",[a]))}},__class__:i.TransformerFloat};i.TransformerFunction=function(){};j["rg.info.filter.TransformerFunction"]=i.TransformerFunction;i.TransformerFunction.__name__=["rg","info","filter","TransformerFunction"];i.TransformerFunction.__interfaces__=[i.ITransformer];i.TransformerFunction.prototype=
{transform:function(a){return l.isFunction(a)?i.TransformResult.Success(a):i.TransformResult.Failure(new Y.Message("not a function"))},__class__:i.TransformerFunction};i.TransformerTemplateToFunction=function(a){this.argumentsMap=a};j["rg.info.filter.TransformerTemplateToFunction"]=i.TransformerTemplateToFunction;i.TransformerTemplateToFunction.__name__=["rg","info","filter","TransformerTemplateToFunction"];i.TransformerTemplateToFunction.__interfaces__=[i.ITransformer];i.TransformerTemplateToFunction.prototype=
{transform:function(a){var b=this;if(I.__instanceof(a,String)){var c=new xe(a);return i.TransformResult.Success(function(){return c.execute(i.TransformerExpressionToFunction.extractValues(b.argumentsMap,arguments))})}return l.isFunction(a)?i.TransformResult.Success(a):i.TransformResult.Failure(new Y.Message("not a function"))},argumentsMap:null,__class__:i.TransformerTemplateToFunction};i.TransformerExpressionToFunction=function(a){this.argumentsMap=a};j["rg.info.filter.TransformerExpressionToFunction"]=
i.TransformerExpressionToFunction;i.TransformerExpressionToFunction.__name__=["rg","info","filter","TransformerExpressionToFunction"];i.TransformerExpressionToFunction.__interfaces__=[i.ITransformer];i.TransformerExpressionToFunction.extractValues=function(a,b){var c=a.length,e=new ea;e.set("ReportGrid",ReportGrid);e.set("format",ReportGrid.format);e.set("symbol",ReportGrid.symbol);e.set("humanize",ReportGrid.humanize);e.set("compare",ReportGrid.compare);e.set("Math",Math);e.set("null",null);e.set("true",
!0);for(e.set("false",!1);0<=--c;){var f=a[c];if(null==f)for(var f=0,h=l.fields(b[c]);f<h.length;){var m=h[f];++f;e.set(m,l.field(b[c],m))}else e.set(f,b[c])}return e};i.TransformerExpressionToFunction.prototype={transform:function(a){var b=this;if(I.__instanceof(a,String)&&i.TransformerExpressionToFunction.pattern.match(a)){var a=a.substr(a.indexOf("=")+1),c=(new hc).parseString(a);return i.TransformResult.Success(function(){i.TransformerExpressionToFunction.interp.variables=i.TransformerExpressionToFunction.extractValues(b.argumentsMap,
arguments);return i.TransformerExpressionToFunction.interp.execute(c)})}return l.isFunction(a)?i.TransformResult.Success(a):i.TransformResult.Failure(new Y.Message("not a function"))},argumentsMap:null,__class__:i.TransformerExpressionToFunction};i.ReturnMessageIfNot=function(){};j["rg.info.filter.ReturnMessageIfNot"]=i.ReturnMessageIfNot;i.ReturnMessageIfNot.__name__=["rg","info","filter","ReturnMessageIfNot"];i.ReturnMessageIfNot.isBool=function(a){return I.__instanceof(a,Ce)?null:"not a boolean"};
i.ReturnMessageIfNot.isString=function(a){return I.__instanceof(a,String)?null:"not a string"};i.ReturnMessageIfNot.isObject=function(a){return l.isObject(a)&&null==K.getClass(a)?null:"not an object"};i.ReturnMessageChainer=function(){};j["rg.info.filter.ReturnMessageChainer"]=i.ReturnMessageChainer;i.ReturnMessageChainer.__name__=["rg","info","filter","ReturnMessageChainer"];i.ReturnMessageChainer.make=function(a,b){return function(c){return a(c)?null:b}};i.ReturnMessageChainer.or=function(a,b){return function(c){var e=
a(c);return null==e?b(c):e}};i.ReturnMessageChainer.and=function(a,b){return function(c){return null==a(c)&&null==b(c)}};i.PairTransformer=function(a,b){this.names=a;this.valueTransformer=b};j["rg.info.filter.PairTransformer"]=i.PairTransformer;i.PairTransformer.__name__=["rg","info","filter","PairTransformer"];i.PairTransformer.__interfaces__=[i.ITransformer];i.PairTransformer.prototype={transform:function(a){a=this.valueTransformer.transform(a);switch(a[1]){case 0:var b=a[2];return i.TransformResult.Success(new i.Pairs(this.names,
this.names.map(function(){return b})));case 1:return i.TransformResult.Failure(a[2])}},valueTransformer:null,names:null,__class__:i.PairTransformer};i.Pairs=function(a,b){if(a.length!=b.length)throw new J.Error("names and values must have the same length",null,null,{fileName:"Pairs.hx",lineNumber:15,className:"rg.info.filter.Pairs",methodName:"new"});this.names=a;this.values=b};j["rg.info.filter.Pairs"]=i.Pairs;i.Pairs.__name__=["rg","info","filter","Pairs"];i.Pairs.prototype={iterator:function(){for(var a=
[],b=0,c=this.names.length;b<c;){var e=b++;a.push({name:this.names[e],value:this.values[e]})}return u.iter(a)},values:null,names:null,__class__:i.Pairs};i.TransformResult={__ename__:["rg","info","filter","TransformResult"],__constructs__:["Success","Failure"]};i.TransformResult.Success=function(a){a=["Success",0,a];a.__enum__=i.TransformResult;a.toString=v;return a};i.TransformResult.Failure=function(a){a=["Failure",1,a];a.__enum__=i.TransformResult;a.toString=v;return a};Tb=function(a,b){this.container=
a;this.serviceUrl=b;this.tokenId=Sd.getTokenId()};Sa=void 0;j["rg.interactive.RGDownloader"]=Tb;Tb.__name__=["rg","interactive","RGDownloader"];Tb.getClassName=function(a){a=a.attr("class").get();a=F.trim((new R("\\s+","g")).replace((new R("(^rg$|^rg\\s+|\\s+rg\\s+|\\s+rg$)","g")).replace(a," ")," "));return""==a?null:a};Tb.appendArgument=function(a,b,c){var e=0<=a.indexOf("?")?"&":"?";return a+e+b+"="+F.urlEncode(c)};Tb.prototype={complete:function(a,b,c){c=ja.Json.decode(c);if(null!=c.error)null!=
b&&b(c.error);else if(a(c))a=l.field(c.service,this.format),null!=this.tokenId&&(a=Tb.appendArgument(a,"tokenId",this.tokenId)),a=Tb.appendArgument(a,"forceDownload","true"),ma.window.location.href=a},config:function(){var a=this.container.select("svg"),b=a.attr("width").getFloat(),a=a.attr("height").getFloat(),b='"cache":"1d","duration":"1d","width":'+b+',"height":'+a+',"formats":["'+Tb.ALLOWED_FORMATS.join('","')+'"]';null!=this.tokenId&&(b+=',"params":{"tokenId":true}');return"{"+b+"}"},html:function(){var a=
this.findCssSources(),b=this.container.attr("class").get(),c=this.extractSvg(this.container.html().get());return'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\n<html xmlns="http://www.w3.org/1999/xhtml">\n<head>\n<title></title>\n'+(null==a?"":a.map(function(a){return'<link href="'+a+'" rel="stylesheet" type="text/css" />'}).join("\n"))+'\n</head>\n<body>\n<div class="'+(null==b?"rg":b+" rg")+'">'+c+"</div>\n</body>\n</html>"},
extractSvg:function(a){var b=new R("<svg",""),c=new R("</svg>","");b.match(a);a=b.matchedRight();c.match(a);return"<svg"+c.matchedLeft()+"</svg>"},findCssSources:function(){return U.selectAll("link").filterNode(function(a){return"stylesheet"==a.rel}).mapNode(function(a){return a.href})},download:function(a,b,c,e){if(!B.exists(Tb.ALLOWED_FORMATS,a))throw new J.Error("The download format '{0}' is not correct",[a],null,{fileName:"RGDownloader.hx",lineNumber:32,className:"rg.interactive.RGDownloader",
methodName:"download"});this.format=a;a=new Yc(this.url(a));a.setHeader("Accept","application/json");a.onError=null!=e?e:function(){};a.onData=function(a,b,c){return function(e){return a(b,c,e)}}(y(this,this.complete),c,e);a.setParameter("html",this.html());a.setParameter("config",this.config());a.request(!0)},url:function(a){return F.replace(this.serviceUrl,"{ext}",a)},tokenId:null,format:null,container:null,serviceUrl:null,__class__:Tb};Sa=function(a,b){this.container=a;this.serviceUrl=b;this.tokenId=
Sd.getTokenId()};j["rg.interactive.RGLegacyRenderer"]=Sa;Sa.__name__=["rg","interactive","RGLegacyRenderer"];Sa.getIframeDoc=function(a){for(var b=null,c=[function(){if(a.contentDocument)b=a.contentDocument},function(){if(a.contentWindow&&a.contentWindow.document)b=a.contentWindow.document},function(){if(null!=ma.window.frames[a.name])b=ma.window.frames[a.name].document}],e=0;e<c.length;){var f=c[e];++e;try{f()}catch(h){}if(null!=b)return b}return null};Sa.isIE7orBelow=function(){return document.all&&
!document.querySelector};Sa.removeFunctions=function(a){for(var b=0,c=l.fields(a);b<c.length;){var e=c[b];++b;var f=l.field(a,e);l.isFunction(f)?l.deleteField(a,e):l.isObject(a)&&null==K.getClass(a)&&Sa.removeFunctions(f)}};Sa.removeEmpties=function(a){for(var b=0,c=l.fields(a);b<c.length;){var e=c[b];++b;var f=l.field(a,e);l.isObject(f)&&null==K.getClass(f)?(Sa.removeEmpties(f),0==l.fields(f).length&&l.deleteField(a,e)):null==f&&l.deleteField(a,e)}};Sa.prototype={config:function(a){return"{"+('"cache":"1d","duration":"1d","width":'+
a.width+',"height":'+a.height+',"formats":["'+Sa.FORMAT+'"]')+"}"},html:function(a,b,c){var b=ja.Json.encode(b),e=this.findJsSources(),f=this.findCssSources(),h=this.container.attr("class").get();return"<!DOCTYPE html>\n<html>\n<head>\n<title></title>\n"+(null==e?"":e.map(function(a){return'<script src="'+a+'" type="text/javascript"><\/script>'}).join("\n"))+(null==f?"":f.map(function(a){return'<link href="'+a+'" rel="stylesheet" type="text/css" />'}).join("\n"))+'\n<script type="text/javascript">\nfunction __RG__render()\n{\nReportGrid.chart("#'+
a+'", '+b+');\n}\n<\/script>\n</head>\n<body onload="__RG__render()">\n<div id="'+a+'" class="'+(null==h?"rg":h+" rg")+'" style="margin:0;width:'+c.width+"px;height:"+c.height+'px;"></div>\n</body>\n</html>'},findCssSources:function(){return U.selectAll("link").filterNode(function(a){return"stylesheet"==a.rel}).mapNode(function(a){return a.href})},findJsSources:function(){var a=new R("reportgrid-[^.]+\\.js","");return U.selectAll("script").filterNode(function(b){return a.match(b.src)}).mapNode(function(a){return a.src})},
normalizeParams:function(a){if(null==a.options)a.options={};var b=Kb.size(this.container,a.options,0);a.options.width=b.width;a.options.height=b.height;Sa.removeFunctions(a.options);Sa.removeEmpties(a);l.deleteField(a,"load");l.deleteField(a.options,"download");a.options.forcelegacy=!1;return b},writeToIframe:function(a,b){var c=Sa.getIframeDoc(a);null!=c&&(c.open(),c.write('<html><head><title></title></head><body style="visibility:hidden;border:none" scroll="no">'+b+"</body></html>"),c.close())},
createIframe:function(a,b){var c="rgiframe"+ ++Sa.nextframeid;return this.container.append("iframe").attr("name").string(c).attr("id").string(c).attr("frameBorder").string("0").attr("scrolling").string("no").attr("width").string(a+"").attr("height").string(b+"").attr("marginwidth").string("0").attr("marginheight").string("0").attr("hspace").string("0").attr("vspace").string("0").attr("style").string("width:100%; border:0; height:100%; overflow:hidden;").attr("src").string(Sa.isIE7orBelow()?'javascript:\'<script>window.onload=function(){document.body.scroll="no";document.body.style.overflow="hidden";document.write(\\\'<script>document.domain=\\\\"'+
ma.document.domain+"\\\\\";<\\\\\\\\/script>\\');document.close();};<\\/script>'":"about:blank")},display:function(a){var b=this,c=this.normalizeParams(a),e=this.container.attr("id").get(),f=this.createIframe(c.width,c.height);null==e&&(e="rgchart");var h=this.url(),a=this.html(e,a,c),c=this.config(c),g='<form method="post" action="'+h+'" name="VIZ"><textarea name="html" style="width:40em;height:50%">'+a+'</textarea><textarea name="config" style="width:40em;height:50%">'+c+'</textarea><script type="text/javascript">\nsetTimeout(function() { document.VIZ.submit(); }, 200);\n<\/script>\n</form>';
Wb.delay(function(){b.writeToIframe(f.node(),g);null!=b.readyHandler&&b.readyHandler()},100);if(Sa.isIE7orBelow()){var i=f.node();i.attachEvent("onload",function(){var a=Sa.getIframeDoc(i);if(null!=a)a.body.scroll="no",a.body.style.overflow="hidden",a.body.frameBorder="0",a.body.style.border=0,a.body.style.margin=0,a.body.style.padding=0})}},onReady:function(a){this.readyHandler=a},readyHandler:null,url:function(){return F.replace(this.serviceUrl,"{ext}",Sa.FORMAT)},tokenId:null,container:null,serviceUrl:null,
__class__:Sa};Fa={__ename__:["rg","layout","Anchor"],__constructs__:["Top","Bottom","Left","Right"]};eb=void 0;Ra=void 0;fb=void 0;vb=void 0;ad=void 0;$b=void 0;Fa.Top=["Top",0];Fa.Top.toString=v;Fa.Top.__enum__=Fa;Fa.Bottom=["Bottom",1];Fa.Bottom.toString=v;Fa.Bottom.__enum__=Fa;Fa.Left=["Left",2];Fa.Left.toString=v;Fa.Left.__enum__=Fa;Fa.Right=["Right",3];Fa.Right.toString=v;Fa.Right.__enum__=Fa;Ra=function(a,b,c){this.container=c;c.classed().add("rg");this.space=new X.Space(this.width=a,this.height=
b,c.append("div"))};j["rg.layout.Layout"]=Ra;Ra.__name__=["rg","layout","Layout"];Ra.prototype={adjustPadding:function(){},feedOptions:function(a){this.mainPanelName=a.main;this.paddings=a.padding},paddings:null,suggestPanelPadding:function(a,b,c){if(null!=a&&(a=cb.as(a.frame,pb),null!=a)){var e=a.disposition;switch(e[1]){case 0:var f=e[3],h=e[2];a.set_disposition(ia.Fill(null==b?h:b,null==c?f:c,e[4],e[5]));break;case 1:f=e[3];h=e[2];a.set_disposition(ia.FillPercent(null==b?h:b,null==c?f:c,e[4],e[5],
e[6]));break;case 2:f=e[3];h=e[2];a.set_disposition(ia.FillRatio(null==b?h:b,null==c?f:c,e[4]));break;case 3:f=e[3],h=e[2],a.set_disposition(ia.Fixed(null==b?h:b,null==c?f:c,e[4]))}}},suggestPanelSize:function(a,b){var c=cb.as(a.frame,pb);if(null!=c){var e=c.disposition;switch(e[1]){case 3:c.set_disposition(ia.Fixed(e[2],e[3],b))}}},destroy:function(){this.container.selectAll("*").remove()},suggestSize:function(a,b){var c=this.getPanel(a);null!=c&&this.suggestPanelSize(c,b)},getPanel:function(){return null},
getContext:function(){return null},container:null,space:null,height:null,width:null,mainPanelName:null,__class__:Ra};fb=function(a,b,c){Ra.call(this,a,b,c);this.titleOnTop=!0;this.right=!1;this.alternating=!0;this.yitems=[]};j["rg.layout.LayoutCartesian"]=fb;fb.__name__=["rg","layout","LayoutCartesian"];fb.__super__=Ra;fb.prototype=H(Ra.prototype,{adjustPadding:function(){var a=null==this.title&&null==this.paddings.top?8:this.paddings.top,b=(null==this.xtickmarks||!this.titleOnTop&&null==this.title)&&
null==this.paddings.bottom?8:this.paddings.bottom,c=null==this.leftcontainer&&null==this.paddings.left?20:this.paddings.left,e=null==this.rightcontainer&&null==this.paddings.right?20:this.paddings.right;if(null!=c||null!=e)this.suggestPanelPadding(this.getMain(),c,e),this.suggestPanelPadding(this.bottommiddlecontainer,c,e);(null!=a||null!=b)&&this.suggestPanelPadding(this.middlecontainer,a,b)},feedOptions:function(a){Ra.prototype.feedOptions.call(this,a);this.titleOnTop=a.titleOnTop;switch(a.scalePattern[1]){case 0:this.alternating=
this.right=!1;break;case 1:this.right=!0;this.alternating=!1;break;case 2:this.right=!1,this.alternating=!0}},getMain:function(){if(null==this.main)this.main=this.getMiddleContainer().createPanelAt(1,ia.Fill(0,0));return this.main},getXTickmarks:function(){if(null==this.xtickmarks){var a=this.getBottomMiddleContainer();this.xtickmarks=new vb(a.createPanelAt(0,ia.Fixed(0,0,0)),Fa.Top)}return this.xtickmarks},getBottomMiddleContainer:function(){if(null==this.bottommiddlecontainer){var a=this.getBottomContainer();
this.bottomleft=a.createPanel(ia.Fixed(0,0,0));this.bottommiddlecontainer=a.createContainer(ia.Fill(0,0),Qa.Vertical);this.bottommiddlecontainer.g.classed().add("axis-x");this.bottomright=a.createPanel(ia.Fixed(0,0,0))}return this.bottommiddlecontainer},getBottomContainer:function(){if(null==this.bottomcontainer)this.bottomcontainer=this.getMainContainer().createContainerAt(1,ia.Fixed(0,0,0),Qa.Horizontal);return this.bottomcontainer},getRightContainer:function(){if(null==this.rightcontainer)this.getMain(),
this.rightcontainer=this.getMiddleContainer().createContainer(ia.Fixed(0,0,0),Qa.Horizontal);return this.rightcontainer},getLeftContainer:function(){if(null==this.leftcontainer)this.leftcontainer=this.getMiddleContainer().createContainerAt(0,ia.Fixed(0,0,0),Qa.Horizontal);return this.leftcontainer},getMiddleContainer:function(){if(null==this.middlecontainer)this.middlecontainer=this.getMainContainer().createContainerAt(0,ia.Fill(0,0),Qa.Horizontal);return this.middlecontainer},getMainContainer:function(){if(null==
this.maincontainer)this.maincontainer=this.space.createContainerAt(this.titleOnTop?1:0,ia.Fill(0,0),Qa.Vertical);return this.maincontainer},getXTitle:function(){if(null==this.xtitle)this.xtitle=new vb(this.getBottomMiddleContainer().createPanel(ia.Fixed(0,0,0)),Fa.Top);return this.xtitle},suggestLateralSize:function(a){for(var b=0,c=0,e=0,f=this.yitems;e<f.length;){var h=f[e];++e;c++;null!=h.container&&K.enumEq(h.anchor,a)&&(b+=h.container.frame.width)}switch(a[1]){case 3:this.suggestSize("left",
b);this.suggestSize("bottomleft",b);break;case 2:this.suggestSize("right",b),this.suggestSize("bottomright",b)}},suggestSize:function(a,b){if(this.isY(a)||this.isYTitle(a)){var c=this.getYItem(this.getYIndex(a));if(null!=c.container){var e=0;null!=c.context&&(this.isY(a)&&this.suggestPanelSize(c.context.panel,b),e+=c.context.panel.frame.width);null!=c.title&&(this.isYTitle(a)&&this.suggestPanelSize(c.title.panel,b),e+=c.title.panel.frame.width);this.suggestPanelSize(c.container,Math.round(e));this.suggestLateralSize(c.anchor)}}else switch(Ra.prototype.suggestSize.call(this,
a,b),a){case "x":c=0;e=this.getPanel("x");null!=e&&(c+=e.frame.height);e=this.getPanel("xtitle");null!=e&&(c+=e.frame.height);Ra.prototype.suggestSize.call(this,"xtickmarks",c);break;case "xtitle":c=0,e=this.getPanel("x"),null!=e&&(c+=e.frame.height),e=this.getPanel("xtitle"),null!=e&&(c+=e.frame.height),Ra.prototype.suggestSize.call(this,"xtickmarks",c)}},isYTitle:function(a){return fb.REYTITLE.match(a)},isY:function(a){return fb.REYAXIS.match(a)},getYIndex:function(a){return fb.REYINDEX.match(a)?
n.parseInt(fb.REYINDEX.matched(1)):-1},getYTitle:function(a){var b=this.getYItem(a);if(null==b.title){switch(b.anchor[1]){case 2:a=this.getYContainer(a).createPanel(ia.Fixed(0,0,0));break;case 3:a=this.getYContainer(a).createPanelAt(0,ia.Fixed(0,0,0));break;default:a=null}b.title=new vb(a,b.anchor)}return b.title},getYContext:function(a){var b=this.getYItem(a);if(null==b.context){switch(b.anchor[1]){case 2:a=this.getYContainer(a).createPanelAt(0,ia.Fixed(0,0,0));break;case 3:a=this.getYContainer(a).createPanel(ia.Fixed(0,
0,0));break;default:a=null}b.context=new vb(a,b.anchor)}return b.context},getYContainer:function(a){var b=this.getYItem(a);if(null==b.container)b.container=this.right||this.alternating&&0!=a%2?this.getRightContainer().createContainer(ia.Fixed(0,0,0),Qa.Horizontal):this.getLeftContainer().createContainerAt(0,ia.Fixed(0,0,0),Qa.Horizontal),b.container.g.classed().add("group-"+a);return b.container},getYItem:function(a){null==this.yitems[a]&&(this.yitems[a]={container:null,context:null,title:null,anchor:this.right||
this.alternating&&0!=a%2?Fa.Left:Fa.Right});return this.yitems[a]},getPanel:function(a){switch(a){case "main":return this.getMain();case "xtickmarks":return this.getBottomContainer();case "left":return this.getLeftContainer();case "right":return this.getRightContainer();case "bottomleft":return this.bottomleft;case "bottomright":return this.bottomright;default:return a=this.getContext(a),null==a?null:a.panel}},getContext:function(a){if(this.isY(a))return this.getYContext(this.getYIndex(a));if(this.isYTitle(a))return this.getYTitle(this.getYIndex(a));
switch(a){case "title":if(null==this.title)this.title=new vb(this.space.createPanelAt(this.titleOnTop?0:1,ia.Fixed(0,0,0)),this.titleOnTop?Fa.Bottom:Fa.Top);return this.title;case "x":return this.getXTickmarks();case "xtitle":return this.getXTitle();default:return null}},xtitle:null,yitems:null,alternating:null,right:null,title:null,xtickmarks:null,bottomright:null,bottomleft:null,middlecontainer:null,maincontainer:null,bottommiddlecontainer:null,bottomcontainer:null,rightcontainer:null,leftcontainer:null,
titleOnTop:null,main:null,__class__:fb});ad=function(a,b,c){Ra.call(this,a,b,c);this.titleOnTop=!0};j["rg.layout.LayoutSimple"]=ad;ad.__name__=["rg","layout","LayoutSimple"];ad.__super__=Ra;ad.prototype=H(Ra.prototype,{feedOptions:function(a){Ra.prototype.feedOptions.call(this,a);this.titleOnTop=a.titleOnTop},getTitle:function(){if(null==this.title)this.title=new vb(this.space.createPanelAt(this.titleOnTop?0:1,ia.Fixed(0,0,20)),this.titleOnTop?Fa.Bottom:Fa.Top);return this.title},title:null,getPanel:function(a){switch(a){case "main":if(null==
this.main)this.main=this.space.createPanelAt(this.titleOnTop?1:0,ia.Fill(0,0));return this.main;case "title":return this.getTitle().panel;default:return null}},getContext:function(a){switch(a){case "title":return null!=this.title?null:this.getTitle();default:return null}},titleOnTop:null,main:null,__class__:ad});$b=function(a,b,c){Ra.call(this,a,b,c);this.titleOnTop=!0};j["rg.layout.LayoutX"]=$b;$b.__name__=["rg","layout","LayoutX"];$b.__super__=Ra;$b.prototype=H(Ra.prototype,{adjustPadding:function(){var a=
null==this.title&&null==this.paddings.top?8:this.paddings.top,b=(null==this.xtickmarks||!this.titleOnTop&&null==this.title)&&null==this.paddings.bottom?8:this.paddings.bottom,c=null==this.paddings.left?20:this.paddings.left,e=null==this.paddings.right?20:this.paddings.right;if(null!=c||null!=e)this.suggestPanelPadding(this.getMain(),c,e),this.suggestPanelPadding(this.bottommiddlecontainer,c,e);(null!=a||null!=b)&&this.suggestPanelPadding(this.middlecontainer,a,b)},feedOptions:function(a){Ra.prototype.feedOptions.call(this,
a);this.titleOnTop=a.titleOnTop},getMain:function(){if(null==this.main)this.main=this.getMiddleContainer().createPanelAt(1,ia.Fill(0,0));return this.main},getXTickmarks:function(){if(null==this.xtickmarks){var a=this.getBottomMiddleContainer();this.xtickmarks=new vb(a.createPanelAt(0,ia.Fixed(0,0,0)),Fa.Top)}return this.xtickmarks},getBottomMiddleContainer:function(){if(null==this.bottommiddlecontainer)this.bottommiddlecontainer=this.getBottomContainer().createContainer(ia.Fill(0,0),Qa.Vertical),
this.bottommiddlecontainer.g.classed().add("axis-x");return this.bottommiddlecontainer},getBottomContainer:function(){if(null==this.bottomcontainer)this.bottomcontainer=this.getMainContainer().createContainerAt(1,ia.Fixed(0,0,0),Qa.Horizontal);return this.bottomcontainer},getMiddleContainer:function(){if(null==this.middlecontainer)this.middlecontainer=this.getMainContainer().createContainerAt(0,ia.Fill(0,0),Qa.Horizontal);return this.middlecontainer},getMainContainer:function(){if(null==this.maincontainer)this.maincontainer=
this.space.createContainerAt(this.titleOnTop?1:0,ia.Fill(0,0),Qa.Vertical);return this.maincontainer},getXTitle:function(){if(null==this.xtitle)this.xtitle=new vb(this.getBottomMiddleContainer().createPanel(ia.Fixed(0,0,0)),Fa.Top);return this.xtitle},suggestSize:function(a,b){Ra.prototype.suggestSize.call(this,a,b);switch(a){case "x":var c=0,e=this.getPanel("x");null!=e&&(c+=e.frame.height);e=this.getPanel("xtitle");null!=e&&(c+=e.frame.height);Ra.prototype.suggestSize.call(this,"xtickmarks",c);
break;case "xtitle":c=0,e=this.getPanel("x"),null!=e&&(c+=e.frame.height),e=this.getPanel("xtitle"),null!=e&&(c+=e.frame.height),Ra.prototype.suggestSize.call(this,"xtickmarks",c)}},getPanel:function(a){switch(a){case "main":return this.getMain();case "xtickmarks":return this.getBottomContainer();default:return a=this.getContext(a),null==a?null:a.panel}},getContext:function(a){switch(a){case "title":if(null==this.title)this.title=new vb(this.space.createPanelAt(this.titleOnTop?0:1,ia.Fixed(0,0,0)),
this.titleOnTop?Fa.Bottom:Fa.Top);return this.title;case "x":return this.getXTickmarks();case "xtitle":return this.getXTitle();default:return null}},xtitle:null,title:null,xtickmarks:null,middlecontainer:null,maincontainer:null,bottommiddlecontainer:null,bottomcontainer:null,titleOnTop:null,main:null,__class__:$b});vb=function(a,b){this.panel=a;this.anchor=b};j["rg.layout.PanelContext"]=vb;vb.__name__=["rg","layout","PanelContext"];vb.prototype={anchor:null,panel:null,__class__:vb};eb={__ename__:["rg",
"layout","ScalePattern"],__constructs__:["ScalesBefore","ScalesAfter","ScalesAlternating"],ScalesBefore:["ScalesBefore",0]};eb.ScalesBefore.toString=v;eb.ScalesBefore.__enum__=eb;eb.ScalesAfter=["ScalesAfter",1];eb.ScalesAfter.toString=v;eb.ScalesAfter.__enum__=eb;eb.ScalesAlternating=["ScalesAlternating",2];eb.ScalesAlternating.toString=v;eb.ScalesAlternating.__enum__=eb;db=function(a,b){this._async=a;this._first=b;this._store=new ea};Jb=void 0;ta=void 0;j["rg.query.BaseQuery"]=db;db.__name__=["rg",
"query","BaseQuery"];db.asyncTransform=function(a){return function(b,c){for(var e=0,f=b.length;e<f;){var h=e++;b[h]=a(b[h])}c(b)}};db.stackAsyncTransform=function(a){return function(b,c){c(a(b))}};db.prototype={_this:function(a){return a},toString:function(){return K.getClassName(K.getClass(this)).split(".").pop()+(" [next: "+n.string(null!=this._next)+", async: "+n.string(null!=this._async)+"]")},_createQuery:function(a,b){return new db(a,b)},_query:function(a){return a},execute:function(a){this._first.execute(a)},
stackClear:function(){return this.stackTransform(function(){return[]})},stackRetrieve:function(a){var b=this;null==a&&(a="");return this.stackTransform(function(c){return c.concat(b._first._store.get(a))})},stackSortValue:function(a,b){null==b&&(b=!0);var c=function(b){return b.reduce(function(b,c){return b+l.field(c,a)},0)};return this.stackSort(function(a,f){return(b?1:-1)*(c(a)-c(f))})},stackSort:function(a){return this.stackTransform(function(b){b.sort(a);return b})},stackStore:function(a){var b=
this;null==a&&(a="");return this.stackTransform(function(c){b._first._store.set(a,c.slice());return c})},stackReverse:function(){return this.stackAsync(db.stackAsyncTransform(function(a){a.reverse();return a}))},stackRotate:function(a){var b=ta.rotate(a);return this.stackAsync(db.stackAsyncTransform(function(a){return b(a)}))},split:function(a){if(I.__instanceof(a,String))var b=a,a=function(a){return l.field(a,b)};return this.stackAsync(db.stackAsyncTransform(function(b){for(var e=[],f=0;f<b.length;){var h=
b[f];++f;e=e.concat(ta.split(h,a))}return e}))},stackKeep:function(a){null==a&&(a=1);return this.stackAsync(db.stackAsyncTransform(function(b){return b.slice(0,a)}))},stackDiscard:function(a){null==a&&(a=1);return this.stackAsync(db.stackAsyncTransform(function(b){for(var c=0;c<a;)c++,b.pop();return b}))},stackMerge:function(){return this.stackAsync(db.stackAsyncTransform(function(a){return[B.flatten(a)]}))},fold:function(a,b){return this.transform(function(c){var e=[],f=l.isFunction(a)?a(c,e):a;
c.forEach(function(a){f=b(f,a,e)});return e})},unique:function(a){if(null==a)a=fa.same;return this.transform(ta.uniquef(a))},reverse:function(){return this.transform(ta.reverse)},limit:function(a,b){null==b&&(b=a,a=0);return this.transform(ta.limit(a,b))},sortValues:function(a){for(var b=[],c=[],e=0,f=l.fields(a);e<f.length;){var h=f[e];++e;b.push(h);c.push(!1!=l.field(a,h))}return this.sort(function(a,e){for(var f,h=0,g=b.length;h<g;){var i=h++;f=b[i];f=(c[i]?1:-1)*fa.compare(l.field(a,f),l.field(e,
f));if(0!=f)return f}return 0})},sortValue:function(a,b){var c={};c[a]=null==b?!0:b;return this.sortValues(c)},sort:function(a){return this.transform(ta.sort(a))},filterValue:function(a,b){return this.transform(ta.filterValue(a,b))},filterValues:function(a){return this.transform(ta.filterValues(a))},filter:function(a){return this.transform(ta.filter(a))},addIndex:function(a,b){null==a&&(a="index");null==b&&(b=0);return this.fold(function(){return b},function(b,e,f){e[a]=b;f.push(e);return++b})},mapValues:function(a){return this.transform(ta.mapFields(a))},
mapValue:function(a,b){return this.transform(ta.mapField(a,b))},setValues:function(a){return this.transform(ta.setFields(a))},setValue:function(a,b){return this.transform(ta.setField(a,b))},asyncEach:function(a){return this.asyncAll(function(b,c){for(var e=b.length,f=0,h=[],g=function(a,b){h[a]=b;++f==e&&c(B.flatten(h))},i=0,j=b.length;i<j;){var k=i++;a(b[k],function(a,b){return function(c){return a(b,c)}}(g,k))}})},asyncAll:function(a){return this.stackAsync(function(b,c){for(var e=b.length,f=0,
h=[],g=function(a,b){h[a]=b;++f==e&&c(h)},i=0,j=b.length;i<j;){var k=i++;a(b[k],function(a,b){return function(c){return a(b,c)}}(g,k))}})},stackAsync:function(a){return this._next=a=this._createQuery(a,this._first)},stackTransform:function(a){return this.stackAsync(db.stackAsyncTransform(a))},stackCross:function(){return this.stackTransform(ta.crossStack)},firstElement:function(){return this.transform(function(a){return a[0]})},transform:function(a){return this.stackAsync(db.asyncTransform(a))},toObject:function(a){return this.transform(ta.toObject(a))},
renameFields:function(a){var b=l.fields(a).map(function(b){return{src:b,dst:l.field(a,b)}});return this.map(function(a){for(var e={},f=0;f<b.length;){var h=b[f];++f;l.setField(e,h.dst,l.field(a,h.src))}return e})},console:function(a){return this.stackTransform(function(b){var c=console;null!=c&&c.log((null==a?"":a+": ")+fa.string(b));return b})},audit:function(a){return this.transform(function(b){a(b);return b})},map:function(a){return this.transform(ta.map(a))},data:function(a){I.__instanceof(a,
Array)||(a=[a]);return this.stackAsync(function(b,c){b.push(a);c(b)})},request:function(a,b){if(null==b)b={type:"application/json",useJsonp:!1};else{if(null==b.type)b.type="application/json";if(null==b.useJsonp)b.useJsonp=!1}var c=null;switch(b.type.toLowerCase()){case "json":switch(b.useJsonp){case !0:c=function(a){return a};break;case !1:c=function(a){return ja.Json.decode(a)}}break;case "application/json":switch(b.useJsonp){case !0:c=function(a){return a};break;case !1:c=function(a){return ja.Json.decode(a)}}break;
case "csv":c=function(a){return Ua.Csv.decode(a)};break;case "text/csv":c=function(a){return Ua.Csv.decode(a)};break;default:throw'invalid type format "'+b.type+'"';}var e=function(a,b){return function(e){a.push(c(e));b(a)}};return this.stackAsync(!0==b.useJsonp?function(b,c){xb.get(a,e(b,c),function(){},{},{})}:function(b,c){var g=new Yc(a);g.async=!0;g.onData=e(b,c);g.request(!1)})},load:function(a){return this.stackAsync(function(b,c){a(function(a){b.push(a);c(b)})})},_store:null,_async:null,_next:null,
_first:null,__class__:db};Jb=function(){db.call(this,null,this)};j["rg.query.Query"]=Jb;Jb.__name__=["rg","query","Query"];Jb.create=function(){var a=new Jb,b=a._createQuery(function(a,b){b(a)},a);return a._next=b};Jb.executeHandler=function(a,b){var c=a._next;(function(){var a=null;return a=function(f){null==c._next?b(B.flatten(f)):(c=c._next,c._async(f,a))}})(this)([])};Jb.__super__=db;Jb.prototype=H(db.prototype,{execute:function(a){Jb.executeHandler(this,a)},__class__:Jb});ta=function(){};j["rg.query.Transformers"]=
ta;ta.__name__=["rg","query","Transformers"];ta.crossStack=function(a){if(1>=a.length)return a;for(var b=a.shift();0<a.length;){for(var c=a.shift(),e=[],f=0;f<b.length;){var h=b[f];++f;for(var g=0;g<c.length;){var i=c[g];++g;e.push(ga.copyTo(i,ga.copyTo(h,{})))}}b=e}return[b]};ta.split=function(a,b){var c=new ea,e=[];a.forEach(function(a){var h=""+b(a),g=c.get(h);if(null==g)g=e.length,c.set(h,g),e.push([]);e[g].push(a)});return e};ta.map=function(a){return function(b){return b.map(a)}};ta.toObject=
function(a){return function(b){return b.map(function(b){var e={};e[a]=b;return e})}};ta.filter=function(a){return function(b){return B.filter(b,a)}};ta.filterValues=function(a){var b=ga.entries(a);b.forEach(function(a){if(!l.isFunction(a.value)){var b=a.value;a.value=function(a){return a==b}}});var c=function(a){for(var c=0;c<b.length;){var h=b[c];++c;if(!h.value(l.field(a,h.key)))return!1}return!0};return function(a){return B.filter(a,c)}};ta.filterValue=function(a,b){if(!l.isFunction(b))var c=b,
b=function(a){return a==c};var e=function(c){return!b(l.field(c,a))?!1:!0};return function(a){return B.filter(a,e)}};ta.setField=function(a,b){if(!l.isFunction(b))var c=b,b=function(){return c};return function(c){c.forEach(function(c){c[a]=b(c)});return c}};ta.mapField=function(a,b){if(!l.isFunction(b))var c=b,b=function(){return c};return function(c){c.forEach(function(c){c[a]=b(l.field(c,a))});return c}};ta.setFields=function(a){for(var b=l.fields(a),c=[],e=0;e<b.length;){var f=b[e];++e;f=l.field(a,
f);l.isFunction(f)?c.push(f):c.push(function(a,b){return function(c){return a(b,c)}}(function(a){return a},f))}return function(a){a.forEach(function(a){for(var e=0,f=b.length;e<f;){var h=e++;a[b[h]]=c[h](a)}});return a}};ta.mapFields=function(a){for(var b=l.fields(a),c=[],e=0;e<b.length;){var f=b[e];++e;f=l.field(a,f);l.isFunction(f)?c.push(f):c.push(function(a,b){return function(c){return a(b,c)}}(function(a){return a},f))}return function(a){a.forEach(function(a){for(var e=0,f=b.length;e<f;){var h=
e++;a[b[h]]=c[h](l.field(a,b[h]))}});return a}};ta.sort=function(a){return function(b){b.sort(null==a?fa.compare:a);return b}};ta.limit=function(a,b){return function(c){return a>=c.length?[]:c.slice(a,a+b>c.length?c.length:a+b)}};ta.reverse=function(a){a.reverse();return a};ta.uniquef=function(a){return function(b){for(var c=0,e;c<b.length-1;){var f=b[c];for(e=b.length-1;e>c;)a(f,b[e])&&b.splice(e,1),e--;c++}return b}};ta.rotate=function(a){if(I.__instanceof(a,String))var b=a,a=function(a,c){return l.field(a,
b)==l.field(c,b)};var c=null==a?function(a,b,c,g){return c==g}:function(b,c){return a(b,c)};return function(a){for(var b=[],h=a[0],g=0,i=h.length;g<i;){for(var j=g++,k=h[j],w=[k],l=1,n=a.length;l<n;)for(var o=l++,o=a[o],p=0,q=o.length;p<q;){var r=p++,s=o[r];if(c(k,s,j,r)){w.push(s);break}}b.push(w)}return b}};X={};V=void 0;s=void 0;p=void 0;Ka=void 0;X.Layer=function(a){this.frame=(this.panel=a).frame;a.addLayer(this);this.g=a.g.append("svg:g");this.g.attr("class").string("layer");this._resize()};
j["rg.svg.panel.Layer"]=X.Layer;X.Layer.__name__=["rg","svg","panel","Layer"];X.Layer.prototype={set_customClass:function(a){null!=this.customClass&&this.g.classed().remove(this.customClass);this.g.classed().add(a);return this.customClass=a},destroy:function(){this.panel.removeLayer(this);this.g.remove()},resize:function(){},_resize:function(){this.width=this.frame.width;this.height=this.frame.height;this.resize()},toggleClass:function(a){this.g.classed().toggle(a)},removeClass:function(a){this.g.classed().remove(a)},
addClass:function(a){var b=this;a.split(" ").forEach(function(a){b.g.classed().add(a)})},customClass:null,height:null,width:null,g:null,frame:null,panel:null,__class__:X.Layer,__properties__:{set_customClass:"set_customClass"}};s={Chart:function(a){X.Layer.call(this,a);this.animated=!0;this.animationDuration=1500;this.animationEase=C.Equations.linear;this.ready=new sc}};j["rg.svg.chart.Chart"]=s.Chart;s.Chart.__name__=["rg","svg","chart","Chart"];s.Chart.__super__=X.Layer;s.Chart.prototype=H(X.Layer.prototype,
{moveTooltip:function(a,b,c){var e=X.Panels.absolutePos(this.panel);this.panelx=e.x;this.panely=e.y;this.tooltip.setAnchorColor(c);this.tooltip.showAt(this.panelx+a|0,this.panely+b|0)},init:function(){if(null!=this.labelDataPointOver)this.tooltip=L.Tooltip.get_instance();this.resize()},resize:function(){var a=X.Panels.absolutePos(this.panel);this.panelx=a.x;this.panely=a.y},tooltip:null,panely:null,panelx:null,ready:null,labelDataPointOver:null,labelDataPoint:null,click:null,animationEase:null,animationDuration:null,
animated:null,__class__:s.Chart});s.CartesianChart=function(a){s.Chart.call(this,a)};j["rg.svg.chart.CartesianChart"]=s.CartesianChart;s.CartesianChart.__name__=["rg","svg","chart","CartesianChart"];s.CartesianChart.__super__=s.Chart;s.CartesianChart.prototype=H(s.Chart.prototype,{data:function(){throw new J.AbstractMethod({fileName:"CartesianChart.hx",lineNumber:36,className:"rg.svg.chart.CartesianChart",methodName:"data"});},setVariables:function(a){this.xVariable=a[0];this.yVariables=a.slice(1)},
xVariable:null,yVariables:null,__class__:s.CartesianChart});s.BarChart=function(a){s.CartesianChart.call(this,a);this.addClass("bar-chart");this.defs=this.g.append("svg:defs");this.chart=this.g.append("svg:g");this.gradientLightness=2;this.displayGradient=!0;this.padding=10;this.paddingAxis=4;this.paddingDataPoint=2;this.horizontal=!1;this.segmentProperty=this.startat=null};j["rg.svg.chart.BarChart"]=s.BarChart;s.BarChart.__name__=["rg","svg","chart","BarChart"];s.BarChart.__super__=s.CartesianChart;
s.BarChart.prototype=H(s.CartesianChart.prototype,{applyGradient:function(a){var b=U.selectNodeData(a);l.field(a,"__dhx_data__");var a=b.style("fill").get(),a=aa.parse(a,"#ccc"),c="rg_bar_gradient_"+a.hex("");if(this.defs.select("#"+c).empty()){var e=aa.applyLightness(g.Hsl.toHsl(a),this.gradientLightness).toRgbString(),f=this.defs.append("svg:linearGradient").attr("gradientUnits").string("objectBoundingBox").attr("id").string(c).attr("x1")["float"](0).attr("x2")["float"](0).attr("y1")["float"](1).attr("y2")["float"](0).attr("spreadMethod").string("pad");
f.append("svg:stop").attr("offset")["float"](0).attr("stop-color").string(e).attr("stop-opacity")["float"](1);f.append("svg:stop").attr("offset")["float"](1).attr("stop-color").string(a.toRgbString()).attr("stop-opacity")["float"](1)}b.attr("style").string("fill:url(#"+c+")")},onmouseover:function(a,b){var c=this.labelDataPointOver(l.field(b,"__dhx_data__"),a);if(null==c)this.tooltip.hide();else{var e=U.selectNode(b),f=e.attr("x").getFloat(),h=e.attr("y").getFloat(),e=e.attr("width").getFloat();this.tooltip.html(c.split("\n").join("<br>"));
this.moveTooltip(f+e/2,h,aa.extractColor(b))}},onclick:function(a,b){this.click(b,a)},datav:function(a,b){for(var c=new ea,e=(this.width-this.padding*(a.length-1))/a.length,f=function(a,b){var e=c.get(a);null==e&&(e=b.append("svg:g").attr("class").string(a),c.set(a,e));return e},h=0,g=a.length;h<g;)for(var i=h++,i=a[i],j=(e-this.paddingAxis*(i.length-1))/i.length,k=0,w=i.length;k<w;)for(var n=k++,o=i[n],p=f("group-"+n,this.chart),r=this.xVariable.type,q=this.xVariable.axis,s=this.xVariable.min(),
t=this.xVariable.max(),u=this.yVariables[n].type,tc=this.yVariables[n].axis,ye=this.yVariables[n].min(),v=this.yVariables[n].max(),x=Math.max(1,(j-this.paddingDataPoint*(o.length-1))/o.length),z=-e/2+n*(j+this.paddingAxis),De=this.yVariables[n].stats,n=function(a,b){return function(c,e){return a(b,c,e)}}(y(this,this.onmouseover),De),De=function(a,b){return function(c,e,f){return a(b,c,e,f)}}(y(this,this.onclick),De),C=0,D=0,F=o.length;D<F;){var E=D++,H=o[E],I=f("fill-"+(null==this.segmentProperty?
E:B.indexOf(b,l.field(H,this.segmentProperty))),p),K=this.width*q.scale(s,t,l.field(H,r)),J=null==this.startat?C:tc.scale(ye,v,l.field(H,this.startat))*this.height,G=tc.scale(ye,v,l.field(H,u))*this.height-(null==this.startat?0:J);if(!Math.isNaN(J))0>G?(J+=G,G=-G):Math.isNaN(G)&&(G=0),E=I.append("svg:rect").attr("class").string("bar").attr("x")["float"](this.stacked?K+z:K+z+E*(x+this.paddingDataPoint)).attr("width")["float"](Math.max(this.stacked?j:x,1)).attr("y")["float"](this.height-G-J).attr("height")["float"](G).onNode("mouseover",
n).onNode("click",function(a,b){return function(c,e){return a(b,c,e)}}(De,H)),E.node().__dhx_data__=H,aa.storeColorForSelection(E),this.displayGradient&&E.eachNode(y(this,this.applyGradient)),this.visuallyStacked()&&(C=J+G)}this.ready.dispatch()},datah:function(a,b){for(var c=new ea,e=(this.height-this.padding*(a.length-1))/a.length,f=function(a,b){var e=c.get(a);null==e&&(e=b.append("svg:g").attr("class").string(a),c.set(a,e));return e},h=0,g=a.length;h<g;)for(var i=h++,i=a[i],j=(e-this.paddingAxis*
(i.length-1))/i.length,k=0,w=i.length;k<w;)for(var n=k++,o=i[n],p=f("group-"+n,this.chart),r=this.xVariable.type,q=this.xVariable.axis,s=this.xVariable.min(),t=this.xVariable.max(),u=this.yVariables[n].type,tc=this.yVariables[n].axis,ye=this.yVariables[n].min(),v=this.yVariables[n].max(),x=Math.max(1,(j-this.paddingDataPoint*(o.length-1))/o.length),n=-e/2+n*(j+this.paddingAxis),z=this.xVariable.stats,C=function(a,b){return function(c,e){return a(b,c,e)}}(y(this,this.onmouseover),z),z=function(a,b){return function(c,
e,f){return a(b,c,e,f)}}(y(this,this.onclick),z),D=0,E=0,H=o.length;E<H;){var F=E++,G=o[F],J=f("fill-"+(null==this.segmentProperty?F:B.indexOf(b,l.field(G,this.segmentProperty))),p),I=null==this.startat?D:q.scale(s,t,l.field(G,this.startat))*this.width,K=Math.max(this.height*tc.scale(ye,v,l.field(G,u)),1),L=q.scale(s,t,l.field(G,r))*this.width-(null==this.startat?0:I);if(!Math.isNaN(I))0>L?(I-=L,L=-L):Math.isNaN(L)&&(L=0),F=J.append("svg:rect").attr("class").string("bar").attr("x")["float"](I).attr("y")["float"](this.height-
(this.stacked?K-n:K-n-F*(x+this.paddingDataPoint))).attr("height")["float"](this.stacked?j:x).attr("width")["float"](L).onNode("mouseover",C).onNode("click",function(a,b){return function(c,e){return a(b,c,e)}}(z,G)),F.node().__dhx_data__=G,aa.storeColorForSelection(F),this.displayGradient&&F.eachNode(y(this,this.applyGradient)),this.visuallyStacked()&&(D=I+L)}this.ready.dispatch()},data:function(a){this.horizontal?this.datah(a.data,a.segments):this.datav(a.data,a.segments)},visuallyStacked:function(){return this.stacked&&
null==this.startat},setVariables:function(a,b,c,e){this.horizontal?(this.xVariable=c[0],this.yVariables=b):(this.xVariable=b[0],this.yVariables=c);if(this.visuallyStacked()){for(a=0;a<c.length;)b=c[a],++a,b.meta.max=Math.NEGATIVE_INFINITY;for(var e=e.data,f=0,a=e.length;f<a;)for(var h=f++,g=0,i=e[h].length;g<i;){for(var j=g++,b=c[j],k=0,w=0,l=e[h][j].length;w<l;)var n=w++,k=k+Pa.valueAlt(e[h][j][n],b.type,0);if(b.meta.max<k)b.meta.max=k}}},segmentProperty:null,startat:null,horizontal:null,paddingDataPoint:null,
paddingAxis:null,padding:null,displayGradient:null,gradientLightness:null,dps:null,defs:null,chart:null,stacked:null,__class__:s.BarChart});s.ColorScaleMode={__ename__:["rg","svg","chart","ColorScaleMode"],__constructs__:"FromCssInterpolation,FromCss,Interpolation,Sequence,Fixed,Fun".split(",")};s.ColorScaleMode.FromCssInterpolation=function(a){a=["FromCssInterpolation",0,a];a.__enum__=s.ColorScaleMode;a.toString=v;return a};s.ColorScaleMode.FromCss=function(a){a=["FromCss",1,a];a.__enum__=s.ColorScaleMode;
a.toString=v;return a};s.ColorScaleMode.Interpolation=function(a){a=["Interpolation",2,a];a.__enum__=s.ColorScaleMode;a.toString=v;return a};s.ColorScaleMode.Sequence=function(a){a=["Sequence",3,a];a.__enum__=s.ColorScaleMode;a.toString=v;return a};s.ColorScaleMode.Fixed=function(a){a=["Fixed",4,a];a.__enum__=s.ColorScaleMode;a.toString=v;return a};s.ColorScaleMode.Fun=function(a){a=["Fun",5,a];a.__enum__=s.ColorScaleMode;a.toString=v;return a};s.ColorScaleModes=function(){};j["rg.svg.chart.ColorScaleModes"]=
s.ColorScaleModes;s.ColorScaleModes.__name__=["rg","svg","chart","ColorScaleModes"];s.ColorScaleModes.canParse=function(a){try{return s.ColorScaleModes.createFromDynamic(a),!0}catch(b){return!1}};s.ColorScaleModes.createFromDynamic=function(a){if(l.isFunction(a))return s.ColorScaleMode.Fun(a);if(!I.__instanceof(a,String))throw new J.Error("invalid color mode '{0}'",[a],null,{fileName:"ColorScaleModes.hx",lineNumber:28,className:"rg.svg.chart.ColorScaleModes",methodName:"createFromDynamic"});a=I.__cast(a,
String).split(":");switch(a[0].toLowerCase()){case "css":return s.ColorScaleMode.FromCss(null==a[1]?null:n.parseInt(a[1]));case "i":return s.ColorScaleMode.Interpolation(a[1].split(",").map(function(a){return g.Colors.parse(a)}));case "interpolated":return s.ColorScaleMode.Interpolation(a[1].split(",").map(function(a){return g.Colors.parse(a)}));case "s":return s.ColorScaleMode.Sequence(a[1].split(",").map(function(a){return g.Colors.parse(a)}));case "sequence":return s.ColorScaleMode.Sequence(a[1].split(",").map(function(a){return g.Colors.parse(a)}));
case "f":return s.ColorScaleMode.Fixed(g.Colors.parse(a[1]));case "fixed":return s.ColorScaleMode.Fixed(g.Colors.parse(a[1]));default:return 0<=a[0].indexOf(",")?s.ColorScaleMode.Sequence(a[0].split(",").map(function(a){return g.Colors.parse(a)})):s.ColorScaleMode.Fixed(g.Colors.parse(a[0]))}};s.Coords=function(){};j["rg.svg.chart.Coords"]=s.Coords;s.Coords.__name__=["rg","svg","chart","Coords"];s.Coords.fromTransform=function(a){return s.Coords.retransform.match(a)?(a=s.Coords.retransform.matched(2),
[n.parseFloat(s.Coords.retransform.matched(1)),null==a?0:n.parseFloat(a)]):[0,0]};s.FunnelChart=function(a){s.Chart.call(this,a);this.padding=2.5;this.flatness=1;this.arrowSize=30;this.gradientLightness=1;this.displayGradient=!0;this.labelArrow=y(this,this.defaultLabelArrow);this.labelDataPoint=y(this,this.defaultLabelDataPoint);this.labelDataPointOver=y(this,this.defaultLabelDataPointOver)};j["rg.svg.chart.FunnelChart"]=s.FunnelChart;s.FunnelChart.__name__=["rg","svg","chart","FunnelChart"];s.FunnelChart.__super__=
s.Chart;s.FunnelChart.prototype=H(s.Chart.prototype,{externalGradient:function(a,b){var c=U.selectNode(a).select("path"),e=g.Hsl.toHsl(aa.parse(c.style("fill").get(),"#cccccc")),f=this.next(b),h=this.dpvalue(this.dps[b]),m=Math.round(100*(f/h))/100,m="rg_funnel_ext_gradient_"+e.hex("#")+"-"+m,i=this.defs.append("svg:radialGradient").attr("gradientUnits").string("objectBoundingBox").attr("id").string(m).attr("cx").string("50%").attr("cy").string("0%").attr("r").string("110%"),j=e.hex("#");i.append("svg:stop").attr("offset").string("10%").attr("stop-color").string(j);
e=aa.applyLightness(e,1-(h<f?h/f:f/h),this.gradientLightness*(h>=f?1:-1)).hex("#");i.append("svg:stop").attr("offset").string("50%").attr("stop-color").string(e);i.append("svg:stop").attr("offset").string("90%").attr("stop-color").string(j);c.attr("style").string("fill:url(#"+m+")")},internalGradient:function(a){var b=aa.parse(a.style("fill").get(),"#cccccc"),c=this.defs.append("svg:radialGradient").attr("gradientUnits").string("objectBoundingBox").attr("id").string("rg_funnel_int_gradient_0").attr("cx").string("50%").attr("fx").string("75%").attr("cy").string("20%").attr("r").string(Math.round(75)+
"%");c.append("svg:stop").attr("offset").string("0%").attr("stop-color").string(aa.applyLightness(g.Hsl.toHsl(b),this.gradientLightness).toRgbString());c.append("svg:stop").attr("offset").string("100%").attr("stop-color").string(aa.applyLightness(g.Hsl.toHsl(b),-this.gradientLightness).toRgbString());a.attr("style").string("fill:url(#rg_funnel_int_gradient_0)")},init:function(){s.Chart.prototype.init.call(this);null!=this.tooltip&&this.tooltip.anchor("bottomright");this.defs=this.g.classed().add("funnel-chart").append("svg:defs")},
mouseOver:function(a,b,c){null!=this.labelDataPointOver&&(a=this.labelDataPointOver(a,c),null==a?this.tooltip.hide():(this.tooltip.html(a.split("\n").join("<br>")),this.moveTooltip(this.width/2,this.topheight+0.6*this.h+(this.h+this.padding)*b,aa.extractColor(this.currentNode))))},redraw:function(){var a=this;if(!(null==this.dps||0==this.dps.length)){this.g.selectAll("g").remove();this.g.selectAll("radialGradient").remove();this.stats=this.variableDependent.stats;var b=this.scale(this.stats.max),
c=function(c){return a.width/2-a.scale(c)/b*(a.width-2)/2},e=function(b){return a.width-c(b)},f=(new q.Diagonal).sourcef(function(b){return[c(a.dpvalue(b)),0]}).targetf(function(b,e){return[c(a.next(e)),a.h]}),h=(new q.Diagonal).sourcef(function(b,c){return[e(a.next(c)),a.h]}).targetf(function(b){return[e(a.dpvalue(b)),0]}),g=function(b,f,h){b=f?c(b)-e(b):e(b)-c(b);return" a 5 "+a.flatness+" 0 0 "+(f?0==h?1:0:h)+" "+b+" 0"},i=function(b){b=a.dpvalue(b);return" M "+c(b)+" 0 "+g(b,!1,0)+g(b,!0,1)},
j=this.g.append("svg:g"),k=j.append("svg:path").attr("class").string("funnel-inside fill-0").attr("d").string(i(this.dps[0]));if(null!=this.click)j.onNode("click",function(){a.click(a.dps[0],a.stats)});this.displayGradient&&this.internalGradient(k);k.onNode("mouseover",function(b){a.currentNode=b;a.mouseOver(a.dps[0],0,a.stats)});aa.storeColorForSelection(k);this.topheight=Math.ceil(k.node().getBBox().height/2)+1;k=this.dps.length-1;i=this.g.append("svg:path").attr("class").string("funnel-inside fill-"+
k).attr("d").string(i(this.dps[k]));k=Math.ceil(i.node().getBBox().height/2)+1;i.remove();this.h=(this.height-this.topheight-k-(this.dps.length-1)*this.padding)/this.dps.length;j.attr("transform").string("translate(0,"+(1+this.topheight)+")");j=this.g.selectAll("g.section").data(this.dps).enter().append("svg:g").attr("class").string("section").attr("transform").stringf(function(b,c){return"translate(0,"+(a.topheight+c*(a.padding+a.h))+")"});i=j.append("svg:path").attr("class").stringf(function(a,
b){return"funnel-outside fill-"+b}).attr("d").stringf(function(b,c){var e=h.diagonal(b,c).split("C");e.shift();e="C"+e.join("C");return f.diagonal(b,c)+g(a.next(c),!1,0)+e+g(a.dpvalue(b),!0,0)});if(null!=this.click)i.on("click",function(b){a.click(b,a.stats)});aa.storeColorForSelection(i);i.onNode("mouseover",function(b,c){a.currentNode=b;a.mouseOver(l.field(b,"__dhx_data__"),c,a.stats)});this.displayGradient&&j.eachNode(y(this,this.externalGradient));j=this.g.selectAll("g.arrow").data(this.dps).enter().append("svg:g").attr("class").string("arrow").attr("transform").stringf(function(b,
c){return"translate("+a.width/2+","+(a.topheight+a.h*c+a.arrowSize/2)+")"});j.each(function(b){if(null!=a.labelArrow&&(b=a.labelArrow(b,a.stats),null!=b)){var c=U.selectNode(wa.current);c.append("svg:path").attr("transform").string("scale(1.1,0.85)translate(1,1)").attr("class").string("shadow").style("fill").string("#000").attr("opacity")["float"](0.25).attr("d").string(q.Symbol.arrowDownWide(a.arrowSize*a.arrowSize));c.append("svg:path").attr("transform").string("scale(1.1,0.8)").attr("d").string(q.Symbol.arrowDownWide(a.arrowSize*
a.arrowSize));c=new p.Label(c,!0,!1,!0);c.set_anchor(p.GridAnchor.Bottom);c.set_text(b)}});j.each(function(b,c){if(null!=a.labelDataPoint){var e=a.labelDataPoint(b,a.stats);if(null!=e){var f=new p.Balloon(a.g);f.set_boundingBox({x:a.width/2+2*(a.arrowSize/3),y:0,width:a.width,height:a.height});f.set_preferredSide(3);f.set_text(e.split("\n"));f.moveTo(a.width/2,a.topheight+0.6*a.h+(a.h+a.padding)*c,!1)}}});this.ready.dispatch()}},next:function(a){return this.dpvalue(this.dps[a+1<this.dps.length?a+
1:a])},scale:function(a){return this.variableDependent.axis.scale(this.variableDependent.min(),this.variableDependent.max(),a)},currentNode:null,h:null,topheight:null,stats:null,dpvalue:function(a){return l.field(a,this.variableDependent.type)},resize:function(){s.Chart.prototype.resize.call(this);this.redraw()},data:function(a){this.dps=a;this.redraw()},setVariables:function(a,b){this.variableIndependent=a[0];this.variableDependent=b[0]},defaultLabelDataPointOver:function(a){return O.format(l.field(a,
this.variableDependent.type))},defaultLabelDataPoint:function(a){return Ca.humanize(l.field(a,this.variableIndependent.type)).split(" ").join("\n")},defaultLabelArrow:function(a,b){var c=l.field(a,this.variableDependent.type)/b.max;return o.FormatNumber.percent(100*c,0)},dps:null,defs:null,variableDependent:null,variableIndependent:null,labelArrow:null,arrowSize:null,gradientLightness:null,displayGradient:null,flatness:null,padding:null,__class__:s.FunnelChart});s.Geo=function(a){this.labelOutline=
this.labelShadow=!1;s.Chart.call(this,a);this.mapcontainer=this.g.append("svg:g").attr("class").string("mapcontainer");this.queue=[];this.set_colorMode(s.ColorScaleMode.FromCss());this.resize()};j["rg.svg.chart.Geo"]=s.Geo;s.Geo.__name__=["rg","svg","chart","Geo"];s.Geo.__super__=s.Chart;s.Geo.prototype=H(s.Chart.prototype,{addMap:function(a,b){null!=b&&a.onReady.add(function(a,b,f){return function(){return a(b,f)}}(y(this,this.drawmap),a,b))},init:function(){s.Chart.prototype.init.call(this);L.Tooltip.get_instance().hide();
if(null==this.tooltip)this.tooltip=L.Tooltip.get_instance();this.g.classed().add("geo")},set_colorMode:function(a){var b=this,c=this.colorMode=a;switch(c[1]){case 0:c=c[2];null==c&&(c=1);var e=V.RGCss.colorsInCss();e.length>c&&(e=e.slice(0,c));1==e.length&&e.push(g.Hsl.lighter(g.Hsl.toHsl(g.Colors.parse(e[0])),0.9).hex("#"));e.reverse();this.set_colorMode(s.ColorScaleMode.Interpolation(e.map(function(a){return g.Colors.parse(a)})));break;case 1:var f=c[2];null==f&&(f=V.RGCss.numberOfColorsInCss());
this.stylefeature=function(a,c){var e=b.variableDependent.axis.scale(b.variableDependent.min(),b.variableDependent.max(),l.field(c,b.variableDependent.type)),e=Math.floor(f*e);a.attr("class").string("fill-"+e);aa.storeColorForSelection(a)};break;case 3:var h=c[2].map(function(a){return a.hex("#")});this.stylefeature=function(a,c){var e=b.variableDependent.axis.scale(b.variableDependent.min(),b.variableDependent.max(),l.field(c,b.variableDependent.type)),e=Math.floor(h.length*e);a.style("fill").string(h[e]);
aa.storeColorForSelection(a)};break;case 2:var m=g.Rgb.interpolateStepsf(c[2]);this.stylefeature=function(a,c){var e=b.variableDependent.axis.scale(b.variableDependent.min(),b.variableDependent.max(),l.field(c,b.variableDependent.type));a.style("fill").string(m(e).hex("#"));aa.storeColorForSelection(a)};break;case 4:var i=c[2].hex("#");this.stylefeature=function(a){a.style("fill").string(i);aa.storeColorForSelection(a)};break;case 5:var j=c[2];this.stylefeature=function(a,c){a.style("fill").string(j(c,
b.variableDependent.stats));aa.storeColorForSelection(a)}}return a},get_colorMode:function(){return this.colorMode},redraw:function(){for(;0<this.queue.length;)this.queue.shift()()},stylefeature:function(){},handlerClick:function(a,b){b(a,this.variableDependent.stats)},handlerDataPointOver:function(a,b,c){c=c(b,this.variableDependent.stats);null==c?this.tooltip.hide():(this.tooltip.html(c.split("\n").join("<br>")),b=l.field(b,"$centroid"),this.moveTooltip(b[0]+this.width/2,b[1]+this.height/2,aa.extractColor(a)))},
drawmap:function(a,b){if(null==this.dps||0==this.dps.length)this.queue.push(function(a,b,c){return function(){return a(b,c)}}(y(this,this.drawmap),a,b));else{this.set_colorMode(a.colorMode);for(var c=null,e=0,f=this.dps;e<f.length;){var h=f[e];++e;var g=l.field(h,b),g=a.map.get(g);if(null!=g){this.stylefeature(g.svg,ga.copyTo(h,g.dp));if(null!=a.radius&&"circle"==g.svg.node().nodeName)g.svg.attr("r")["float"](a.radius(g.dp,this.variableDependent.stats));if(null!=a.labelDataPoint&&null!=(c=a.labelDataPoint(g.dp,
this.variableDependent.stats)))h=l.field(g.dp,"$centroid"),g=new p.Label(this.mapcontainer,!0,this.labelShadow,this.labelOutline),g.set_text(c),g.place(h[0],h[1],0)}}0==this.queue.length&&this.ready.dispatch()}},dpvalue:function(a){return l.field(a,this.variableDependent.type)},resize:function(){s.Chart.prototype.resize.call(this);null!=this.mapcontainer&&this.mapcontainer.attr("transform").string("translate("+this.width/2+","+this.height/2+")")},data:function(a){this.dps=a;this.redraw()},setVariables:function(a,
b){this.variableDependent=b[0]},queue:null,dps:null,variableDependent:null,labelShadow:null,labelOutline:null,colorMode:null,mapcontainer:null,__class__:s.Geo,__properties__:H(s.Chart.prototype.__properties__,{set_colorMode:"set_colorMode",get_colorMode:"get_colorMode"})});s.GradientEffect={__ename__:["rg","svg","chart","GradientEffect"],__constructs__:["NoEffect","Gradient"]};s.GradientEffect.NoEffect=["NoEffect",0];s.GradientEffect.NoEffect.toString=v;s.GradientEffect.NoEffect.__enum__=s.GradientEffect;
s.GradientEffect.Gradient=function(a){a=["Gradient",1,a];a.__enum__=s.GradientEffect;a.toString=v;return a};s.GradientEffects=function(){};j["rg.svg.chart.GradientEffects"]=s.GradientEffects;s.GradientEffects.__name__=["rg","svg","chart","GradientEffects"];s.GradientEffects.canParse=function(a){switch(a.toLowerCase().split(":")[0]){case "gradient":a=!0;break;case "noeffect":a=!0;break;case "none":a=!0;break;case "flat":a=!0;break;default:a=!1}return a};s.GradientEffects.parse=function(a){var b=a.toLowerCase().split(":");
switch(b.shift()){case "gradient":return a=0.75,b=b.pop(),null!=b&&(a=n.parseFloat(b.split(",").shift())),s.GradientEffect.Gradient(a);default:return s.GradientEffect.NoEffect}};s.HeatGrid=function(a){s.CartesianChart.call(this,a);this.useContour=!1;this.set_colorMode(s.ColorScaleMode.FromCss())};j["rg.svg.chart.HeatGrid"]=s.HeatGrid;s.HeatGrid.__name__=["rg","svg","chart","HeatGrid"];s.HeatGrid.__super__=s.CartesianChart;s.HeatGrid.prototype=H(s.CartesianChart.prototype,{set_colorMode:function(a){var b=
this,c=this.colorMode=a;switch(c[1]){case 0:c=c[2];null==c&&(c=1);var e=V.RGCss.colorsInCss();e.length>c&&(e=e.slice(0,c));1==e.length&&e.push(g.Hsl.lighter(g.Hsl.toHsl(g.Colors.parse(e[0])),0.9).hex("#"));e.reverse();this.set_colorMode(s.ColorScaleMode.Interpolation(e.map(function(a){return g.Colors.parse(a)})));break;case 1:var f=c[2];null==f&&(f=V.RGCss.numberOfColorsInCss());this.stylefeature=function(a,c){var e=b.variableDependent.axis.scale(b.variableDependent.min(),b.variableDependent.max(),
l.field(c,b.variableDependent.type)),e=Math.floor(f*e);a.attr("class").string("fill-"+e)};break;case 3:var h=c[2].map(function(a){return a.hex("#")});this.stylefeature=function(a,c){var e=b.variableDependent.axis.scale(b.variableDependent.min(),b.variableDependent.max(),l.field(c,b.variableDependent.type)),e=Math.floor(h.length*e);a.style("fill").string(h[e])};break;case 2:var m=g.Rgb.interpolateStepsf(c[2]);this.stylefeature=function(a,c){var e=b.variableDependent.axis.scale(b.variableDependent.min(),
b.variableDependent.max(),l.field(c,b.variableDependent.type));a.style("fill").string(m(e).hex("#"))};break;case 4:var i=c[2].hex("#");this.stylefeature=function(a){a.style("fill").string(i)};break;case 5:var j=c[2];this.stylefeature=function(a,c){a.style("fill").string(j(c,b.variableDependent.stats))}}return a},get_colorMode:function(){return this.colorMode},stylefeature:function(){},range:function(a){var b=I.__instanceof(a,yc)?a:null;return null!=b?b.axis.range(b.min(),b.max()):a.axis.ticks(a.min(),
a.max()).map(function(a){return a.get_value()})},onclick:function(a){null!=this.click&&this.click(a,this.stats)},onmouseover:function(a,b){if(null!=this.labelDataPointOver){var c=this.labelDataPointOver(a,this.stats);null==c?this.tooltip.hide():(this.tooltip.html(c.split("\n").join("<br>")),this.moveTooltip(this.x(a,b)+this.w/2,this.y(a,b)+this.h/2,aa.extractColor(this.currentNode)))}},drawSquares:function(){var a=this,b=this.g.selectAll("rect").data(this.dps).enter().append("svg:rect").attr("x").floatf(y(this,
this.x)).attr("y").floatf(y(this,this.y)).attr("width")["float"](this.w).attr("height")["float"](this.h).each(function(b){a.stylefeature(U.selectNode(wa.current),b)}).on("click",y(this,this.onclick)).onNode("mouseover",function(b,e){a.currentNode=b;a.onmouseover(l.field(b,"__dhx_data__"),e)});aa.storeColorForSelection(b)},currentNode:null,createGridMap:function(a){for(var b=new ea,c=0,e=this.rows;c<e;)for(var f=c++,h=0,g=this.cols;h<g;){var i=h++;a(i,f)&&b.set(f+"-"+i,[f,i])}return b},drawContour:function(){},
redraw:function(){if(!(null==this.dps||0==this.dps.length))this.stats=this.variableDependent.stats,this.xrange=this.range(this.xVariable),this.yrange=this.range(this.yVariables[0]),this.cols=this.xrange.length,this.rows=this.yrange.length,this.w=this.width/this.cols,this.h=this.height/this.rows,this.useContour?this.drawContour():this.drawSquares(),this.ready.dispatch()},y:function(a){return this.height-(1+B.indexOf(this.yrange,l.field(a,this.yVariables[0].type)))*this.h},x:function(a){return B.indexOf(this.xrange,
l.field(a,this.xVariable.type))*this.w},stats:null,h:null,w:null,rows:null,cols:null,yrange:null,xrange:null,scale:function(a){return this.variableDependent.axis.scale(this.variableDependent.min(),this.variableDependent.max(),a)},value:function(a){return this.scale(l.field(a,this.variableDependent.type))},data:function(a){this.dps=a;this.redraw()},resize:function(){s.CartesianChart.prototype.resize.call(this);this.redraw()},init:function(){s.CartesianChart.prototype.init.call(this);this.g.classed().add("heat-grid")},
setVariables:function(a,b,c){this.xVariable=b[0];this.yVariables=[b[1]];this.variableDependent=c[0]},variableDependent:null,dps:null,colorMode:null,useContour:null,__class__:s.HeatGrid,__properties__:H(s.CartesianChart.prototype.__properties__,{set_colorMode:"set_colorMode",get_colorMode:"get_colorMode"})});s.LineChart=function(a){s.CartesianChart.call(this,a);this.addClass("line-chart");this.chart=this.g.append("svg:g");this.sensibleRadius=100};j["rg.svg.chart.LineChart"]=s.LineChart;s.LineChart.__name__=
["rg","svg","chart","LineChart"];s.LineChart.__super__=s.CartesianChart;s.LineChart.prototype=H(s.CartesianChart.prototype,{onclick:function(a){var a=l.field(a,"__dhx_data__"),b=this.getStats(a);this.click(a,b)},onmouseover:function(a){var b=l.field(a,"__dhx_data__"),c=this.getStats(b),b=this.labelDataPointOver(b,c);null==b?this.tooltip.hide():(c=U.selectNode(a.parentNode),c=s.Coords.fromTransform(c.attr("transform").get()),this.tooltip.html(b.split("\n").join("<br>")),this.moveTooltip(c[0],c[1],
aa.extractColor(a)))},getStats:function(a){for(var b=0,c=this.stats;b<c.length;){var e=c[b];++b;if(null!=l.field(a,e.type))return e}return null},getTranslatePointf:function(a){var b=y(this,this.x),c=this.getY1(a);return function(a,f){return"translate("+b(a)+","+c(a,f)+")"}},data:function(a){var b=this;this.linePathShape=[];for(var c=0,e=this.yVariables.length;c<e;){var f=c++,h=[new q.Line(y(this,this.x),this.getY1(f))];null!=this.lineInterpolator&&h[0].interpolator(this.lineInterpolator);this.linePathShape[f]=
function(a){return function(c,e){b.segment=e;return a[0].shape(c,e)}}(h)}c=this.chart.selectAll("g.group").data(a);c.enter().append("svg:g").attr("class").stringf(function(a,b){return"group group-"+b});c.exit().remove();this.stats=[];c=0;for(e=a.length;c<e;){f=[c++];this.segments=a[f[0]];h=this.chart.select("g.group-"+f[0]);this.stats[f[0]]=new Gb(this.yVariables[f[0]].type);this.stats[f[0]].addMany(Pa.values(B.flatten(this.segments),this.yVariables[f[0]].type));if(null!=this.y0property){var m=new q.Area(y(this,
this.x),this.getY0(f[0]),this.getY1(f[0]));null!=this.lineInterpolator&&m.interpolator(this.lineInterpolator);h.selectAll("path.area").data(this.segments).enter().append("svg:path").attr("class").stringf(this.classff(f[0],"area area-"+f[0])).attr("d").stringf(y(m,m.shape))}var m=h.selectAll("path.main").data(this.segments),i=this.lineEffect;switch(i[1]){case 1:var j=[i[3]],i=[i[2]],k=[[]];m.enter().append("svg:path").attr("class").stringf(this.classsf(f[0],"line")).eachNode(function(a,b){return function(c,
e){var f=g.Hsl.toHsl(aa.parse(U.selectNode(c).style("stroke").get(),"#000000")),h=aa.applyLightness(f,a[0]);b[0][e]=g.Hsl.interpolatef(h,f)}}(i,k)).remove();for(i=0;i<j[0];){var w=[i++];m.enter().append("svg:path").attr("class").string("line grad-"+(j[0]-w[0]-1)).style("stroke").stringf(function(a,b,c){return function(e,f){return c[0][f](b[0]/a[0]).hex("#")}}(j,w,k)).attr("d").stringf(this.linePathShape[f[0]])}break;case 2:for(var j=i[4],k=i[3],n=i[2],i=0;i<j;)w=i++,m.enter().append("svg:path").attr("transform").string("translate("+
(1+w)*n+","+(1+w)*k+")").attr("class").stringf(this.classsf(f[0],"line shadow shadow-"+w)).attr("d").stringf(this.linePathShape[f[0]])}w=m.enter().append("svg:path").attr("class").stringf(this.classsf(f[0],"line")).attr("d").stringf(this.linePathShape[f[0]]);i=this;i=i.lineEffect;switch(i[1]){case 1:w.classed().add("gradient");break;case 2:w.classed().add("dropshadow");break;case 0:w.classed().add("noeffect")}m.update().attr("d").stringf(this.linePathShape[f[0]]);m.exit().remove();h=h.selectAll("g.symbols").data(this.segments);
m=h.enter().append("svg:g").attr("class").stringf(this.classsf(f[0],"symbols")).selectAll("g.symbol").dataf(function(){return function(a){return a}}()).enter().append("svg:g").attr("transform").stringf(this.getTranslatePointf(f[0]));i=m.append("svg:circle").attr("r")["float"](6).attr("opacity")["float"](0).style("fill").string("#000000");null!=this.labelDataPointOver&&i.classed().add("rgdata");aa.storeColorForSelection(i,"stroke");V.SVGSymbolBuilder.generate(m,this.stats[f[0]],this.symbol,this.symbolStyle);
null!=this.labelDataPoint&&m.eachNode(function(a,c){return function(e){var f=l.field(e,"__dhx_data__");(new p.Label(U.selectNode(e),!0,!1,!1)).set_text(a[0](f,b.stats[c[0]]))}}([this.labelDataPoint],f));h.update().selectAll("g.symbol").dataf(function(){return function(a){return a}}()).update().attr("transform").stringf(this.getTranslatePointf(f[0]));h.exit().remove()}p.Sensible.sensibleZone(this.g,this.panel,null==this.click?null:y(this,this.onclick),null==this.labelDataPointOver?null:y(this,this.onmouseover),
this.sensibleRadius);this.ready.dispatch()},classff:function(a,b){return function(c,e){return b+" fill-"+(a+e)}},classsf:function(a,b){return function(c,e){return b+" stroke-"+(a+e)}},segments:null,getY0:function(a){var b=this,c=this.yVariables[a],e=function(a,b,c){return function(e){return a(b,c,e)}}((P=c.axis,y(P,P.scale)),c.min(),c.max());return function(a){return b.height-e(Pa.valueAlt(a,b.y0property,c.min()))*b.height}},getY1:function(a){var b=this,c=this.yVariables[a],e=function(a,b,c){return function(e){return a(b,
c,e)}}((P=c.axis,y(P,P.scale)),c.min(),c.max());if(null!=this.y0property){var f=e(c.min())*this.height;return function(h,g){return b.getY0(a)(h,g)-e(l.field(h,c.type))*b.height+f}}return function(a){a=l.field(a,c.type);a=e(a)*b.height;return b.height-a}},x:function(a){a=l.field(a,this.xVariable.type);return this.xVariable.axis.scale(this.xVariable.min(),this.xVariable.max(),a)*this.width},setVariables:function(a,b,c,e){s.CartesianChart.prototype.setVariables.call(this,a,b,c,e);if(null!=this.y0property&&
""!=this.y0property){for(var f,a=0;a<c.length;)b=c[a],++a,b.meta.max=Math.NEGATIVE_INFINITY;for(var h=0,a=e.length;h<a;)for(var g=h++,b=c[g],i=0,j=e[g].length;i<j;)for(var k=i++,w=0,l=e[g][k].length;w<l;)if(f=w++,f=e[g][k][f],f=Pa.valueAlt(f,b.type,0)+Pa.valueAlt(f,this.y0property,0),b.meta.max<f)b.meta.max=f}},stats:null,segment:null,dps:null,chart:null,linePathShape:null,sensibleRadius:null,y0property:null,lineEffect:null,lineInterpolator:null,symbolStyle:null,symbol:null,__class__:s.LineChart});
s.LineEffect={__ename__:["rg","svg","chart","LineEffect"],__constructs__:["NoEffect","Gradient","DropShadow"]};s.LineEffect.NoEffect=["NoEffect",0];s.LineEffect.NoEffect.toString=v;s.LineEffect.NoEffect.__enum__=s.LineEffect;s.LineEffect.Gradient=function(a,b){var c=["Gradient",1,a,b];c.__enum__=s.LineEffect;c.toString=v;return c};s.LineEffect.DropShadow=function(a,b,c){a=["DropShadow",2,a,b,c];a.__enum__=s.LineEffect;a.toString=v;return a};s.LineEffects=function(){};j["rg.svg.chart.LineEffects"]=
s.LineEffects;s.LineEffects.__name__=["rg","svg","chart","LineEffects"];s.LineEffects.parse=function(a){var b=a.toLowerCase().split(":");switch(b.shift()){case "dropshadow":var c=0.5,e=0.5,a=2,b=b.pop();null!=b&&(b=b.split(","),c=n.parseFloat(b[0]),e=1<b.length?n.parseFloat(b[1]):c,2<b.length&&(a=n.parseInt(b[2])));return s.LineEffect.DropShadow(c,e,a);case "gradient":return c=0.75,a=2,b=b.pop(),null!=b&&(c=n.parseFloat(b.split(",").shift()),e=b.split(",").pop(),null!=e&&(a=n.parseInt(e))),s.LineEffect.Gradient(c,
a);default:return s.LineEffect.NoEffect}};s.PieChart=function(a){s.Chart.call(this,a);this.addClass("pie-chart");this.g.append("svg:defs");this.pie=new T.layout.Pie;this.gradientLightness=0.75;this.displayGradient=!0;this.innerRadius=this.animationDelay=0;this.outerRadius=0.9;this.overRadius=0.95;this.labelRadius=0.45;this.tooltipRadius=0.5;this.labels=new ea;this.labelOrientation=p.LabelOrientation.Orthogonal;this.labelDontFlip=!0};j["rg.svg.chart.PieChart"]=s.PieChart;s.PieChart.__name__=["rg",
"svg","chart","PieChart"];s.PieChart.__super__=s.Chart;s.PieChart.prototype=H(s.Chart.prototype,{destroy:function(){for(var a=this.labels.iterator();a.hasNext();)a.next().destroy();s.Chart.prototype.destroy.call(this)},pief:function(a){for(var b=this.variableDependent.type,c=this.pie.pie(a.map(function(a){return l.field(a,b)})),e=0,f=c.length;e<f;){var h=e++,g=this.makeid(a[h]);c[h].id=g;c[h].dp=a[h]}return c},arcShape:function(a){return function(b){return a.shape(b)}},makeid:function(a){a=ga.clone(a);
l.deleteField(a,this.variableDependent.type);return Dc.encode(fa.string(a))},id:function(a){return a.id},backtonormal:function(a){U.selectNodeData(a).selectAll("path").transition().ease(this.animationEase).duration(null,this.animationDuration).attr("d").stringf(this.arcShape(this.arcNormal))},highlight:function(a){U.selectNodeData(a).selectAll("path").transition().ease(this.animationEase).duration(null,this.animationDuration).attr("d").stringf(this.arcShape(this.arcBig))},fadein:function(a){var b=
U.selectNodeData(a),a=this.arcNormal.shape(l.field(a,"__dhx_data__"));b.selectAll("path.slice").transition().ease(this.animationEase).duration(null,this.animationDuration).delay(null,this.animationDelay).attr("d").string(a)},applyGradient:function(a){var b=U.selectNodeData(a),c=l.field(a,"__dhx_data__").id;if(this.g.select("defs").select("#rg_pie_gradient_"+c).empty()){var e=b.select("path.slice"),a=this.arcNormal.shape(l.field(a,"__dhx_data__")),a=b.append("svg:path").attr("d").string(a),f;try{f=
a.node().getBBox()}catch(h){f={x:0,y:0,width:0,height:0}}a.remove();var e=aa.parse(e.style("fill").get(),"#cccccc"),a=aa.applyLightness(g.Hsl.toHsl(e),this.gradientLightness),m=f.width/f.height,i=100*-f.x/f.width/m,j=100*-f.y/f.height/m;f=100*(f.width>f.height?Math.min(1,this.radius*this.outerRadius/f.width):Math.max(1,this.radius*this.outerRadius/f.width));f=this.g.select("defs").append("svg:radialGradient").attr("gradientUnits").string("objectBoundingBox").attr("id").string("rg_pie_gradient_"+c).attr("cx").string(i*
m+"%").attr("cy").string(j+"%").attr("gradientTransform").string("scale(1 "+m+")").attr("r").string(f+"%");f.append("svg:stop").attr("offset").string(100*this.innerRadius+"%").attr("stop-color").string(e.toRgbString()).attr("stop-opacity")["float"](1);f.append("svg:stop").attr("offset").string("100%").attr("stop-color").string(a.toRgbString()).attr("stop-opacity")["float"](1)}b.select("path.slice").attr("style").string("fill:url(#rg_pie_gradient_"+c+")")},appendLabel:function(a){var b=U.selectNode(a),
b=new p.Label(b,this.labelDontFlip,!0,!0),a=l.field(a,"__dhx_data__"),c=this.radius*this.labelRadius,e=a.startAngle+(a.endAngle-a.startAngle)/2-Math.PI/2;b.set_orientation(this.labelOrientation);switch(this.labelOrientation[1]){case 0:b.set_anchor(p.GridAnchor.Center);break;case 1:b.set_anchor(p.GridAnchor.Left);break;case 2:b.set_anchor(p.GridAnchor.Top)}b.set_text(this.labelDataPoint(a.dp,this.stats));b.place(-2.5+Math.cos(e)*c,-2.5+Math.sin(e)*c,57.29577951308232*e);this.labels.set(a.id,b);0>=
l.field(a.dp,this.stats.type)&&b.hide()},updateLabel:function(a){U.selectNode(a);var a=l.field(a,"__dhx_data__"),b=this.labels.get(a.id),c=this.radius*this.labelRadius,e=a.startAngle+(a.endAngle-a.startAngle)/2-Math.PI/2;b.set_text(this.labelDataPoint(a.dp,this.stats));b.place(-2.5+Math.cos(e)*c,-2.5+Math.sin(e)*c,57.29577951308232*e);0==l.field(a.dp,this.stats.type)?b.hide():b.show()},removeLabel:function(a){U.selectNode(a);a=l.field(a,"__dhx_data__");this.labels.get(a.id).destroy();this.labels.remove(a.id)},
onMouseClick:function(a){this.mouseClick(l.field(a,"__dhx_data__").dp)},onMouseOver:function(a){if(null!=this.labelDataPointOver){var b=l.field(a,"__dhx_data__"),c=this.labelDataPointOver(b.dp,this.stats);if(null==c)this.tooltip.hide();else{var b=b.startAngle+(b.endAngle-b.startAngle)/2-Math.PI/2,e=this.radius*this.tooltipRadius;this.tooltip.html(c.split("\n").join("<br>"));this.moveTooltip(this.width/2+Math.cos(b)*e,this.height/2+Math.sin(b)*e,aa.extractColor(a))}}},data:function(a){this.stats=this.variableDependent.stats;
var a=this.g.selectAll("g.group").data(this.pief(a),y(this,this.id)),b=a.enter().append("svg:g").attr("class").stringf(function(a,b){return"group fill-"+b}).attr("transform").string("translate("+this.radius+","+this.radius+")"),c=b.append("svg:path").attr("class").string("slice");aa.storeColorForSelection(b);this.displayGradient&&b.eachNode(y(this,this.applyGradient));this.animated?(c.attr("d").stringf(this.arcShape(this.arcStart)),b.eachNode(y(this,this.fadein)).onNode("mouseover.animation",y(this,
this.highlight)).onNode("mouseout.animation",y(this,this.backtonormal))):c.attr("d").stringf(this.arcShape(this.arcNormal));b.onNode("mouseover.label",y(this,this.onMouseOver));if(null!=this.mouseClick)b.onNode("click.user",y(this,this.onMouseClick));null!=this.labelDataPoint&&a.enter().append("svg:g").attr("transform").string("translate("+this.radius+","+this.radius+")").eachNode(y(this,this.appendLabel));a.update().select("path").transition().ease(this.animationEase).duration(null,this.animationDuration).attr("d").stringf(this.arcShape(this.arcNormal));
null!=this.labelDataPoint&&a.update().eachNode(y(this,this.updateLabel));a.exit().eachNode(y(this,this.removeLabel)).remove();this.ready.dispatch()},resize:function(){s.Chart.prototype.resize.call(this);this.radius=Math.min(this.width,this.height)/2;this.arcStart=q.Arc.fromAngleObject().innerRadius(this.radius*this.innerRadius).outerRadius(this.radius*this.innerRadius);this.arcNormal=q.Arc.fromAngleObject().innerRadius(this.radius*this.innerRadius).outerRadius(this.radius*this.outerRadius);this.arcBig=
q.Arc.fromAngleObject().innerRadius(this.radius*this.innerRadius).outerRadius(this.radius*this.overRadius);this.width>this.height?this.g.attr("transform").string("translate("+(this.width/2-this.height/2)+",0)"):this.g.attr("transform").string("translate(0,"+(this.height/2-this.width/2)+")")},setVariables:function(a,b){this.variableDependent=b[0]},mouseClick:null,labels:null,labelDontFlip:null,labelOrientation:null,animationDelay:null,displayGradient:null,gradientLightness:null,variableDependent:null,
stats:null,radius:null,pie:null,arcBig:null,arcStart:null,arcNormal:null,tooltipRadius:null,labelRadius:null,overRadius:null,outerRadius:null,innerRadius:null,__class__:s.PieChart});s.Sankey=function(a){s.Chart.call(this,a);this.addClass("sankey");this.layerWidth=61;this.nodeSpacing=28;this.dummySpacing=18;this.extraWidth=28;this.backEdgeSpacing=4;this.extraRadius=this.extraHeight=5;this.imageWidth=60;this.imageHeight=48;this.imageSpacing=0;this.labelNodeSpacing=4;this.styleNode="0";this.styleentry=
"4";this.styleexit="6";this.styleEdgeBackward="3";this.styleEdgeForward="0";this.thinbackedges=this.stackbackedges=!0};j["rg.svg.chart.Sankey"]=s.Sankey;s.Sankey.__name__=["rg","svg","chart","Sankey"];s.Sankey.__super__=s.Chart;s.Sankey.prototype=H(s.Chart.prototype,{hnode:function(a){return this.nheight(a.data.weight)},isdummy:function(a){return"#"==u.substr(a.data.id,0,1)},nodepadding:function(a){return this.isdummy(a)?this.dummySpacing:this.nodeSpacing},ynode:function(a){for(var b=this.layout.cell(a),
c=this.layerstarty[b.layer],e=0,f=b.position;e<f;)var h=e++,h=this.layout.nodeAt(b.layer,h),c=c+(this.hnode(h)+this.nodepadding(h));c+=this.nodepadding(a);return Math.round(c)+0.5},xlayer:function(a){return 1>=this.layout.length?this.width/2:Math.round((this.width-this.padBefore-this.padAfter-this.layerWidth)/(this.layout.length-1)*a+this.layerWidth/2+this.padBefore)},hafter:function(a,b){for(var c=!1,e=this.backEdgeSpacing/this.nheight(1),f=e;b.hasNext();){var h=b.next();c?f+=h.weight+e:h.id==a&&
(c=!0)}return this.nheight(f)},cafter:function(a,b){for(var c=!1,e=0;b.hasNext();){var f=b.next();c?e++:f.id==a&&(c=!0)}return e},ydiagonal:function(a,b){for(var c=0;b.hasNext();){var e=b.next();if(e.id==a)break;c+=e.weight}return this.nheight(c)},nheight:function(a){return 0==a?0:Math.round(a/this.maxweight*this.availableheight)},onmouseoverexit:function(a,b,c,e){this.highlight(c.id,"node");null!=this.labelEdgeOver&&(c=this.labelEdgeOver(this.edgeDataWithNode(c,!0),this.dependentVariable.stats),
null==c?this.tooltip.hide():(this.tooltip.anchor("topleft"),this.tooltip.html(c.split("\n").join("<br>")),this.moveTooltip(a,b,aa.extractColor(e))))},onmouseoverentry:function(a,b,c,e){this.highlight(c.id,"node");null!=this.labelEdgeOver&&(c=this.labelEdgeOver(this.edgeDataWithNode(c,!1),this.dependentVariable.stats),null==c?this.tooltip.hide():(this.tooltip.anchor("bottomright"),this.tooltip.html(c.split("\n").join("<br>")),this.moveTooltip(a,b,aa.extractColor(e))))},onmouseoveredge:function(a,b,
c,e){this.highlight(c.id,"edge");null!=this.labelEdgeOver&&(c=this.labelEdgeOver(this.edgeData(c),this.dependentVariable.stats),null==c?this.tooltip.hide():(this.tooltip.anchor("bottomright"),this.tooltip.html(c.split("\n").join("<br>")),this.moveTooltip(a,b,aa.extractColor(e))))},onmouseovernode:function(a,b){this.highlight(a.id,"node");if(this.isdummy(a)){if(null!=this.labelEdgeOver){var c=this.labelEdgeOver(this.edgeData(a.graph.edges.positives(a).next()),this.dependentVariable.stats);if(!1!==
c)if(null==c)this.tooltip.hide();else{var e=this.layout.cell(a);this.tooltip.anchor("bottomright");this.tooltip.html(c.split("\n").join("<br>"));this.moveTooltip(this.xlayer(e.layer),this.ynode(a)+this.hnode(a)/2,aa.extractColor(b))}}}else null!=this.labelDataPointOver&&(c=this.labelDataPointOver(a.data.dp,this.dependentVariable.stats),!1!==c&&(null==c?this.tooltip.hide():(e=this.layout.cell(a),this.tooltip.anchor("bottomright"),this.tooltip.html(c.split("\n").join("<br>")),this.moveTooltip(this.xlayer(e.layer),
this.ynode(a)+this.hnode(a)/2,aa.extractColor(b)))))},edgeClickWithNode:function(a,b,c,e){this.edgeclick(this.edgeDataWithNode(a,b),c,e)},edgeClickWithEdge:function(a,b,c){this.edgeclick(this.edgeData(a),b,c)},edgeclick:function(a){this.clickEdge(a,this.dependentVariable.stats)},nodeclick:function(a){this.click(a.data.dp,this.dependentVariable.stats)},edgeDataWithNode:function(a,b){return{tail:b?a.data.dp:null,head:b?null:a.data.dp,edgeweight:b?a.data.exit:a.data.entry,nodeweight:a.data.weight}},
edgeData:function(a){for(var b=a.head,c=a.tail;this.isdummy(b);)b=b.graph.edges.positives(b).next().head;for(;this.isdummy(c);)c=c.graph.edges.negatives(c).next().tail;return{head:b.data.dp,tail:c.data.dp,edgeweight:a.weight,nodeweight:c.data.weight}},highlight:function(a,b){for(var c=this,e=this.maphi.iterator();e.hasNext();)e.next().classed().remove("over");this.maphi=new ea;var f=null,h=null,g=null,i=null,j=function(a,b){var e=b+":"+a;c.maphi.set(e,c.mapelements.get(e).classed().add("over"))},
k=function(a){var a="entry:"+a,b=c.mapelements.get(a);null!=b&&c.maphi.set(a,b.classed().add("over"))},f=function(a){c.maphi.exists("edge:"+a.id)||(j(a.id,"edge"),c.isbackward(a)||h(a.head))},h=function(a){if(!c.maphi.exists("node:"+a.id)){j(a.id,"node");var b="exit:"+a.id,e=c.mapelements.get(b);null!=e&&c.maphi.set(b,e.classed().add("over"));for(a=a.graph.edges.positives(a);a.hasNext();)b=a.next(),f(b)}},g=function(a){c.isbackward(a)||i(a.tail);c.maphi.exists("edge:"+a.id)||c.isbackward(a)||j(a.id,
"edge")},i=function(a){for(var b=a.graph.edges.negatives(a);b.hasNext();){var e=b.next();g(e)}c.maphi.exists("node:"+a.id)||(j(a.id,"node"),k(a.id))};"edge"==b?(f(this.layout.graph.edges.get(a)),g(this.layout.graph.edges.get(a))):"node"==b&&(h(this.layout.graph.nodes.get(a)),i(this.layout.graph.nodes.get(a)),k(a))},isbackward:function(a){return this.layout.cell(a.head).layer<=this.layout.cell(a.tail).layer},addToMap:function(a,b,c){this.mapelements.set(b+":"+a,c)},redraw:function(){var a=this;this.mapelements=
new ea;this.maphi=new ea;this.maxweight=0;this.layerstarty=[];for(var b=0,c=this.layout.length;b<c;){var e=b++,f=N.reduce(ra(this.layout.layer(e))(),function(a,b){return a+b.data.weight},0);if(f>this.maxweight)this.maxweight=f}for(var h=0,b=0,c=this.layout.length;b<c;)e=b++,f=N.reduce(ra(this.layout.layer(e))(),function(b,c){return b+a.nodepadding(c)},0),f>h&&(h=f);this.availableheight=this.height-h;if(this.thinbackedges)this.availableheight-=(1+this.backEdgeSpacing)*(this.stackbackedges?N.filter(this.layout.graph.edges.collection.iterator(),
function(b){return a.layout.cell(b.tail).layer>=a.layout.cell(b.head).layer}).length:1);else if(this.stackbackedges)for(b=this.layout.graph.edges.collection.iterator();b.hasNext();)e=b.next(),this.layout.cell(e.tail).layer<this.layout.cell(e.head).layer||(this.availableheight-=this.backEdgeSpacing,this.maxweight+=e.weight);else{this.availableheight-=this.backEdgeSpacing;f=0;for(b=this.layout.graph.edges.collection.iterator();b.hasNext();)if(e=b.next(),!(this.layout.cell(e.tail).layer<this.layout.cell(e.head).layer)&&
e.weight>f)f=e.weight;this.maxweight+=f}this.availableheight-=this.extraRadius+this.extraHeight;for(var g=0,b=0,c=this.layout.length;b<c;){for(var e=b++,h=this.layout.layer(e),i=0,j=0;j<h.length;)f=h[j],++j,i+=this.nodepadding(f)+this.nheight(f.data.weight);this.layerstarty[e]=i;i>g&&(g=i)}b=0;for(c=this.layerstarty.length;b<c;)e=b++,this.layerstarty[e]=(g-this.layerstarty[e])/2;g+=this.extraRadius+this.extraHeight;c=this.padBefore=0;for(b=this.layout.layer(0);c<b.length;){f=b[c];++c;h=Math.min(this.nheight(f.data.entry),
this.extraWidth);for(i=f.graph.edges.negatives(f);i.hasNext();)e=i.next(),e=this.hafter(e.id,f.graph.edges.negatives(f))+this.nheight(e.weight),e>h&&(h=e);if(h>this.padBefore)this.padBefore=h}this.padBefore+=2;c=this.padAfter=0;for(b=this.layout.layer(this.layout.length-1);c<b.length;){f=b[c];++c;h=Math.min(this.nheight(f.data.exit),this.extraWidth);for(i=f.graph.edges.positives(f);i.hasNext();)e=i.next(),e=this.hafter(e.id,f.graph.edges.positives(f))+this.nheight(e.weight)+Math.min(this.nheight(f.data.exit),
this.extraWidth),e>h&&(h=e);if(h>this.padAfter)this.padAfter=h}this.padAfter+=2;var k=this.g.select("g.edges");k.empty()?k=this.g.append("svg:g").attr("class").string("edges"):k.selectAll("*").remove();b=B.order(N.array(ra(N.array(this.layout.graph.edges.iterator()))()),function(b,c){var e=a.layout.cell(b.tail).layer-a.layout.cell(b.head).layer,e=a.layout.cell(c.tail).layer-a.layout.cell(c.head).layer-e;return 0!=e?e:D.compare(c.weight,b.weight)});N.each(this.layout.graph.nodes.iterator(),function(b){b.graph.edges.sortPositives(b,
function(b,c){var e=a.layout.cell(b.head),f=a.layout.cell(c.head),h=f.layer-e.layer;return 0!=h?h:e.position-f.position});b.graph.edges.sortNegatives(b,function(b,c){var e=a.layout.cell(b.tail),f=a.layout.cell(c.tail);return e.layer>f.layer?1:e.position-f.position})});c=b.slice();c.sort(function(b,c){var e=a.layout.cell(b.tail);return a.layout.cell(c.tail).position-e.position});this.thinbackedges?N.each(ra(c)(),function(b){if(!(0>=b.weight)){var c=a.layout.cell(b.head),e=a.layout.cell(b.tail);if(!(c.layer>
e.layer)){var f=a.nheight(b.weight),h=5+a.cafter(b.id,b.tail.positives())*(a.backEdgeSpacing+1),i=5+a.cafter(b.id,b.head.negatives())*(a.backEdgeSpacing+1),e=a.layerWidth/2+a.xlayer(e.layer),j=-a.layerWidth/2+a.xlayer(c.layer),A=a.ynode(b.tail)+a.ydiagonal(b.id,b.tail.positives()),l=a.nheight(b.head.data.entry)+a.ynode(b.head)+a.ydiagonal(b.id,b.head.negatives()),n=k.append("svg:g");n.append("svg:rect").attr("x")["float"](e).attr("y")["float"](A).attr("width")["float"](10).attr("height")["float"](f).attr("class").string("edge fill fill-"+
a.styleEdgeBackward+" stroke stroke-"+a.styleEdgeBackward).onNode("mouseover",function(a,b,c,e){return function(f,h){return a(b,c,e,f,h)}}(y(a,a.onmouseoveredge),(e+j)/2,g,b));n.append("svg:rect").attr("x")["float"](j-10).attr("y")["float"](l).attr("width")["float"](10).attr("height")["float"](f).attr("class").string("edge fill fill-"+a.styleEdgeBackward+" stroke stroke-"+a.styleEdgeBackward).onNode("mouseover",function(a,b,c,e){return function(f,h){return a(b,c,e,f,h)}}(y(a,a.onmouseoveredge),(e+
j)/2,g,b));c=new p.HookConnector(n,"stroke stroke-"+a.styleEdgeBackward);a.addToMap(b.id,"edge",n);c.update(e+10,A+f/2,j-10,l+f/2,g,h,i);c.g.onNode("mouseover",function(a,b,c,e){return function(f,h){return a(b,c,e,f,h)}}(y(a,a.onmouseoveredge),(e+j)/2,g,b));null!=a.edgeClass&&(f=a.edgeClass({head:b.head.data,tail:b.tail.data,edgeweight:b.weight},a.dependentVariable.stats),null!=f&&c.addClass(f));aa.storeColorForSelection(c.g,"stroke",c.line.style("stroke").get());if(null!=a.clickEdge)c.g.onNode("click",
function(a,b){return function(c,e){return a(b,c,e)}}(y(a,a.edgeClickWithEdge),b));a.stackbackedges&&(g+=1+a.backEdgeSpacing)}}}):N.each(ra(c)(),function(b){if(!(0>=b.weight)){var c=a.layout.cell(b.head),e=a.layout.cell(b.tail);if(!(c.layer>e.layer)){var f=a.nheight(b.weight),h=new p.HookConnectorArea(k,"fill fill-"+a.styleEdgeBackward,"stroke stroke-"+a.styleEdgeBackward),i=a.hafter(b.id,b.tail.positives())+Math.min(a.extraWidth,a.nheight(b.tail.data.exit)),j=a.hafter(b.id,b.head.negatives()),e=a.layerWidth/
2+a.xlayer(e.layer),c=-a.layerWidth/2+a.xlayer(c.layer),A=a.ynode(b.tail)+a.ydiagonal(b.id,b.tail.positives()),l=a.nheight(b.head.data.entry)+a.ynode(b.head)+a.ydiagonal(b.id,b.head.negatives());a.addToMap(b.id,"edge",h.g);h.update(e,A,c,l,f,g,i,j);h.g.onNode("mouseover",function(a,b,c,e){return function(f,h){return a(b,c,e,f,h)}}(y(a,a.onmouseoveredge),(e+c)/2,g+f/2,b));null!=a.edgeClass&&(i=a.edgeClass({head:b.head.data,tail:b.tail.data,edgeweight:b.weight},a.dependentVariable.stats),null!=i&&h.addClass(i));
aa.storeColorForSelection(h.g,"fill",h.area.style("fill").get());if(null!=a.clickEdge)h.g.onNode("click",function(a,b){return function(c,e){return a(b,c,e)}}(y(a,a.edgeClickWithEdge),b));a.stackbackedges&&(g+=f+a.backEdgeSpacing)}}});N.each(ra(b)(),function(b){if(!(0>=b.weight)){var c=b.head,e=b.tail,f=a.layout.cell(c),h=a.layout.cell(e);if(!(f.layer<=h.layer)){var h=Math.round(a.layerWidth/2+a.xlayer(h.layer))-0.5,f=Math.round(-a.layerWidth/2+a.xlayer(f.layer))-0.5,e=a.ynode(e)+a.ydiagonal(b.id,
e.graph.edges.positives(e)),c=a.ynode(c)+a.nheight(c.data.entry)+a.ydiagonal(b.id,c.graph.edges.negatives(c)),g=a.nheight(b.weight),m=new p.DiagonalArea(k,"fill fill-"+a.styleEdgeForward,"stroke stroke-"+a.styleEdgeForward);m.update(h,e,f,c,g,g);if(null!=a.edgeClass){var i=a.edgeClass({head:b.head.data,tail:b.tail.data,edgeweight:b.weight},a.dependentVariable.stats);null!=i&&m.addClass(i)}a.addToMap(b.id,"edge",m.g);m.g.onNode("mouseover",function(a,b,c,e){return function(f,h){return a(b,c,e,f,h)}}(y(a,
a.onmouseoveredge),(h+f)/2,(e+c+g)/2,b));aa.storeColorForSelection(m.g,"fill",m.area.style("fill").get());if(null!=a.clickEdge)m.g.onNode("click",function(a,b){return function(c,e){return a(b,c,e)}}(y(a,a.edgeClickWithEdge),b))}}});this.layout.each(function(b,c){if(!(0>=c.data.exit||0>=a.extraWidth||null!=a.displayExit&&!a.displayExit(c.data,a.dependentVariable.stats))){var e=new p.ElbowArea(k,"fill fill-"+a.styleexit,"stroke stroke-"+a.styleexit),f=a.nheight(c.data.exit),h=a.layerWidth/2+a.xlayer(b.layer),
g=a.ynode(c)+a.ydiagonal(null,c.graph.edges.positives(c)),m=Math.max(0,Math.min(f-3,a.extraRadius));e.update(p.Orientation.RightBottom,f,h,g+f,m,a.extraWidth,0,a.extraHeight);if(null!=a.labelEdge){var i,j=a.labelEdge({tail:c,head:null,nodeweight:c.data.weight,edgeweight:c.data.exit},a.dependentVariable.stats);i=new p.Label(k,!0,!0,!1);i.addClass("edge");i.place(h,g+f/2,0);i.set_anchor(p.GridAnchor.Left);i.set_text(j);i.getSize().height>0.75*f&&i.destroy()}e.g.onNode("mouseover",function(a,b,c,e){return function(f,
h){return a(b,c,e,f,h)}}(y(a,a.onmouseoverexit),h+m+(-m+Math.min(a.extraWidth,f))/2,a.ynode(c)+a.hnode(c)+m+a.extraHeight,c));null!=a.edgeClass&&(f=a.edgeClass({head:null,tail:c.data,edgeweight:c.data.exit},a.dependentVariable.stats),null!=f&&e.addClass(f));aa.storeColorForSelection(e.g,"fill",e.area.style("fill").get());if(null!=a.clickEdge)e.g.onNode("click",function(a,b,c){return function(e,f){return a(b,c,e,f)}}(y(a,a.edgeClickWithNode),c,!0));a.addToMap(c.id,"exit",e.g)}});this.layout.each(function(b,
c){if(!(0>=c.data.entry||0>=a.extraWidth||null!=a.displayEntry&&!a.displayEntry(c.data,a.dependentVariable.stats))){var e=new p.ElbowArea(k,"fill fill-"+a.styleentry,"stroke stroke-"+a.styleentry),f=a.nheight(c.data.entry),h=Math.max(0,Math.min(f-3,a.extraRadius)),g=-a.layerWidth/2+a.xlayer(b.layer);e.update(p.Orientation.LeftTop,f,g,a.ynode(c),h,a.extraWidth,0,a.extraHeight);if(null!=a.labelEdge){var m,i=a.labelEdge({tail:null,head:c,nodeweight:c.data.weight,edgeweight:c.data.entry},a.dependentVariable.stats);
m=new p.Label(k,!0,!0,!1);m.addClass("edge");m.place(g,a.ynode(c)+f/2,0);m.set_anchor(p.GridAnchor.Right);m.set_text(i);m.getSize().height>0.75*f&&m.destroy()}e.g.onNode("mouseover",function(a,b,c,e){return function(f,h){return a(b,c,e,f,h)}}(y(a,a.onmouseoverentry),g-h+(h-Math.min(a.extraWidth,f))/2,a.ynode(c)-h-a.extraHeight,c));null!=a.edgeClass&&(f=a.edgeClass({head:c.data,tail:null,edgeweight:c.data.entry},a.dependentVariable.stats),null!=f&&e.addClass(f));aa.storeColorForSelection(e.g,"fill",
e.area.style("fill").get());if(null!=a.clickEdge)e.g.onNode("click",function(a,b,c){return function(e,f){return a(b,c,e,f)}}(y(a,a.edgeClickWithNode),c,!1));a.addToMap(c.id,"entry",e.g)}});null!=this.labelEdge&&N.each(ra(b)(),function(b){if(!(0>=b.weight)){var c=b.tail;if(!a.isdummy(c)){var e=a.layout.cell(c),f=a.nheight(b.weight),h,g=a.labelEdge(a.edgeData(b),a.dependentVariable.stats);h=new p.Label(k,!0,!0,!1);h.addClass("edge");h.place(a.layerWidth/2+a.xlayer(e.layer)+2,a.ynode(c)+a.ydiagonal(b.id,
c.graph.edges.positives(c))+f/2,0);h.set_anchor(p.GridAnchor.Left);h.set_text(g);h.getSize().height>0.75*f&&h.destroy()}}});b=this.g.selectAll("g.layer").data(this.layout.layers()).enter().append("svg:g").attr("class").string("layer").append("svg:line").attr("class").stringf(function(a,b){return"rule rule-"+b}).attr("x1")["float"](0).attr("x2")["float"](0).attr("y1")["float"](0).attr("y2")["float"](this.height).update().attr("transform").stringf(function(b,c){return"translate("+a.xlayer(c)+",0)"}).exit().remove().update().selectAll("g.node").dataf(function(b,
c){return a.layout.layer(c)});c=b.enter().append("svg:g").attr("class").string("node");0<this.layerWidth&&(f=c.append("svg:rect").attr("class").stringf(function(b){return"fill fill-"+(a.isdummy(b)?a.styleEdgeForward+" nonode":a.styleNode+" node")}).attr("x")["float"](-this.layerWidth/2).attr("y")["float"](0).attr("width")["float"](Math.round(this.layerWidth)).attr("height").floatf(y(this,this.hnode)),c.each(function(b){a.addToMap(b.id,"node",U.selectNode(wa.current));null!=a.nodeClass&&(b=a.nodeClass(b.data,
a.dependentVariable.stats),null!=b&&U.selectNode(wa.current).classed().add(b))}),aa.storeColorForSelection(c,"fill",f.style("fill").get()),c.append("svg:line").attr("class").stringf(function(b){return"node stroke stroke-"+(a.isdummy(b)?a.styleEdgeForward:a.styleNode)}).attr("x1")["float"](-this.layerWidth/2).attr("y1")["float"](0).attr("x2")["float"](this.layerWidth/2).attr("y2")["float"](0),c.append("svg:line").attr("class").stringf(function(b){return"node stroke stroke-"+(a.isdummy(b)?a.styleEdgeForward:
a.styleNode)}).attr("x1")["float"](-this.layerWidth/2).attr("y1").floatf(y(this,this.hnode)).attr("x2")["float"](this.layerWidth/2).attr("y2").floatf(y(this,this.hnode)));b.update().attr("transform").stringf(function(b){return"translate(0,"+a.ynode(b)+")"});c.each(function(b){var c=U.selectNode(wa.current);if(!a.isdummy(b)){var e=a.hnode(b),f;if(null!=a.labelDataPoint)for(var h=a.labelDataPoint(b.data.dp,a.dependentVariable.stats).split("\n"),g=null,m,i=0,k=0,j=h.length;k<j;){i=k++;m=h[i];f=new p.Label(c,
!0,!0,!1);f.addClass("node");0==i&&f.addClass("first");i=3;null!=g&&(i+=g.y+g.getSize().height);f.place(-a.layerWidth/2+6,i,0);f.set_anchor(p.GridAnchor.TopLeft);f.set_text(m);if(f.y+f.getSize().height>e){f.destroy();break}g=f}e=!1;null!=a.imagePath&&!a.isdummy(b)&&(f=a.imagePath(b.data.dp),null!=f&&(e=!0,c.append("svg:g").attr("transform").string("translate("+Math.round(-a.imageWidth/2)+","+Math.round(-a.imageHeight-a.imageSpacing)+")").append("svg:image").attr("preserveAspectRatio").string("xMidYMid slice").attr("width")["float"](a.imageWidth).attr("height")["float"](a.imageHeight).attr("xlink:href").string(f)));
null!=a.labelNode&&(f=e?new p.Label(c,!0,!0,!0):new p.Label(c,!0,!1,!1),f.set_anchor(p.GridAnchor.Bottom),f.place(0,-a.labelNodeSpacing,0),f.set_text(a.labelNode(b.data.dp,a.dependentVariable.stats)))}});c.each(function(b){var c=U.selectNode(wa.current);c.onNode("mouseover",function(a,b){return function(c,e){return a(b,c,e)}}(y(a,a.onmouseovernode),b));if(null!=a.click)c.onNode("click",function(a,b){return function(c,e){return a(b,c,e)}}(y(a,a.nodeclick),b))});this.ready.dispatch()},data:function(a){var b=
this;this.layout=a.clone();for(var a=N.filter(ra(N.filter(this.layout.graph.nodes.iterator(),function(a){return b.isdummy(a)}))(),function(a){a=a.graph.edges.positives(a).next();if(null==a)return!1;var c=b.layout.cell(a.head);return b.layout.cell(a.tail).layer>c.layer}),c=this.layout.layers(),e=0;e<a.length;){var f=a[e];++e;var h=this.layout.cell(f),g=f.graph.edges.positives(f).next(),i=f.graph.edges.negatives(f).next();c[h.layer].splice(h.position,1);this.layout.graph.edges.create(i.tail,g.head,
g.weight,g.data);f.graph.nodes._remove(f)}this.redraw()},setVariables:function(a,b){this.dependentVariable=b[0]},maphi:null,mapelements:null,dependentVariable:null,styleEdgeForward:null,styleEdgeBackward:null,styleexit:null,styleentry:null,styleNode:null,layerstarty:null,padAfter:null,padBefore:null,availableheight:null,maxweight:null,layout:null,displayExit:null,displayEntry:null,edgeClass:null,nodeClass:null,clickEdge:null,imagePath:null,labelNode:null,labelEdgeOver:null,labelEdge:null,thinbackedges:null,
stackbackedges:null,labelNodeSpacing:null,imageSpacing:null,imageHeight:null,imageWidth:null,extraRadius:null,extraHeight:null,backEdgeSpacing:null,extraWidth:null,dummySpacing:null,nodeSpacing:null,layerWidth:null,__class__:s.Sankey});s.ScatterGraph=function(a){s.CartesianChart.call(this,a);this.addClass("scatter-graph");this.chart=this.g.append("svg:g")};j["rg.svg.chart.ScatterGraph"]=s.ScatterGraph;s.ScatterGraph.__name__=["rg","svg","chart","ScatterGraph"];s.ScatterGraph.__super__=s.CartesianChart;
s.ScatterGraph.prototype=H(s.CartesianChart.prototype,{onclick:function(a,b){this.click(b,a)},onmouseover:function(a,b){var c=this.labelDataPointOver(l.field(b,"__dhx_data__"),a);if(null==c)this.tooltip.hide();else{var e=U.selectNode(b),e=s.Coords.fromTransform(e.attr("transform").get());this.tooltip.html(c.split("\n").join("<br>"));this.moveTooltip(e[0],e[1],null)}},getTranslatePointf:function(a){var b=y(this,this.x),c=this.getY1(a);return function(a,f){return"translate("+b(a)+","+c(a,f)+")"}},redraw:function(){if(!(null==
this.dps||null==this.dps[0]||null==this.dps[0][0])){var a=this.chart.selectAll("g.group").data(this.dps);a.enter().append("svg:g").attr("class").stringf(function(a,b){return"group group-"+b});a.exit().remove();for(var a=0,b=this.dps.length;a<b;){var c=a++,e=this.dps[c],f=this.chart.select("g.group-"+c),h=[this.yVariables[c].stats],e=f.selectAll("g.symbol").data(e),f=function(){return function(a,b){return function(){return function(c,e){return a(b,c,e)}}()}}()(y(this,this.onclick),h[0]),g=function(){return function(a,
b){return function(){return function(c,e){return a(b,c,e)}}()}}()(y(this,this.onmouseover),h[0]),i=e.enter().append("svg:g").attr("class").stringf(this.classf(c,"symbol")).attr("transform").stringf(this.getTranslatePointf(c));if(null!=this.click)i.on("click",f);if(null!=this.labelDataPointOver)i.onNode("mouseover",g);V.SVGSymbolBuilder.generate(i,h[0],this.symbol,this.symbolStyle);null!=this.labelDataPoint&&i.eachNode(function(a,b){return function(c){var e=l.field(c,"__dhx_data__");(new p.Label(U.selectNode(c),
!0,!0,!0)).set_text(a[0](e,b[0]))}}([this.labelDataPoint],h));e.update().selectAll("g.symbol").dataf(function(){return function(a){return a}}()).update().attr("transform").stringf(this.getTranslatePointf(c));e.exit().remove()}this.ready.dispatch()}},resize:function(){s.CartesianChart.prototype.resize.call(this);this.redraw()},data:function(a){this.dps=a;this.redraw()},classf:function(a,b){return function(){return b+" stroke-"+a+" fill-"+a}},getY1:function(a){var b=this.height,c=this.yVariables[a];
return function(a){a=l.field(a,c.type);a=c.axis.scale(c.min(),c.max(),a)*b;return b-a}},x:function(a){a=l.field(a,this.xVariable.type);return this.xVariable.axis.scale(this.xVariable.min(),this.xVariable.max(),a)*this.width},dps:null,chart:null,symbolStyle:null,symbol:null,__class__:s.ScatterGraph});s.StreamEffect={__ename__:["rg","svg","chart","StreamEffect"],__constructs__:["NoEffect","GradientHorizontal","GradientVertical"]};s.StreamEffect.NoEffect=["NoEffect",0];s.StreamEffect.NoEffect.toString=
v;s.StreamEffect.NoEffect.__enum__=s.StreamEffect;s.StreamEffect.GradientHorizontal=function(a){a=["GradientHorizontal",1,a];a.__enum__=s.StreamEffect;a.toString=v;return a};s.StreamEffect.GradientVertical=function(a){a=["GradientVertical",2,a];a.__enum__=s.StreamEffect;a.toString=v;return a};s.StreamEffects=function(){};j["rg.svg.chart.StreamEffects"]=s.StreamEffects;s.StreamEffects.__name__=["rg","svg","chart","StreamEffects"];s.StreamEffects.getLightness=function(a,b){return null==a?b:n.parseFloat(a)};
s.StreamEffects.parse=function(a){a=a.toLowerCase().split(":");switch(a.shift()){case "gradient":return s.StreamEffect.GradientVertical(s.StreamEffects.getLightness(a.pop(),0.75));case "gradientv":return s.StreamEffect.GradientVertical(s.StreamEffects.getLightness(a.pop(),0.75));case "gradientvert":return s.StreamEffect.GradientVertical(s.StreamEffects.getLightness(a.pop(),0.75));case "gradientvertical":return s.StreamEffect.GradientVertical(s.StreamEffects.getLightness(a.pop(),0.75));case "gradienth":return s.StreamEffect.GradientHorizontal(s.StreamEffects.getLightness(a.pop(),
0.75));case "gradienthoriz":return s.StreamEffect.GradientHorizontal(s.StreamEffects.getLightness(a.pop(),0.75));case "gradienthorizontal":return s.StreamEffect.GradientHorizontal(s.StreamEffects.getLightness(a.pop(),0.75));default:return s.StreamEffect.NoEffect}};s.StreamGraph=function(a){s.CartesianChart.call(this,a);this.interpolator=q.LineInterpolator.Cardinal(0.6);this.gradientLightness=0.75;this.gradientStyle=1};j["rg.svg.chart.StreamGraph"]=s.StreamGraph;s.StreamGraph.__name__=["rg","svg",
"chart","StreamGraph"];s.StreamGraph.__super__=s.CartesianChart;s.StreamGraph.prototype=H(s.CartesianChart.prototype,{applyGradientH:function(a){for(var b=U.selectNode(wa.current),c=g.Hsl.toHsl(aa.parse(b.style("fill").get(),"#cccccc")),e="rg_stream_gradient_v_"+s.StreamGraph.vid++,f=this.defs.append("svg:linearGradient").attr("gradientUnits").string("objectBoundingBox").attr("class").string("x").attr("id").string(e).attr("x1").string("0%").attr("x2").string("100%").attr("y1").string("0%").attr("y2").string("0%"),
h=a[0].coord.x,m=a[a.length-1].coord.x-h,i=B.floatMax(a,function(a){return a.coord.y}),j=0,k=a.length;j<k;){var w=j++,w=a[w],l=aa.applyLightness(c,this.gradientLightness,w.coord.y/i);f.append("svg:stop").attr("offset").string(Math.round(1E4*((w.coord.x-h)/m))/100+"%").attr("stop-color").string(l.hex("#")).attr("stop-opacity")["float"](1)}b.attr("style").string("fill:url(#"+e+")")},applyGradientV:function(){var a=U.selectNode(wa.current),b=aa.parse(a.style("fill").get(),"#cccccc"),c="rg_stream_gradient_h_"+
b.hex("");if(this.defs.select("#"+c).empty()){var e=aa.applyLightness(g.Hsl.toHsl(b),this.gradientLightness).toRgbString(),f=this.defs.append("svg:linearGradient").attr("gradientUnits").string("objectBoundingBox").attr("id").string(c).attr("x1").string("0%").attr("x2").string("0%").attr("y1").string("100%").attr("y2").string("0%").attr("spreadMethod").string("pad");f.append("svg:stop").attr("offset").string("0%").attr("stop-color").string(e).attr("stop-opacity")["float"](1);f.append("svg:stop").attr("offset").string("100%").attr("stop-color").string(b.toRgbString()).attr("stop-opacity")["float"](1)}a.attr("style").string("fill:url(#"+
c+")")},prepareData:function(){var a=this;this.defs.selectAll("linearGradient.h").remove();var b=function(a,b,c){return function(e){return a(b,c,e)}}((P=this.xVariable.axis,y(P,P.scale)),this.xVariable.min(),this.xVariable.max()),c=this.xVariable.type,e=function(a,b,c){return function(e){return a(b,c,e)}}((P=this.yVariables[0].axis,y(P,P.scale)),this.yVariables[0].min(),this.yVariables[0].max()),f=this.yVariables[0].type,h=B.floatMax(this.dps,function(a){return a.length})|0,g=this.dps.map(function(g){return O.range(0,
h).map(function(h,m){var i=g[m];if(null==i){a:{for(var i=0,j=a.dps.length;i<j;){var n=i++;if(null!=a.dps[n][m]){i=a.dps[n][m];break a}}i=null}i={x:b(l.field(i,c)),y:0}}else i={x:b(l.field(i,c)),y:Math.max(0,e(l.field(i,f)))};return i})}),g=(new T.layout.Stack).offset(T.layout.StackOffset.Silhouette).order(T.layout.StackOrder.DefaultOrder).stack(g);this.transformedData=g.map(function(b,c){return b.map(function(b,e){return{coord:b,dp:a.dps[c][e]}})});this.stats=this.yVariables[0].stats;this.maxy=B.floatMax(g,
function(a){return B.floatMax(a,function(a){return a.y0+a.y})});this.area=(new q.Area).interpolator(this.interpolator).x(function(b){return b.coord.x*a.width}).y0(function(b){return a.height-b.coord.y0*a.height/a.maxy}).y1(function(b){return a.height-(b.coord.y+b.coord.y0)*a.height/a.maxy})},onclick:function(a,b){null!=this.click&&this.click(this.getDataAtNode(a,b).dp,this.stats)},onover:function(a,b){if(null!=this.labelDataPointOver){var c=this.getDataAtNode(a,b);this.tooltip.html(this.labelDataPointOver(c.dp,
this.stats).split("\n").join("<br>"));this.moveTooltip(c.coord.x*this.width,this.height-(c.coord.y+c.coord.y0)*this.height/this.maxy,aa.extractColor(a))}},getDataAtNode:function(a,b){var c=$c.mouse(a)[0],c=D.uninterpolatef(this.transformedData[b][0].coord.x,B.last(this.transformedData[b]).coord.x)(c/this.width);l.field(a,"__dhx_data__");return B.nearest(this.transformedData[b],c,function(a){return a.coord.x})},redraw:function(){if(null!=this.transformedData){var a=this.g.selectAll("g.group").data(this.transformedData);
a.update().select("path.line").attr("d").stringf((P=this.area,y(P,P.shape)));var b=a.enter().append("svg:g").attr("class").string("group").append("svg:path").attr("class").stringf(function(a,b){return"line fill-"+b+" stroke-"+b}).attr("d").stringf((P=this.area,y(P,P.shape))).onNode("mousemove",y(this,this.onover)).onNode("click",y(this,this.onclick));aa.storeColorForSelection(b);0!=this.gradientStyle&&b.each(1==this.gradientStyle?y(this,this.applyGradientV):y(this,this.applyGradientH));a.exit().remove();
this.ready.dispatch()}},data:function(a){this.dps=a;this.prepareData();this.redraw()},setVariables:function(a,b,c,e){s.CartesianChart.prototype.setVariables.call(this,a,b,c,e)},init:function(){s.CartesianChart.prototype.init.call(this);this.defs=this.g.append("svg:defs");this.g.classed().add("stream-chart")},maxy:null,defs:null,stats:null,transformedData:null,area:null,dps:null,gradientStyle:null,gradientLightness:null,interpolator:null,__class__:s.StreamGraph});Ka={RulesOrtho:function(a,b){X.Layer.call(this,
a);this.orientation=b;this.displayAnchorLine=this.displayMajor=this.displayMinor=!0;this.g.classed().add("tickmarks")}};j["rg.svg.layer.RulesOrtho"]=Ka.RulesOrtho;Ka.RulesOrtho.__name__=["rg","svg","layer","RulesOrtho"];Ka.RulesOrtho.__super__=X.Layer;Ka.RulesOrtho.prototype=H(X.Layer.prototype,{tickClass:function(a){return a.get_major()?"major":null},y2Vertical:function(){return this.height},y2Horizontal:function(){return 0},x2Vertical:function(){return 0},x2Horizontal:function(){return this.width},
y1Vertical:function(){return 0},y1Horizontal:function(){return 0},x1Vertical:function(){return 0},x1Horizontal:function(){return 0},translateVertical:function(a){return"translate("+a.get_delta()*this.width+",0)"},translateHorizontal:function(a){return"translate(0,"+(this.height-a.get_delta()*this.height)+")"},t:function(a,b){return"translate("+a+","+b+")"},init:function(){this.initf();this.displayAnchorLine&&(this.g.append("svg:line").attr("class").string("anchor-line"),this.updateAnchorLine())},
initf:function(){switch(this.orientation[1]){case 1:this.translate=y(this,this.translateHorizontal);this.x1=y(this,this.x1Horizontal);this.y1=y(this,this.y1Horizontal);this.x2=y(this,this.x2Horizontal);this.y2=y(this,this.y2Horizontal);break;case 0:this.translate=y(this,this.translateVertical),this.x1=y(this,this.x1Vertical),this.y1=y(this,this.y1Vertical),this.x2=y(this,this.x2Vertical),this.y2=y(this,this.y2Vertical)}},redraw:function(){var a=this.axis.ticks(this.min,this.max,this.maxTicks()),a=
this.g.selectAll("g.rule").data(a,y(this,this.id)),b=a.enter().append("svg:g").attr("class").string("rule").attr("transform").stringf(this.translate);this.displayMinor&&b.filter(function(a){return!a.major}).append("svg:line").attr("x1").floatf(this.x1).attr("y1").floatf(this.y1).attr("x2").floatf(this.x2).attr("y2").floatf(this.y2).attr("class").stringf(y(this,this.tickClass));this.displayMajor&&b.filter(function(a){return a.major}).append("svg:line").attr("x1").floatf(this.x1).attr("y1").floatf(this.y1).attr("x2").floatf(this.x2).attr("y2").floatf(this.y2).attr("class").stringf(y(this,
this.tickClass));a.update().attr("transform").stringf(this.translate);a.exit().remove()},id:function(a){return""+n.string(a.get_value())},maxTicks:function(){var a;switch(this.orientation[1]){case 1:a=this.width;break;case 0:a=this.height}return Math.round(a/2.5)},updateAnchorLine:function(){var a=this.g.select("line.anchor-line");switch(this.orientation[1]){case 1:a.attr("x1")["float"](0).attr("y1")["float"](0).attr("x2")["float"](0).attr("y2")["float"](this.height);break;case 0:a.attr("x1")["float"](0).attr("y1")["float"](this.height).attr("x2")["float"](this.width).attr("y2")["float"](this.height)}},
update:function(a,b,c){this.axis=a;this.min=b;this.max=c;this.redraw()},resize:function(){null!=this.axis&&(this.displayAnchorLine&&this.updateAnchorLine(),this.redraw())},max:null,min:null,axis:null,y:null,x:null,y2:null,x2:null,y1:null,x1:null,translate:null,displayAnchorLine:null,displayMajor:null,displayMinor:null,orientation:null,__class__:Ka.RulesOrtho});Ka.TickmarksOrtho=function(a,b){X.Layer.call(this,a);this.anchor=b;this.displayLabel=this.displayMajor=this.displayMinor=!0;this.displayAnchorLine=
!1;this.lengthMinor=2;this.lengthMajor=5;this.paddingMajor=this.paddingMinor=1;this.paddingLabel=10;this.g.classed().add("tickmarks")};j["rg.svg.layer.TickmarksOrtho"]=Ka.TickmarksOrtho;Ka.TickmarksOrtho.__name__=["rg","svg","layer","TickmarksOrtho"];Ka.TickmarksOrtho.__super__=X.Layer;Ka.TickmarksOrtho.prototype=H(X.Layer.prototype,{tickClass:function(a){return a.get_major()?"major":null},y2Right:function(){return 0},y2Left:function(){return 0},y2Bottom:function(a){return-(a.get_major()?this.lengthMajor+
this.paddingMajor:this.lengthMinor+this.paddingMinor)},y2Top:function(a){return a.get_major()?this.lengthMajor+this.paddingMajor:this.lengthMinor+this.paddingMinor},x2Right:function(a){return-(a.get_major()?this.lengthMajor+this.paddingMajor:this.lengthMinor+this.paddingMinor)},x2Left:function(a){return a.get_major()?this.lengthMajor+this.paddingMajor:this.lengthMinor+this.paddingMinor},x2Bottom:function(){return 0},x2Top:function(){return 0},y1Right:function(){return 0},y1Left:function(){return 0},
y1Bottom:function(a){return-(a.get_major()?this.paddingMajor:this.paddingMinor)},y1Top:function(a){return a.get_major()?this.paddingMajor:this.paddingMinor},x1Right:function(a){return-(a.get_major()?this.paddingMajor:this.paddingMinor)},x1Left:function(a){return a.get_major()?this.paddingMajor:this.paddingMinor},x1Bottom:function(){return 0},x1Top:function(){return 0},translateRight:function(a){return"translate("+this.panel.frame.width+","+(this.panel.frame.height-a.get_delta()*this.panel.frame.height)+
")"},translateLeft:function(a){return"translate(0,"+(this.panel.frame.height-a.get_delta()*this.panel.frame.height)+")"},translateBottom:function(a){return"translate("+a.get_delta()*this.panel.frame.width+","+this.panel.frame.height+")"},translateTop:function(a){return"translate("+a.get_delta()*this.panel.frame.width+",0)"},t:function(a,b){return"translate("+a+","+b+")"},init:function(){this.initf();this.displayAnchorLine&&(this.g.append("svg:line").attr("class").string("anchor-line"),this.updateAnchorLine())},
initf:function(){switch(this.anchor[1]){case 0:this.translate=y(this,this.translateTop);this.x1=y(this,this.x1Top);this.y1=y(this,this.y1Top);this.x2=y(this,this.x2Top);this.y2=y(this,this.y2Top);break;case 1:this.translate=y(this,this.translateBottom);this.x1=y(this,this.x1Bottom);this.y1=y(this,this.y1Bottom);this.x2=y(this,this.x2Bottom);this.y2=y(this,this.y2Bottom);break;case 2:this.translate=y(this,this.translateLeft);this.x1=y(this,this.x1Left);this.y1=y(this,this.y1Left);this.x2=y(this,this.x2Left);
this.y2=y(this,this.y2Left);break;case 3:this.translate=y(this,this.translateRight),this.x1=y(this,this.x1Right),this.y1=y(this,this.y1Right),this.x2=y(this,this.x2Right),this.y2=y(this,this.y2Right)}if(null==this.labelOrientation){var a;switch(this.anchor[1]){case 0:this.labelOrientation=p.LabelOrientation.Orthogonal;break;case 1:this.labelOrientation=p.LabelOrientation.Orthogonal;break;case 2:this.labelOrientation=p.LabelOrientation.Aligned;break;case 3:this.labelOrientation=p.LabelOrientation.Aligned}}else if(null==
this.labelAnchor)switch(this.labelOrientation[1]){case 1:switch(this.anchor[1]){case 0:this.labelAnchor=p.GridAnchor.Left;break;case 2:this.labelAnchor=p.GridAnchor.Left;break;case 1:this.labelAnchor=p.GridAnchor.Right;break;case 3:this.labelAnchor=p.GridAnchor.Right}break;case 2:switch(this.anchor[1]){case 0:this.labelAnchor=p.GridAnchor.Top;break;case 2:this.labelAnchor=p.GridAnchor.Top;break;case 1:this.labelAnchor=p.GridAnchor.Bottom;break;case 3:this.labelAnchor=p.GridAnchor.Bottom}}if(null==
this.labelAnchor)switch(this.anchor[1]){case 0:this.labelAnchor=p.GridAnchor.Top;break;case 1:this.labelAnchor=p.GridAnchor.Bottom;break;case 2:this.labelAnchor=p.GridAnchor.Left;break;case 3:this.labelAnchor=p.GridAnchor.Right}if(null==this.labelAngle)switch(this.anchor[1]){case 0:this.labelAngle=90;break;case 1:this.labelAngle=90;break;case 2:this.labelAngle=0;break;case 3:this.labelAngle=0}},createLabel:function(a){var b=l.field(a,"__dhx_data__");if(b.get_major()){a=new p.Label(U.selectNode(a),
!1,!1,!1);a.set_anchor(this.labelAnchor);a.set_orientation(this.labelOrientation);var c=this.paddingLabel;a.set_text(null==this.tickLabel?b.get_label():this.tickLabel(b.get_value()));switch(this.anchor[1]){case 0:a.place(0,c,this.labelAngle);break;case 1:a.place(0,-c,this.labelAngle);break;case 2:a.place(c,0,this.labelAngle);break;case 3:a.place(-c,0,this.labelAngle)}var e;switch(this.anchor[1]){case 0:e=a.getSize().height+c;break;case 1:e=a.getSize().height+c;break;case 2:e=a.getSize().width+c;break;
case 3:e=a.getSize().width+c}b=e;if(b>this.desiredSize)this.desiredSize=b}},redraw:function(){this.desiredSize=Math.max(this.paddingMinor+this.lengthMinor,this.paddingMajor+this.lengthMajor);var a=this.axis.ticks(this.min,this.max,this.maxTicks()),a=this.g.selectAll("g.tick").data(a,y(this,this.id)),b=a.enter().append("svg:g").attr("class").string("tick").attr("transform").stringf(this.translate);this.displayMinor&&b.filter(function(a){return!a.major}).append("svg:line").attr("x1").floatf(this.x1).attr("y1").floatf(this.y1).attr("x2").floatf(this.x2).attr("y2").floatf(this.y2).attr("class").stringf(y(this,
this.tickClass));this.displayMajor&&b.filter(function(a){return a.major}).append("svg:line").attr("x1").floatf(this.x1).attr("y1").floatf(this.y1).attr("x2").floatf(this.x2).attr("y2").floatf(this.y2).attr("class").stringf(y(this,this.tickClass));this.displayLabel&&b.eachNode(y(this,this.createLabel));a.update().attr("transform").stringf(this.translate);a.exit().remove()},id:function(a){return""+n.string(a.get_value())},maxTicks:function(){var a;switch(this.anchor[1]){case 2:a=this.height;break;case 3:a=
this.height;break;case 0:a=this.width;break;case 1:a=this.width}return Math.round(a/2.5)},updateAnchorLine:function(){var a=this.g.select("line.anchor-line");switch(this.anchor[1]){case 0:a.attr("x1")["float"](0).attr("y1")["float"](0).attr("x2")["float"](this.panel.frame.width).attr("y2")["float"](0);break;case 1:a.attr("x1")["float"](0).attr("y1")["float"](this.panel.frame.height).attr("x2")["float"](this.panel.frame.width).attr("y2")["float"](this.panel.frame.height);break;case 2:a.attr("x1")["float"](0).attr("y1")["float"](0).attr("x2")["float"](0).attr("y2")["float"](this.panel.frame.height);
break;case 3:a.attr("x1")["float"](this.panel.frame.width).attr("y1")["float"](0).attr("x2")["float"](this.panel.frame.width).attr("y2")["float"](this.panel.frame.height)}},update:function(a,b,c){this.axis=a;this.min=b;this.max=c;this.redraw()},resize:function(){null!=this.axis&&(this.displayAnchorLine&&this.updateAnchorLine(),this.redraw())},max:null,min:null,axis:null,y:null,x:null,y2:null,x2:null,y1:null,x1:null,translate:null,tickLabel:null,desiredSize:null,labelAngle:null,labelAnchor:null,labelOrientation:null,
paddingLabel:null,paddingMajor:null,paddingMinor:null,lengthMajor:null,lengthMinor:null,displayAnchorLine:null,displayLabel:null,displayMajor:null,displayMinor:null,anchor:null,__class__:Ka.TickmarksOrtho});Ka.Title=function(a,b,c,e,f,h,g){null==g&&(g=!1);null==h&&(h=!1);null==f&&(f="title");null==e&&(e=1);X.Layer.call(this,a);this.addClass(f);this.group=this.g.append("svg:g");this.label=new p.Label(this.group,!1,h,g);this.label.set_orientation(p.LabelOrientation.Orthogonal);this.set_anchor(c);this.set_padding(e);
this.set_text(b);this.resize()};j["rg.svg.layer.Title"]=Ka.Title;Ka.Title.__name__=["rg","svg","layer","Title"];Ka.Title.__super__=X.Layer;Ka.Title.prototype=H(X.Layer.prototype,{set_padding:function(a){this.padding=a;switch(this.anchor[1]){case 0:this.label.place(0,0,90);break;case 1:this.label.place(0,0,90);break;case 2:this.label.place(0,0,180);break;case 3:this.label.place(0,0,0)}return a},set_anchor:function(a){switch((this.anchor=a)[1]){case 0:this.label.set_anchor(p.GridAnchor.Top);break;case 1:this.label.set_anchor(p.GridAnchor.Bottom);
break;case 2:this.label.set_anchor(p.GridAnchor.Bottom);break;case 3:this.label.set_anchor(p.GridAnchor.Bottom)}return a},set_text:function(a){return this.label.set_text(a)},get_text:function(){return this.label.text},resize:function(){if(!(null==this.anchor||null==this.width||null==this.padding))switch(this.anchor[1]){case 0:this.group.attr("transform").string("translate("+this.width/2+","+this.padding+")");break;case 3:this.group.attr("transform").string("translate("+(this.width-this.padding)+","+
this.height/2+")");break;case 2:this.group.attr("transform").string("translate("+this.padding+","+this.height/2+")");break;case 1:this.group.attr("transform").string("translate("+this.width/2+","+(this.height-this.padding)+")")}},idealHeight:function(){var a=this.label.getSize();return Math.round(function(b){var c;switch(b.anchor[1]){case 2:c=a.width+b.padding;break;case 3:c=a.width+b.padding;break;case 0:c=a.height+b.padding;break;case 1:c=a.height+b.padding}return c}(this))},group:null,label:null,
padding:null,anchor:null,__class__:Ka.Title,__properties__:H(X.Layer.prototype.__properties__,{set_text:"set_text",get_text:"get_text",set_anchor:"set_anchor",set_padding:"set_padding"})});X.Panel=function(a){this.frame=a;a.change=y(this,this.reframe);this._layers=[]};j["rg.svg.panel.Panel"]=X.Panel;X.Panel.__name__=["rg","svg","panel","Panel"];X.Panel.prototype={reframe:function(){this.g.attr("transform").string("translate("+this.frame.x+","+this.frame.y+")");for(var a,b=0,c=this._layers.length;b<
c;)a=this._layers[b++],a._resize()},init:function(a){this.g=a.append("svg:g").attr("class").string("panel").attr("transform").string("translate("+this.frame.x+","+this.frame.y+")")},setParent:function(a){null!=this.g&&this.g.remove();this.parent=a;null!=a&&this.init(a.g)},removeLayer:function(a){u.remove(this._layers,a)},addLayer:function(a){u.remove(this._layers,a);this._layers.push(a)},toString:function(){return K.getClassName(K.getClass(this)).split(".").pop()},_layers:null,parent:null,g:null,
frame:null,__class__:X.Panel};X.Container=function(a,b){X.Panel.call(this,a);this.stack=new Od(a.width,a.height,b);this.panels=[]};j["rg.svg.panel.Container"]=X.Container;X.Container.__name__=["rg","svg","panel","Container"];X.Container.__super__=X.Panel;X.Container.prototype=H(X.Panel.prototype,{reframe:function(){X.Panel.prototype.reframe.call(this);this.stack.setSize(this.frame.width,this.frame.height);this.stack.reflow()},createContainerAt:function(a,b,c){b=new X.Container(new pb(b),c);this.insertPanel(a,
b);return b},createPanelAt:function(a,b){var c=new X.Panel(new pb(b));this.insertPanel(a,c);return c},createContainer:function(a,b){var c=new X.Container(new pb(a),b);this.addPanel(c);return c},createPanel:function(a){a=new X.Panel(new pb(a));this.addPanel(a);return a},removePanel:function(a){if(!u.remove(this.panels,a))return this;this.stack.removeChild(I.__cast(a.frame,pb));a.setParent(null);return this},addPanels:function(a){for(var b=[],a=ra(a)();a.hasNext();){var c=a.next();null!=c&&(null!=c.parent&&
c.parent.removePanel(c),this.panels.push(c),c.setParent(this),b.push(I.__cast(c.frame,pb)))}this.stack.addItems(b);return this},addPanel:function(a){return this.addPanels([a])},insertPanel:function(a,b){if(null==b)return this;if(a>=this.stack.get_length())return this.addPanel(b);0>a&&(a=0);null!=b.parent&&b.parent.removePanel(b);this.panels.splice(a,0,b);b.setParent(this);this.stack.insertItem(a,I.__cast(b.frame,pb));return this},panels:null,stack:null,__class__:X.Container});X.Panels=function(){};
j["rg.svg.panel.Panels"]=X.Panels;X.Panels.__name__=["rg","svg","panel","Panels"];X.Panels.rootSize=function(a){for(var b=a.parent;null!=b;)var c=b,b=a.parent,a=c;return{width:a.frame.width,height:a.frame.height}};X.Panels.absolutePos=function(a){for(var b=a,c=0,e=0;null!=b;)a=b,c+=b.frame.x,e+=b.frame.y,b=b.parent;var f=X.Panels.htmlContainer(a),a=Gd.getLeft(),b=Gd.getTop();if(null==f)return{x:a,y:b};f=f.getBoundingClientRect();return{x:f.left+c+a,y:f.top+e+b}};X.Panels.svgContainer=function(a){a=
a.g.node();do a=a.ownerSVGElement;while(null!=a&&null!=l.field(a.ownerSVGElement,"ownerSVGElement"));return null==a?null:a};X.Panels.htmlContainer=function(a){a=X.Panels.svgContainer(a);return null==a?null:a.parentNode};X.Panels.boundingBox=function(a,b){for(var c=a,e=0,f=0;b!=c;)e+=c.frame.x,f+=c.frame.y,c=c.parent;return{x:e,y:f,width:a.frame.width,height:a.frame.height}};X.Panels.ancestorBoundingBox=function(a,b){for(var c=a,e=0,f=0,h=0,g=0;b!=c;)e+=c.frame.x,f+=c.frame.y,h=c.frame.width,g=c.frame.height,
c=c.parent;return{x:-e,y:-f,width:h,height:g}};X.Space=function(a,b,c){this.panel=new pb(ia.Fill(0,0));X.Container.call(this,this.panel,Qa.Vertical);this.init(this.svg=c.append("svg:svg").attr("xmlns").string("http://www.w3.org/2000/svg"));this.resize(a,b)};j["rg.svg.panel.Space"]=X.Space;X.Space.__name__=["rg","svg","panel","Space"];X.Space.__super__=X.Container;X.Space.prototype=H(X.Container.prototype,{resize:function(a,b){this.panel.width==a&&this.panel.height==b||(this.svg.attr("width")["float"](a).attr("height")["float"](b),
this.panel.set_layout(0,0,a,b))},svg:null,panel:null,__class__:X.Space});V={RGCss:function(){}};j["rg.svg.util.RGCss"]=V.RGCss;V.RGCss.__name__=["rg","svg","util","RGCss"];V.RGCss.cssSources=function(){var a=[];U.selectAll('link[rel="stylesheet"]').eachNode(function(b){a.push(b.href)});return a};V.RGCss.colorsInCss=function(){if(null!=V.RGCss.cache)return V.RGCss.cache;var a=U.select("body").append("svg:svg").attr("class").string("rg"),b=V.RGCss.createBlock(a,0).style("fill").get();V.RGCss.cache=
[b];for(var c=1;1E3>c;){var e=c++,e=V.RGCss.createBlock(a,e).style("fill").get();if(b==e)break;else V.RGCss.cache.push(e)}a.remove();return V.RGCss.cache};V.RGCss.numberOfColorsInCss=function(){return V.RGCss.colorsInCss().length};V.RGCss.createBlock=function(a,b){return a.append("svg:rect").attr("class").string("fill-"+b)};V.SVGSymbolBuilder=function(){};j["rg.svg.util.SVGSymbolBuilder"]=V.SVGSymbolBuilder;V.SVGSymbolBuilder.__name__=["rg","svg","util","SVGSymbolBuilder"];V.SVGSymbolBuilder.generate=
function(a,b,c,e){null!=c&&(a=V.SVGSymbolBuilder.createElement(a,b,c),aa.storeColorForSelection(a,"stroke"),V.SVGSymbolBuilder.applyStyle(a,b,e))};V.SVGSymbolBuilder.createElement=function(a,b,c){a.each(function(a){a=c(a,b);V.SVGSymbolBuilder.createNode(U.selectNode(wa.current),a).classed().add("symbol-item")});return a.selectAll(".symbol-item")};V.SVGSymbolBuilder.createNode=function(a,b){if(F.startsWith(b,"image")){var c=V.SVGSymbolBuilder.parseImageArguments(u.substr(b.split(":").shift(),5,null));
return V.SVGSymbolBuilder.createImage(a,b.split(":").slice(1).join(":"),c)}return V.SVGSymbolBuilder.createPath(a,b)};V.SVGSymbolBuilder.createPath=function(a,b){return a.append("svg:path").attr("d").string(b)};V.SVGSymbolBuilder.createImage=function(a,b,c){a=a.append("svg:image").attr("xlink:href").string(b).attr("width")["float"](c.width).attr("height")["float"](c.height).attr("preserveAspectRatio").string(c.aspect);a.attr("x")["float"](function(){var a;switch(c.horizontal){case "right":a=-c.width;
break;case "center":a=-c.width/2;break;default:a=0}return a}(this));a.attr("y")["float"](function(){var a;switch(c.vertical){case "bottom":a=-c.height;break;case "center":a=-c.height/2;break;default:a=0}return a}(this));return a};V.SVGSymbolBuilder.parseImageArguments=function(a){var b={width:50,height:50,vertical:"center",horizontal:"center",aspect:"none"};B.filter(a.split(",").map(function(a){return F.trim(a)}),function(a){return""!=a}).forEach(function(a){V.SVGSymbolBuilder.appendOption(b,a)});
return b};V.SVGSymbolBuilder.appendOption=function(a,b){if(V.SVGSymbolBuilder.SIZE_PATTERN.match(b))a.width=n.parseInt(V.SVGSymbolBuilder.SIZE_PATTERN.matched(1)),a.height=n.parseInt(V.SVGSymbolBuilder.SIZE_PATTERN.matched(2));else if(V.SVGSymbolBuilder.ALIGN_PATTERN.match(b))a.horizontal=V.SVGSymbolBuilder.ALIGN_PATTERN.matched(1).toLowerCase(),a.vertical=V.SVGSymbolBuilder.ALIGN_PATTERN.matched(2).toLowerCase();else if(V.SVGSymbolBuilder.HORIZONTAL_PATTERN.match(b))a.horizontal=V.SVGSymbolBuilder.HORIZONTAL_PATTERN.matched(1).toLowerCase();
else if(V.SVGSymbolBuilder.VERTICAL_PATTERN.match(b))a.vertical=V.SVGSymbolBuilder.VERTICAL_PATTERN.matched(1).toLowerCase()};V.SVGSymbolBuilder.applyStyle=function(a,b,c){null!=c&&a.attr("style").stringf(function(a){return c(a,b)})};V.SymbolCache=function(){this.c=new ea;this.r=0};j["rg.svg.util.SymbolCache"]=V.SymbolCache;V.SymbolCache.__name__=["rg","svg","util","SymbolCache"];V.SymbolCache.prototype={stats:function(){return{cachedSymbols:N.array(this.c.iterator()).length}},get:function(a,b){null==
b&&(b=100);var c=a+":"+b,e=this.c.get(c);null==e&&(e=l.field(q.Symbol,a)(b),this.c.set(c,e));return e},r:null,c:null,__class__:V.SymbolCache};p={Balloon:function(a,b){null==b&&(b=!0);if(b){for(var c=a.node();null!=c&&"svg"!=c.nodeName;)c=c.parentNode;this.container=null==c?a:U.selectNode(c)}else this.container=a;this.visible=!0;this.duration=350;this.minwidth=30;this.set_preferredSide(2);this.ease=C.Ease.mode(C.EaseMode.EaseOut,C.Equations.cubic);this.set_roundedCorner(5);this.paddingHorizontal=3.5;
this.paddingVertical=1.5;this.transition_id=0;this.balloon=this.container.append("svg:g").attr("pointer-events").string("none").attr("class").string("balloon").attr("transform").string("translate("+(this.x=0)+", "+(this.y=0)+")");this.frame=this.balloon.append("svg:g").attr("transform").string("translate(0, 0)").attr("class").string("frame");this.frame.append("svg:path").attr("class").string("shadow").attr("transform").string("translate(1, 1)");this.connectorShapeV=q.Diagonal.forObject();this.connectorShapeH=
q.Diagonal.forObject().projection(function(a){return[a[1],a[0]]});this.connector=this.balloon.append("svg:path").attr("class").string("balloon-connector").style("fill").string("none").style("display").string("none").attr("transform").string("translate(0, 0)");this.frame.append("svg:path").attr("class").string("bg");this.labelsContainer=this.frame.append("svg:g").attr("class").string("labels");this.labels=[];c=this.createLabel(0);c.set_text("HELLO");this.set_lineHeight(c.getSize().height);c.destroy()}};
j["rg.svg.widget.Balloon"]=p.Balloon;p.Balloon.__name__=["rg","svg","widget","Balloon"];p.Balloon.prototype={redraw:function(){var a=this;if(!(null==this.text||0==this.text.length)){for(var b=this.boxWidth=0,c=0,e=this.labels;c<e.length;)if(b=e[c],++c,(b=Math.ceil(b.getSize().width))>this.boxWidth)this.boxWidth=b;if(0==b){var f=this.text;Wb.delay(function(){a.set_text(f)},15)}else this.boxWidth+=2*this.paddingHorizontal,this.boxHeight=this.lineHeight*this.labels.length+2*this.paddingVertical,c=this.frame.selectAll(".bg"),
e=c.style("stroke-width").getFloat(),Math.isNaN(e)&&(e=0),this.labelsContainer.attr("transform").string("translate("+this.boxWidth/2+","+(e+this.paddingVertical)+")"),c.transition().ease(this.ease).delay(null,this.duration)}},hide:function(a){null==a&&(a=!1);var b=this;if(this.visible)this.visible=!1,a?this.balloon.transition().attr("opacity")["float"](0).endNode(function(){b.balloon.style("display").string("none")}):(this.balloon.attr("opacity")["float"](0),this.balloon.style("display").string("none"))},
show:function(a){if(!this.visible)if(this.visible=!0,this.balloon.style("display").string("block"),a)this.balloon.transition().attr("opacity")["float"](1);else this.balloon.attr("opacity")["float"](1)},_moveTo:function(a,b){for(var c=this.get_boundingBox(),e=c.x,f=c.x+c.width,h=c.y,g=c.y+c.height,i=2*this.roundedCorner,j=c=0,k=0,l=0,n=this.preferredSide,o=1;0<o&&5>o;){if(a>=f-i)if(b<=h+i){a-f<h-b?(k=-this.boxWidth+f-a,l=h-b+this.roundedCorner,n=0,c=this.boxWidth-4*this.roundedCorner):(k=-this.boxWidth+
f-a-this.roundedCorner,l=h-b,n=1,c=this.roundedCorner);j=1;break}else{if(b>=g-i){a-f<b-g?(k=-this.boxWidth+f-a,l=g-b-this.boxHeight-this.roundedCorner,n=2,c=this.boxWidth-4*this.roundedCorner):(k=-this.boxWidth+f-a-this.roundedCorner,l=g-b-this.boxHeight,n=1,c=this.boxHeight-3*this.roundedCorner);j=1;break}}else if(a<=e+i)if(b<=h+i){e-a<h-b?(k=e-a,l=h-b+this.roundedCorner,c=n=0):(k=e-a+this.roundedCorner,l=h-b,n=3,c=this.roundedCorner);j=1;break}else if(b>=g-i){e-a<b-g?(k=e-a,l=g-b-this.boxHeight-
this.roundedCorner,n=2,c=0):(k=e-a+this.roundedCorner,l=g-b-this.boxHeight,n=3,c=this.boxHeight-3*this.roundedCorner);j=1;break}switch(n){case 0:if(b+this.boxHeight+this.roundedCorner>=g){n=2;o++;continue}else if(a<=e+i){n=3;o++;continue}else if(a>=f-i){n=1;o++;continue}k=-this.boxWidth/2;l=this.roundedCorner;c=this.boxWidth/2-2*this.roundedCorner;a-this.boxWidth/2<=e?(o=e-a+this.boxWidth/2,c=Math.max(0,c-o),k+=o):a+this.boxWidth/2>=f&&(o=f-a-this.boxWidth/2,c=Math.min(this.boxWidth-3*this.roundedCorner,
c-o),k+=o);b<h&&(j=1,l=h-b+this.roundedCorner);break;case 1:if(a-this.boxWidth-this.roundedCorner<=e){n=3;o++;continue}else if(b<=h+i){n=2;o++;continue}else if(b>=g-i){n=0;o++;continue}k=-this.boxWidth-this.roundedCorner;l=-this.boxHeight/2;c=(this.boxHeight-2*this.roundedCorner)/2;b-this.boxHeight/2<=h?(o=h-b+this.boxHeight/2,c=Math.max(0,c-o),l+=o):b+this.boxHeight/2>=g&&(o=g-b-this.boxHeight/2,c=Math.min(this.boxHeight-3*this.roundedCorner,c-o),l+=o);a>f&&(j=2,k=f-a-this.boxWidth-this.roundedCorner);
break;case 2:if(b-this.boxHeight-this.roundedCorner<=h){n=0;o++;continue}else if(a<=e+i){n=3;o++;continue}else if(a>=f-i){n=1;o++;continue}k=-this.boxWidth/2;l=-this.boxHeight-this.roundedCorner;c=this.boxWidth/2-2*this.roundedCorner;a-this.boxWidth/2<=e?(o=e-a+this.boxWidth/2,c=Math.max(this.roundedCorner,c-o),k+=o):a+this.boxWidth/2>=f&&(o=f-a-this.boxWidth/2,c=Math.min(this.boxWidth-3*this.roundedCorner,c-o),k+=o);b>g&&(j=1,l=g-b-this.boxHeight-this.roundedCorner);break;case 3:if(a+this.boxWidth+
this.roundedCorner>=f){n=1;o++;continue}else if(b<=h+i){n=2;o++;continue}else if(b>=g-i){n=0;o++;continue}k=this.roundedCorner;l=-this.boxHeight/2;c=(this.boxHeight-2*this.roundedCorner)/2;b-this.boxHeight/2<=h?(o=h-b+this.boxHeight/2,c=Math.max(this.roundedCorner,c-o),l+=o):b+this.boxHeight/2>=g&&(o=g-b-this.boxHeight/2,c=Math.min(this.boxHeight-3*this.roundedCorner,c-o),l+=o);a<e&&(j=2,k=e-a+this.roundedCorner)}o=0}e=null;if(0==j)this.connector.style("display").string("none");else switch(this.connector.style("display").string("block"),
e={x0:1,y0:1,x1:1,y1:1},n){case 0:e.x1=k+1+c+2*this.roundedCorner;e.y1=l+1-this.roundedCorner;break;case 1:e.y1=k+1+this.boxWidth+this.roundedCorner;e.x1=l+1+c+this.roundedCorner;break;case 2:e.x1=k+1+c+2*this.roundedCorner;e.y1=l+1+this.boxHeight+this.roundedCorner;break;case 3:e.y1=k+1+-this.roundedCorner,e.x1=l+1+c+this.roundedCorner}this.balloon.attr("transform").string("translate("+(this.x=a)+", "+(this.y=b)+")");this.frame.attr("transform").string("translate("+k+", "+l+")").selectAll("path").attr("d").string(p.BalloonShape.shape(this.boxWidth,
this.boxHeight,this.roundedCorner,this.roundedCorner,n,c));0!=j&&this.connector.attr("d").string(0==n%2?this.connectorShapeV.diagonal(e):this.connectorShapeH.diagonal(e))},moveTo:function(a,b,c){null==c&&(c=!0);var e=this;if(c){C.Equations.elasticf();var f=++this.transition_id,h=D.interpolatef(this.x,a,this.ease),g=D.interpolatef(this.y,b,this.ease);Ba.timer(function(c){if(f!=e.transition_id)return!0;if(c>e.duration)return e._moveTo(a,b),!0;e._moveTo(h(c/e.duration),g(c/e.duration));return!1},0)}else 0==
this.boxWidth?Wb.delay(function(a,b,c){return function(){return a(b,c)}}(y(this,this._moveTo),a,b),15):this._moveTo(a,b)},transition_id:null,get_boundingBox:function(){if(null==this.boundingBox)try{this.set_boundingBox(this.container.node().getBBox())}catch(a){return{width:0,height:0,x:0,y:0}}return this.boundingBox},set_boundingBox:function(a){this.boundingBox=a;this.redraw();return a},set_roundedCorner:function(a){this.roundedCorner=a;this.redraw();return a},setPadding:function(a,b){this.paddingHorizontal=
a;this.paddingVertical=b;this.redraw()},set_lineHeight:function(a){this.lineHeight=a;this.redraw();return a},set_text:function(a){for(;this.labels.length>a.length;)this.labels.pop().destroy();for(var b=this.labels.length,c=a.length;b<c;){var e=b++;this.labels[e]=this.createLabel(e)}b=0;for(c=a.length;b<c;)e=b++,this.labels[e].set_text(a[e]);this.text=a;this.redraw();return a},set_preferredSide:function(a){this.preferredSide=O.clamp(a,0,3);this.redraw();return a},createLabel:function(a){var b=new p.Label(this.labelsContainer,
!0,!1,!1);b.addClass("line-"+a);b.set_anchor(p.GridAnchor.Top);b.set_orientation(p.LabelOrientation.Orthogonal);b.place(0,a*this.lineHeight,90);return b},removeClass:function(a){this.frame.select("path.bg").classed().remove(a)},addClass:function(a){this.frame.select("path.bg").classed().add(a)},boundingBox:null,connectorShapeH:null,connectorShapeV:null,ease:null,duration:null,connector:null,labelsContainer:null,frame:null,balloon:null,container:null,labels:null,minwidth:null,preferredSide:null,paddingVertical:null,
paddingHorizontal:null,roundedCorner:null,lineHeight:null,visible:null,boxHeight:null,boxWidth:null,y:null,x:null,text:null,__class__:p.Balloon,__properties__:{set_text:"set_text",set_lineHeight:"set_lineHeight",set_roundedCorner:"set_roundedCorner",set_preferredSide:"set_preferredSide",set_boundingBox:"set_boundingBox",get_boundingBox:"get_boundingBox"}};p.BalloonShape=function(){};j["rg.svg.widget.BalloonShape"]=p.BalloonShape;p.BalloonShape.__name__=["rg","svg","widget","BalloonShape"];p.BalloonShape.shape=
function(a,b,c,e,f,h){a-=2*c;b-=2*c;e="M"+c+",0";e=0==f?e+("h"+h)+("a"+c+","+c+",0,0,0,"+c+","+-c)+("a"+c+","+c+",0,0,0,"+c+","+c)+("h"+(a-(h+2*c))):e+("h"+a);e+="a"+c+","+c+",0,0,1,"+c+","+c;e=1==f?e+("v"+(h-c))+("a"+c+","+c+",0,0,0,"+c+","+c)+("a"+c+","+c+",0,0,0,"+-c+","+c)+("v"+(b-(h+c))):e+("v"+b);e+="a"+c+","+c+",0,0,1,"+-c+","+c;e=2==f?e+("h"+-(a-(h+2*c)))+("a"+c+","+c+",0,0,0,"+-c+","+c)+("a"+c+","+c+",0,0,0,"+-c+","+-c)+("h"+-h):e+("h"+-a);e+="a"+c+","+c+",0,0,1,"+-c+","+-c;e=3==f?e+("v"+
-(b-(h+c)))+("a"+c+","+c+",0,0,0,"+-c+","+-c)+("a"+c+","+c+",0,0,0,"+c+","+-c)+("v"+-(h-c)):e+("v"+-b);return e+("a"+c+","+c+",0,0,1,"+c+","+-c)+"Z"};p.DiagonalArea=function(a,b,c){this.g=a.append("svg:g").attr("class").string("diagonal");this.diagonal=q.Diagonal.forArray().projection(function(a){return[a[1],a[0]]});this.area=this.g.append("svg:path").attr("class").string("diagonal-fill"+(null==b?"":" "+b));this.before=this.g.append("svg:path").attr("class").string("diagonal-stroke before"+(null==
c?"":" "+c));this.after=this.g.append("svg:path").attr("class").string("diagonal-stroke after"+(null==c?"":" "+c))};j["rg.svg.widget.DiagonalArea"]=p.DiagonalArea;p.DiagonalArea.__name__=["rg","svg","widget","DiagonalArea"];p.DiagonalArea.prototype={update:function(a,b,c,e,f,h){var g=this.diagonal.diagonal([b,a,e,c]),a=this.diagonal.diagonal([e+h,c,b+f,a]),b=g+"L"+u.substr(a,1,null)+"z";this.before.attr("d").string(g);this.after.attr("d").string(a);this.area.attr("d").string(b)},addClass:function(a){this.g.classed().add(a)},
after:null,before:null,area:null,diagonal:null,g:null,__class__:p.DiagonalArea};p.ElbowArea=function(a,b,c){this.g=a.append("svg:g").attr("class").string("elbow");this.area=this.g.append("svg:path").attr("class").string("elbow-fill"+(null==b?"":" "+b));this.outer=this.g.append("svg:path").attr("class").string("elbow-stroke outer"+(null==c?"":" "+c));this.inner=this.g.append("svg:path").attr("class").string("elbow-stroke inner"+(null==c?"":" "+c))};j["rg.svg.widget.ElbowArea"]=p.ElbowArea;p.ElbowArea.__name__=
["rg","svg","widget","ElbowArea"];p.ElbowArea.prototype={update:function(a,b,c,e,f,h,g,i){null==i&&(i=10);null==g&&(g=0);null==h&&(h=16);null==f&&(f=3);if(0!=b){var j="",k="",l=0>b?Math.max(h,b):Math.min(h,b);switch(a[1]){case 0:j="M"+(g+c+f)+","+(e+f+i)+"L"+(g+c+f)+","+(e+f)+"A"+Math.abs(f)+","+Math.abs(f)+" 0 0,0 "+(g+c)+","+e+"L"+c+","+e;k="M"+c+","+(e-b)+"L"+(g+c)+","+(e-b)+"A"+Math.abs(l)+","+Math.abs(l)+" 0 0,1 "+(g+c+l)+","+(e-b+l)+"L"+(g+c+l)+","+(e+i+f);break;case 3:this.update(p.Orientation.RightBottom,
-b,c,e,-f,-h,-g,-i);return}a=k+"L"+u.substr(j,1,null)+"z";this.inner.attr("d").string(j);this.outer.attr("d").string(k);this.area.attr("d").string(a)}},addClass:function(a){this.g.classed().add(a)},inner:null,outer:null,area:null,g:null,__class__:p.ElbowArea};p.Orientation={__ename__:["rg","svg","widget","Orientation"],__constructs__:"RightBottom,LeftBottom,RightTop,LeftTop,BottomRight,BottomLeft,TopRight,TopLeft".split(",")};p.Orientation.RightBottom=["RightBottom",0];p.Orientation.RightBottom.toString=
v;p.Orientation.RightBottom.__enum__=p.Orientation;p.Orientation.LeftBottom=["LeftBottom",1];p.Orientation.LeftBottom.toString=v;p.Orientation.LeftBottom.__enum__=p.Orientation;p.Orientation.RightTop=["RightTop",2];p.Orientation.RightTop.toString=v;p.Orientation.RightTop.__enum__=p.Orientation;p.Orientation.LeftTop=["LeftTop",3];p.Orientation.LeftTop.toString=v;p.Orientation.LeftTop.__enum__=p.Orientation;p.Orientation.BottomRight=["BottomRight",4];p.Orientation.BottomRight.toString=v;p.Orientation.BottomRight.__enum__=
p.Orientation;p.Orientation.BottomLeft=["BottomLeft",5];p.Orientation.BottomLeft.toString=v;p.Orientation.BottomLeft.__enum__=p.Orientation;p.Orientation.TopRight=["TopRight",6];p.Orientation.TopRight.toString=v;p.Orientation.TopRight.__enum__=p.Orientation;p.Orientation.TopLeft=["TopLeft",7];p.Orientation.TopLeft.toString=v;p.Orientation.TopLeft.__enum__=p.Orientation;p.GridAnchor={__ename__:["rg","svg","widget","GridAnchor"],__constructs__:"TopLeft,Top,TopRight,Left,Center,Right,BottomLeft,Bottom,BottomRight".split(",")};
p.GridAnchor.TopLeft=["TopLeft",0];p.GridAnchor.TopLeft.toString=v;p.GridAnchor.TopLeft.__enum__=p.GridAnchor;p.GridAnchor.Top=["Top",1];p.GridAnchor.Top.toString=v;p.GridAnchor.Top.__enum__=p.GridAnchor;p.GridAnchor.TopRight=["TopRight",2];p.GridAnchor.TopRight.toString=v;p.GridAnchor.TopRight.__enum__=p.GridAnchor;p.GridAnchor.Left=["Left",3];p.GridAnchor.Left.toString=v;p.GridAnchor.Left.__enum__=p.GridAnchor;p.GridAnchor.Center=["Center",4];p.GridAnchor.Center.toString=v;p.GridAnchor.Center.__enum__=
p.GridAnchor;p.GridAnchor.Right=["Right",5];p.GridAnchor.Right.toString=v;p.GridAnchor.Right.__enum__=p.GridAnchor;p.GridAnchor.BottomLeft=["BottomLeft",6];p.GridAnchor.BottomLeft.toString=v;p.GridAnchor.BottomLeft.__enum__=p.GridAnchor;p.GridAnchor.Bottom=["Bottom",7];p.GridAnchor.Bottom.toString=v;p.GridAnchor.Bottom.__enum__=p.GridAnchor;p.GridAnchor.BottomRight=["BottomRight",8];p.GridAnchor.BottomRight.toString=v;p.GridAnchor.BottomRight.__enum__=p.GridAnchor;p.GridAnchors=function(){};j["rg.svg.widget.GridAnchors"]=
p.GridAnchors;p.GridAnchors.__name__=["rg","svg","widget","GridAnchors"];p.GridAnchors.parse=function(a){switch(a.toLowerCase()){case "topleft":a=p.GridAnchor.TopLeft;break;case "top":a=p.GridAnchor.Top;break;case "topright":a=p.GridAnchor.TopRight;break;case "left":a=p.GridAnchor.Left;break;case "center":a=p.GridAnchor.Center;break;case "right":a=p.GridAnchor.Right;break;case "bottomleft":a=p.GridAnchor.BottomLeft;break;case "bottom":a=p.GridAnchor.Bottom;break;case "bottomright":a=p.GridAnchor.BottomRight;
break;default:a=p.GridAnchor.Center}return a};p.HookConnector=function(a,b){this.g=a.append("svg:g").attr("class").string("hook");this.line=this.g.append("svg:path").attr("class").string("hook-stroke line"+(null==b?"":" "+b))};j["rg.svg.widget.HookConnector"]=p.HookConnector;p.HookConnector.__name__=["rg","svg","widget","HookConnector"];p.HookConnector.lineTo=function(a,b){return"L"+a+","+b};p.HookConnector.quarterTo=function(a,b,c){return"A"+Math.abs(c)+","+Math.abs(c)+" 0 0,"+(0>c?0:1)+" "+a+","+
b};p.HookConnector.prototype={createPath2:function(a,b,c,e,f,h){var g="M"+a+","+b;h>b?(g+="A"+Math.abs(c)+","+Math.abs(c)+" 0 0,1 "+(a+c)+","+(b+c),g=g+("L"+(c+a)+","+(h-c))+("A"+Math.abs(c)+","+Math.abs(c)+" 0 0,1 "+a+","+h)):(g+="A"+Math.abs(c)+","+Math.abs(c)+" 0 0,0 "+(a+c)+","+(b-c),g=g+("L"+(c+a)+","+(h+c))+("A"+Math.abs(c)+","+Math.abs(c)+" 0 0,0 "+a+","+h));g+="L"+e+","+h;h>f?(g+="A"+Math.abs(c)+","+Math.abs(c)+" 0 0,1 "+(e-c)+","+(h-c),g=g+("L"+(e-c)+","+(f+c))+("A"+Math.abs(c)+","+Math.abs(c)+
" 0 0,1 "+e+","+f)):(g+="A"+Math.abs(c)+","+Math.abs(c)+" 0 0,0 "+(e-c)+","+(h+c),g=g+("L"+(e-c)+","+(f-c))+("A"+Math.abs(c)+","+Math.abs(c)+" 0 0,0 "+e+","+f));return g},createPath:function(a,b,c,e,f,h,g,i,j){var k;k="M"+a+","+b+p.HookConnector.lineTo(a+h-i,b);k+=p.HookConnector.quarterTo(a+h,b+j,i);k+=p.HookConnector.lineTo(a+h,f-j);k+=p.HookConnector.quarterTo(a+h-i,f,i);k+=p.HookConnector.lineTo(c-g+i,f);k+=p.HookConnector.quarterTo(c-g,f-j,i);k+=p.HookConnector.lineTo(c-g,e+j);k+=p.HookConnector.quarterTo(c-
g+i,e,i);return k+=p.HookConnector.lineTo(c,e)},update:function(a,b,c,e,f,h,g){a=this.createPath(a,b,c,e,f,h,g,5,5);this.line.attr("d").string(a)},addClass:function(a){this.g.classed().add(a)},line:null,g:null,__class__:p.HookConnector};p.HookConnectorArea=function(a,b,c){this.g=a.append("svg:g").attr("class").string("hook-area");this.area=this.g.append("svg:path").attr("class").string("hook-area-fill"+(null==b?"":" "+b));this.upper=this.g.append("svg:path").attr("class").string("hook-area-stroke upper"+
(null==c?"":" "+c));this.lower=this.g.append("svg:path").attr("class").string("hook-area-stroke lower"+(null==c?"":" "+c))};j["rg.svg.widget.HookConnectorArea"]=p.HookConnectorArea;p.HookConnectorArea.__name__=["rg","svg","widget","HookConnectorArea"];p.HookConnectorArea.lineTo=function(a,b){return"L"+a+","+b};p.HookConnectorArea.quarterTo=function(a,b,c){return"A"+Math.abs(c)+","+Math.abs(c)+" 0 0,"+(0>c?0:1)+" "+a+","+b};p.HookConnectorArea.prototype={createPath2:function(a,b,c,e,f,h){var g="M"+
a+","+b;h>b?(g+="A"+Math.abs(c)+","+Math.abs(c)+" 0 0,1 "+(a+c)+","+(b+c),g=g+("L"+(c+a)+","+(h-c))+("A"+Math.abs(c)+","+Math.abs(c)+" 0 0,1 "+a+","+h)):(g+="A"+Math.abs(c)+","+Math.abs(c)+" 0 0,0 "+(a+c)+","+(b-c),g=g+("L"+(c+a)+","+(h+c))+("A"+Math.abs(c)+","+Math.abs(c)+" 0 0,0 "+a+","+h));g+="L"+e+","+h;h>f?(g+="A"+Math.abs(c)+","+Math.abs(c)+" 0 0,1 "+(e-c)+","+(h-c),g=g+("L"+(e-c)+","+(f+c))+("A"+Math.abs(c)+","+Math.abs(c)+" 0 0,1 "+e+","+f)):(g+="A"+Math.abs(c)+","+Math.abs(c)+" 0 0,0 "+(e-
c)+","+(h+c),g=g+("L"+(e-c)+","+(f-c))+("A"+Math.abs(c)+","+Math.abs(c)+" 0 0,0 "+e+","+f));return g},createPath:function(a,b,c,e,f,h,g,i,j){var k;k="M"+a+","+b+p.HookConnectorArea.lineTo(a+h-i,b);k+=p.HookConnectorArea.quarterTo(a+h,b+j,i);k+=p.HookConnectorArea.lineTo(a+h,f-j);k+=p.HookConnectorArea.quarterTo(a+h-i,f,i);k+=p.HookConnectorArea.lineTo(c-g+i,f);k+=p.HookConnectorArea.quarterTo(c-g,f-j,i);k+=p.HookConnectorArea.lineTo(c-g,e+j);k+=p.HookConnectorArea.quarterTo(c-g+i,e,i);return k+=p.HookConnectorArea.lineTo(c,
e)},update:function(a,b,c,e,f,h,g,i){var j=Math.min(5,f),k=this.createPath(a,b,c,e,b>h?h:h+f,g+f,i+f,f,f),a=this.createPath(c,e+f,a,b+f,b>h?h-f:h,-i,-g,-j,j);this.upper.attr("d").string(k);this.lower.attr("d").string(a);this.area.attr("d").string(k+"L"+u.substr(a,1,null)+"z")},addClass:function(a){this.g.classed().add(a)},lower:null,upper:null,area:null,g:null,__class__:p.HookConnectorArea};p.Label=function(a,b,c,e){null==b&&(b=!0);this.shadow=c;this.outline=e;this.g=a.append("svg:g").attr("class").string("label");
if(c)this.gshadow=this.g.append("svg:g").attr("transform").string("translate(0,0)"),this.gshadowrot=this.gshadow.append("svg:g"),this.tshadow=this.gshadowrot.append("svg:text").attr("class").string("shadow"+(e?"":" nooutline"));this.gtext=this.g.append("svg:g");if(e)this.toutline=this.gtext.append("svg:text").attr("class").string("outline"+(c?"":" noshadow"));a=B.addIf(B.addIf(["text"],!e,"nooutline"),!c,"noshadow");this.ttext=this.gtext.append("svg:text").attr("class").string(a.join(" "));this.dontFlip=
b;e?this.setShadowOffset(1,1.25):this.setShadowOffset(0.5,0.5);this.angle=this.y=this.x=0;this.set_orientation(p.LabelOrientation.FixedAngle(0));this.set_anchor(p.GridAnchor.Center);this.visible=!0};j["rg.svg.widget.Label"]=p.Label;p.Label.__name__=["rg","svg","widget","Label"];p.Label.prototype={destroy:function(){this.g.remove()},reanchor:function(){if(null!=this.anchor){var a=this.getBB(),b,c,e=this.anchor;if(this.dontFlip)switch(this.orientation[1]){case 1:90<this.angle&&270>this.angle&&(e=function(){var a;
switch(e[1]){case 0:a=p.GridAnchor.BottomRight;break;case 1:a=p.GridAnchor.Bottom;break;case 2:a=p.GridAnchor.BottomLeft;break;case 3:a=p.GridAnchor.Right;break;case 4:a=p.GridAnchor.Center;break;case 5:a=p.GridAnchor.Left;break;case 6:a=p.GridAnchor.TopRight;break;case 7:a=p.GridAnchor.Top;break;case 8:a=p.GridAnchor.TopLeft}return a}(this));break;case 2:180<this.angle&&(e=function(){var a;switch(e[1]){case 0:a=p.GridAnchor.BottomRight;break;case 1:a=p.GridAnchor.Bottom;break;case 2:a=p.GridAnchor.BottomLeft;
break;case 3:a=p.GridAnchor.Right;break;case 4:a=p.GridAnchor.Center;break;case 5:a=p.GridAnchor.Left;break;case 6:a=p.GridAnchor.TopRight;break;case 7:a=p.GridAnchor.Top;break;case 8:a=p.GridAnchor.TopLeft}return a}(this))}switch(e[1]){case 0:b=0;c=a.height;break;case 1:b=-a.width/2;c=a.height;break;case 2:b=-a.width;c=a.height;break;case 3:b=0;c=a.height/2;break;case 4:b=-a.width/2;c=a.height/2;break;case 5:b=-a.width;c=a.height/2;break;case 6:c=b=0;break;case 7:b=-a.width/2;c=0;break;case 8:b=
-a.width,c=0}if(this.outline)this.toutline.attr("x")["float"](b+0.5).attr("y")["float"](c-1.5);this.ttext.attr("x")["float"](b+0.5).attr("y")["float"](c-1.5);if(this.shadow)this.tshadow.attr("x")["float"](b+0.5).attr("y")["float"](c-1.5)}},getBB:function(){var a=this.ttext.node(),b=this.ttext.style("font-size").getFloat();if(null==b||0>=b)try{b=a.getExtentOfChar("A").height}catch(c){b=U.selectNode(a).style("height").getFloat()}var e;try{e=a.getComputedTextLength()}catch(f){e=U.selectNode(a).style("width").getFloat()}return{width:e,
height:b}},set_anchor:function(a){this.anchor=a;this.reanchor();return a},set_orientation:function(a){this.orientation=a;this.place(this.x,this.y,this.angle);return a},set_text:function(a){this.text=a;this.outline&&this.toutline.text().string(a);this.ttext.text().string(a);this.shadow&&this.tshadow.text().string(a);this.reanchor();return a},setShadowOffset:function(a,b){this.shadowOffsetX=a;this.shadowOffsetY=b;this.shadow&&this.gshadow.attr("transform").string("translate("+this.shadowOffsetX+","+
this.shadowOffsetY+")")},place:function(a,b,c){this.x=Math.isNaN(a)?0:a;this.y=Math.isNaN(b)?0:b;this.angle=c%360;0>this.angle&&(this.angle+=360);this.g.attr("transform").string("translate("+this.x+","+this.y+")");a=this.orientation;switch(a[1]){case 0:c=a[2];this.gtext.attr("transform").string("rotate("+c+")");break;case 1:this.dontFlip&&90<this.angle&&270>this.angle&&(c+=180);this.gtext.attr("transform").string("rotate("+c+")");break;case 2:this.dontFlip&&180<this.angle&&(c-=180),this.gtext.attr("transform").string("rotate("+
(-90+c)+")")}this.shadow&&this.gshadowrot.attr("transform").string(this.gtext.attr("transform").get());this.reanchor()},getSize:function(){try{return this.g.node().getBBox()}catch(a){return{width:0,height:0}}},removeClass:function(a){this.g.classed().remove(a)},addClass:function(a){this.g.classed().add(a)},_toggleVisibility:function(){this.g.style("opacity")["float"](this.visible?1:0)},hide:function(){if(this.visible)this.visible=!1,this._toggleVisibility()},show:function(){if(!this.visible)this.visible=
!0,this._toggleVisibility()},tshadow:null,toutline:null,ttext:null,gshadowrot:null,gtext:null,gshadow:null,g:null,visible:null,outline:null,shadow:null,shadowOffsetY:null,shadowOffsetX:null,dontFlip:null,angle:null,y:null,x:null,anchor:null,orientation:null,text:null,__class__:p.Label,__properties__:{set_text:"set_text",set_orientation:"set_orientation",set_anchor:"set_anchor"}};p.LabelOrientation={__ename__:["rg","svg","widget","LabelOrientation"],__constructs__:["FixedAngle","Aligned","Orthogonal"]};
p.LabelOrientation.FixedAngle=function(a){a=["FixedAngle",0,a];a.__enum__=p.LabelOrientation;a.toString=v;return a};p.LabelOrientation.Aligned=["Aligned",1];p.LabelOrientation.Aligned.toString=v;p.LabelOrientation.Aligned.__enum__=p.LabelOrientation;p.LabelOrientation.Orthogonal=["Orthogonal",2];p.LabelOrientation.Orthogonal.toString=v;p.LabelOrientation.Orthogonal.__enum__=p.LabelOrientation;p.LabelOrientations=function(){};j["rg.svg.widget.LabelOrientations"]=p.LabelOrientations;p.LabelOrientations.__name__=
["rg","svg","widget","LabelOrientations"];p.LabelOrientations.canParse=function(a){a=a.split(":")[0].toLowerCase();return B.exists("angle,fixed,ortho,orthogonal,align,aligned,horizontal".split(","),a)};p.LabelOrientations.parse=function(a){switch(a.split(":")[0].toLowerCase()){case "fixed":a=n.parseFloat(a.split(":")[1]);if(null==a||!Math.isFinite(a))throw new J.Error("when 'fixed' is used a number should follow the 'dash' character",null,null,{fileName:"LabelOrientations.hx",lineNumber:27,className:"rg.svg.widget.LabelOrientations",
methodName:"parse"});return p.LabelOrientation.FixedAngle(a);case "angle":a=n.parseFloat(a.split(":")[1]);if(null==a||!Math.isFinite(a))throw new J.Error("when 'fixed' is used a number should follow the 'dash' character",null,null,{fileName:"LabelOrientations.hx",lineNumber:27,className:"rg.svg.widget.LabelOrientations",methodName:"parse"});return p.LabelOrientation.FixedAngle(a);case "ortho":return p.LabelOrientation.Orthogonal;case "orthogonal":return p.LabelOrientation.Orthogonal;case "align":return p.LabelOrientation.Aligned;
case "aligned":return p.LabelOrientation.Aligned;case "horiz":return p.LabelOrientation.FixedAngle(0);case "horizontal":return p.LabelOrientation.FixedAngle(0);default:throw new J.Error("invalid filter orientation '{0}'",null,a,{fileName:"LabelOrientations.hx",lineNumber:36,className:"rg.svg.widget.LabelOrientations",methodName:"parse"});}};p.Map=function(a,b){var c=this;this.g=a.append("svg:g").attr("class").string("map");this.projection=b;this.map=new ea;this.ready=!1;this.onReady=new sc;this.onReady.addOnce(function(){c.ready=
!0})};j["rg.svg.widget.Map"]=p.Map;p.Map.__name__=["rg","svg","widget","Map"];p.Map.loadJsonp=function(a,b){xb.get(a,b,null,null,null)};p.Map.loadJsonAjax=function(a,b){var c=new Yc(a);c.onData=function(a){a=ja.Json.decode(a);b(a)};c.onError=function(b){throw new J.Error("unable to load JSON file '{0}': {1}",[a,b],null,{fileName:"Map.hx",lineNumber:90,className:"rg.svg.widget.Map",methodName:"loadJsonAjax"});};c.request(!1)};p.Map.prototype={set_className:function(a){this.g.attr("class").string("map"+
(null==a?"":" "+a));return a},handlerClick:null,handlerDataPointOver:null,onClick:function(a){this.handlerClick(a,this.click)},onMouseOver:function(a,b){this.handlerDataPointOver(b,a,this.labelDataPointOver)},draw:function(a){var b=this,c=null!=this.mapping?function(a){return l.hasField(b.mapping,a)?l.field(b.mapping,a):a}:function(a){return a},e=new q.PathGeoJson;e.set_projection(this.projection);switch(a.type){case "FeatureCollection":for(var f=0,h=a.features.length;f<h;){var g=f++,g=a.features[g],
i=e.centroid(g.geometry),j="Point"==g.geometry.type?this.g.append("svg:circle").attr("cx")["float"](i[0]).attr("cy")["float"](i[1]).attr("r")["float"](5):this.g.append("svg:path").attr("d").string(e.path(g.geometry)),k={};k.$centroid=i;k.$data=g.properties;null!=g.id&&this.map.set(c(g.id),{svg:j,dp:k});if(null!=this.labelDataPointOver)j.onNode("mouseover",function(a,b){return function(c,e){return a(b,c,e)}}(y(this,this.onMouseOver),k));if(null!=this.click)j.onNode("click",function(a,b){return function(c,
e){return a(b,c,e)}}(y(this,this.onClick),k))}break;case "MultiPoint":throw new J.Error("the type '{0}' is not implemented yet",[a.type],null,{fileName:"Map.hx",lineNumber:133,className:"rg.svg.widget.Map",methodName:"draw"});case "MultiLineString":throw new J.Error("the type '{0}' is not implemented yet",[a.type],null,{fileName:"Map.hx",lineNumber:133,className:"rg.svg.widget.Map",methodName:"draw"});case "MultiPolygon":throw new J.Error("the type '{0}' is not implemented yet",[a.type],null,{fileName:"Map.hx",
lineNumber:133,className:"rg.svg.widget.Map",methodName:"draw"});case "GeometryCollection":throw new J.Error("the type '{0}' is not implemented yet",[a.type],null,{fileName:"Map.hx",lineNumber:133,className:"rg.svg.widget.Map",methodName:"draw"});default:this.g.append("svg:path").attr("d").string(e.path(a))}this.onReady.dispatch()},loadGeoJson:function(a,b,c){var e=this,f=c?p.Map.loadJsonp:p.Map.loadJsonAjax;null==b?f(a,y(this,this.draw)):f(b,function(b){e.mapping=b;f(a,y(e,e.draw))})},load:function(a,
b,c,e){switch(b){case "geojson":this.loadGeoJson(a,c,e);break;default:new J.Error("unsupported geographic format '{0}'",null,b,{fileName:"Map.hx",lineNumber:59,className:"rg.svg.widget.Map",methodName:"load"})}},g:null,projection:null,mapping:null,ready:null,colorMode:null,radius:null,labelDataPointOver:null,labelDataPoint:null,click:null,onReady:null,map:null,className:null,__class__:p.Map,__properties__:{set_className:"set_className"}};p.Sensible=function(){};j["rg.svg.widget.Sensible"]=p.Sensible;
p.Sensible.__name__=["rg","svg","widget","Sensible"];p.Sensible.sensibleZone=function(a,b,c,e,f){if(!(null==c&&null==e)){var h=a.append("svg:rect").attr("class").string("sensible").attr("x")["float"](0).attr("y")["float"](0).attr("width")["float"](b.frame.width).attr("height")["float"](b.frame.height).attr("fill").string("#000").style("fill-opacity")["float"](0);if(null!=e)h.onNode("mousemove",function(){var b=p.Sensible.findDataNodeNearMouse(a,f);0<b.length?(e(b[0]),null!=c&&h.classed().add("pointer")):
null!=c&&h.classed().remove("pointer")});if(null!=c){if(null==e)h.onNode("mousemove",function(){0<p.Sensible.findDataNodeNearMouse(a,f).length?h.classed().add("pointer"):h.classed().remove("pointer")});h.onNode("click",function(){var b=p.Sensible.findDataNodeNearMouse(a,f);0<b.length&&c(b[0])})}}};p.Sensible.findDataNodeNearMouse=function(a,b){var c=U.event;return p.Sensible.findDataNodesNear({x:c.clientX,y:c.clientY},a,b)};p.Sensible.findDataNodesNear=function(a,b,c){var b=b.selectAll(".rgdata"),
e=[],f=c*c;b.eachNode(function(b){var c=b.getBoundingClientRect(),g=a.x-(c.left+c.width/2),c=a.y-(c.top+c.height/2),g=g*g+c*c;g>f||e.push({node:b,dist:g})});e.sort(function(a,b){return D.compare(a.dist,b.dist)});return e.map(function(a){return a.node})};wc=void 0;qd=void 0;W=void 0;ya=void 0;Ca=void 0;Qd=void 0;Rd=void 0;Pa=void 0;aa=void 0;Sd=void 0;xb=void 0;xc=void 0;Qd=function(a){try{this.tests=xc.decrypt(a).split(",")}catch(b){}};j["rg.util.Auth"]=Qd;Qd.__name__=["rg","util","Auth"];Qd.prototype=
{authorizeMany:function(a){for(var b=0;b<a.length;){var c=a[b];++b;if(this.authorize(c))return!0}return!1},authorizeOne:function(a,b){return"*."==a.substring(0,2)?F.endsWith("."+b,a.substring(1)):b==a},authorize:function(a){for(var b=0,c=this.tests;b<c.length;){var e=c[b];++b;if(this.authorizeOne(a,e))return!0}return!1},tests:null,__class__:Qd};Rd=function(a){this.handler=a;this.actions=[];this.pos=0;this.executor=y(this,this.execute)};j["rg.util.ChainedExecutor"]=Rd;Rd.__name__=["rg","util","ChainedExecutor"];
Rd.prototype={executor:null,execute:function(a){if(this.pos==this.actions.length)this.pos=0,this.handler(a);else this.actions[this.pos++](a,y(this,this.execute))},addAction:function(a){this.actions.push(a)},pos:null,actions:null,handler:null,__class__:Rd};Pa=function(){};j["rg.util.DataPoints"]=Pa;Pa.__name__=["rg","util","DataPoints"];Pa.partition=function(a,b,c){null==c&&(c="default");for(var e=new hb.HashList,f,h=0;h<a.length;){var g=a[h];++h;f=l.field(g,b);f=null==f?c:fa.string(f);var i=e.get(f);
null==i&&(i=[],e.set(f,i));i.push(g)}return e.array()};Pa.filterByIndependents=function(a,b){for(var c=0;c<b.length;){var e=[b[c]];++c;var f=[e[0].axis.range(e[0].min(),e[0].max())],a=B.filter(a,function(a,b){return function(c){c=l.field(c,b[0].type);return null==c?!1:B.exists(a[0],c)}}(f,e))}return a};Pa.filterByDependents=function(a,b){for(var c=0;c<b.length;){var e=[b[c]];++c;a=B.filter(a,function(a){return function(b){return null==l.field(b,a[0].type)?!1:!0}}(e))}return a};Pa.value=function(a,
b){return l.field(a,b)};Pa.valueAlt=function(a,b,c){var e;return null==(e=l.field(a,b))?c:e};Pa.values=function(a,b){return B.filter(a.map(function(a){return l.field(a,b)}),function(a){return null!=a})};Pa.id=function(a,b){for(var c=ga.clone(a),e=0;e<b.length;){var f=b[e];++e;l.deleteField(c,f)}return Dc.encode(fa.string(c))};xc=function(){};j["rg.util.Decrypt"]=xc;xc.__name__=["rg","util","Decrypt"];xc.decrypt=function(a){var b=new ba.RSAEncrypt(xc.modulus,xc.publicExponent),a=Xb.Base64.decode(a);
try{return b.verify(a).toString()}catch(c){return null}};qd=function(){};j["rg.util.Js"]=qd;qd.__name__=["rg","util","Js"];qd.findScript=function(a){var b=ma.document.getElementsByTagName("SCRIPT");if("string"==typeof a)for(var c=0,e=b.length;c<e;){var f=c++,f=b[f],h=f.getAttribute("src");if(null!=h&&0<=h.indexOf(a))return f}else{c=0;for(e=b.length;c<e;)if(f=c++,f=b[f],h=f.getAttribute("src"),null!=h&&h.match(a))return f}return null};qd.findPosition=function(a){var b=0,c=0;do b+=a.offsetLeft,c+=a.offsetTop;
while(null!=(a=a.offsetParent));return{x:b,y:c}};xb=function(){};j["rg.util.Jsonp"]=xb;xb.__name__=["rg","util","Jsonp"];xb.get=function(a,b,c,e,f){var h=xb.get_api;h(a,{success:b,failure:c},e,f)};xb.post=function(a,b,c,e,f,h){var g=xb.post_api;g(a,b,{success:c,failure:e},f,h)};xb.request_api=function(a,b,c,e,f,h){null==f&&(f={});b=wc.addQueryParameters(b,f);null==h&&(h={});var g=e.success,i=null==e.failure?function(){}:e.failure,j="ReportGridChartsJsonpCallback"+(214748363*Math.random()|0),k=ma.document.head;
null==k&&(k=ma.document.getElementsByTagName("head")[0]);ma.window[j]=function(a,b){200==b.status.code||"OK"==b.status.code?g(a):i(b.status.code,b.status.reason);k.removeChild(ma.document.getElementById(j));ma.window[j]=void 0;try{delete window[j]}catch(c){}};e={};e.method=a;if(0<l.fields(h).length)e.headers=ja.Json.encode(h);e.callback=j;if(null!=c)e.content=ja.Json.encode(c);a=wc.addQueryParameters(b,e);b=ma.document.createElement("SCRIPT");b.setAttribute("type","text/javascript");b.setAttribute("src",
a);b.setAttribute("id",j);k.appendChild(b)};xb.get_api=function(a,b,c,e){xb.request_api("GET",a,null,b,c,e)};xb.post_api=function(a,b,c,e,f){xb.request_api("POST",a,b,c,e,f)};W=function(){};j["rg.util.Periodicity"]=W;W.__name__=["rg","util","Periodicity"];W.defaultPeriodicity=function(a){return null==a||0==a?"eternity":216E5>=a?"minute":1728E5>=a?"hour":5184E6>=a?"day":62208E6>=a?"month":"year"};W.defaultRange=function(a){switch(a){case "eternity":a=[0,0];break;case "single":a=[0,0];break;case "minute":a=
W.parsePair("6 hours ago","now");break;case "hour":a=W.parsePair("2 days ago","now");break;case "day":a=W.parsePair("14 days ago","today");break;case "month":a=W.parsePair("6 months ago","today");break;case "year":a=W.parsePair("6 years ago","today");break;default:throw"invalid periodicity: "+a;}return a};W.isValid=function(a){return B.exists(W.validPeriods,a)};W.calculateBetween=function(a,b,c){null==c&&(c=2);if(null==a||null==b)return"eternity";a=Math.abs(b.getTime()-a.getTime());return a>=za.days(365*
c)?"year":a>=za.days(30*c)?"month":a>=za.days(7*c)?"week":a>=za.days(c)?"day":a>=za.hours(c)?"hour":"minute"};W.unitsBetween=function(a,b,c){return function(e){switch(c){case "eternity":e=1;break;case "single":e=1;break;case "minute":e=Math.floor((b-a)/6E4);break;case "hour":e=Math.floor((b-a)/36E5);break;case "day":e=Math.floor((b-a)/864E5);break;case "week":e=Math.floor((b-a)/6048E5);break;case "month":e=function(c){var e=function(){var b=new Date;b.setTime(a);return b}(c),g=function(){var a=new Date;
a.setTime(b);return a}(c),c=e.getFullYear(),i=g.getFullYear(),e=e.getMonth(),g=g.getMonth();return 12*(i-c)+(g-e)}(e);break;case "year":e=Math.floor(W.unitsBetween(a,b,"month")/12);break;default:throw"invalid periodicity: "+c;}return e}(this)};W.units=function(a,b){var c=W.unitsBetween(0,a,b),e;switch(b){case "hour":e=1;break;default:e=0}return c+e};W.range=function(a,b,c){var e=1E3;switch(c){case "eternity":return[0];case "single":return[0];case "minute":e=6E4;break;case "hour":e=36E5;break;case "day":for(var e=
va.snap(a,"day"),f=va.snap(b,"day"),b=[];e<=f;)b.push(e),e=va.snap(e+864E5,"day");return b;case "week":e=6048E5;break;case "month":e=W.dateUtc(a);f=W.dateUtc(b);a=e.getFullYear();c=f.getFullYear();e=e.getMonth();f=f.getMonth();for(b=[];a<c||a==c&&e<=f;)b.push((new Date(a,e,1,0,0,0)).getTime()),e++,11<e&&(e=0,a++);return b;case "year":return b=O.range(W.dateUtc(a).getFullYear(),W.dateUtc(b).getFullYear()+1,1).map(function(a){return(new Date(a,0,1,0,0,0)).getTime()})}return D.range(a,b+e,e)};W.next=
function(a,b,c){null==c&&(c=1);null==b&&(b=(new Date).getTime());return 0==c?b:function(e){switch(a){case "eternity":e=b;break;case "single":e=b;break;case "minute":e=b+6E4*c;break;case "hour":e=b+36E5*c;break;case "day":e=b+864E5*c;break;case "week":e=b+6048E5*c;break;case "month":e=function(){var a=new Date;a.setTime(b);var e=a.getFullYear(),g=a.getMonth()+c;return(new Date(e,g,a.getDay(),a.getHours(),a.getMinutes(),a.getSeconds())).getTime()}(e);break;case "year":e=function(){var a=new Date;a.setTime(b);
return(new Date(a.getFullYear()+c,a.getMonth(),a.getDay(),a.getHours(),a.getMinutes(),a.getSeconds())).getTime()}(e);break;default:throw"invalid periodicity: "+a;}return e}(this)};W.minForPeriodicityInSeries=function(a,b){return B.floatMin(a,function(a){return B.floatMin(l.fields(l.field(a,b)),function(a){return n.parseFloat(a)})})};W.maxForPeriodicityInSeries=function(a,b){return B.floatMax(a,function(a){return B.floatMax(l.fields(l.field(a,b)),function(a){return n.parseFloat(a)})})};W.formatf=function(a){return function(){var b;
switch(a){case "eternity":b=function(){return"all time"};break;case "single":b=function(){return"period"};break;case "minute":b=function(a){return o.FormatDate.timeShort(function(){var b=new Date;b.setTime(a);return b}(this))};break;case "hour":b=function(a){return o.FormatDate.timeShort(function(){var b=new Date;b.setTime(a);return b}(this))};break;case "day":b=function(a){return o.FormatDate.dateShort(function(){var b=new Date;b.setTime(a);return b}(this))};break;case "week":b=function(a){return o.FormatDate.dateShort(function(){var b=
new Date;b.setTime(a);return b}(this))};break;case "month":b=function(a){return o.FormatDate.yearMonth(function(){var b=new Date;b.setTime(a);return b}(this))};break;case "year":b=function(a){return o.FormatDate.year(function(){var b=new Date;b.setTime(a);return b}(this))};break;default:throw"invalid periodicity: "+a;}return b}(this)};W.format=function(a,b){switch(a){case "eternity":return"all time";case "single":return"period";case "minute":return o.FormatDate.timeShort(function(){var a=new Date;
a.setTime(b);return a}(this));case "hour":return o.FormatDate.hourShort(function(){var a=new Date;a.setTime(b);return a}(this));case "day":return o.FormatDate.dateShort(function(){var a=new Date;a.setTime(b);return a}(this));case "week":return o.FormatDate.dateShort(function(){var a=new Date;a.setTime(b);return a}(this));case "month":return o.FormatDate.yearMonth(function(){var a=new Date;a.setTime(b);return a}(this));case "year":return o.FormatDate.year(function(){var a=new Date;a.setTime(b);return a}(this));
default:return a+": "+b}};W.smartFormat=function(a,b){switch(a){case "eternity":return"all time";case "single":return"all time";case "minute":return W.firstInSeries("hour",b)?o.FormatDate.timeShort(function(){var a=new Date;a.setTime(b);return a}(this)):o.FormatDate.format("%i",function(){var a=new Date;a.setTime(b);return a}(this));case "hour":return W.firstInSeries("day",b)?o.FormatDate.format("%b %e",W.dateUtc(b)):o.FormatDate.hourShort(function(){var a=new Date;a.setTime(b);return a}(this));case "day":return W.firstInSeries("month",
b)?o.FormatDate.format("%b %e",W.dateUtc(b)):o.FormatDate.format("%e",W.dateUtc(b));case "week":var c=W.dateUtc(b);return 7>=c.getDate()?o.FormatDate.format("%b %e",c):o.FormatDate.format("%e",c);case "month":return W.firstInSeries("year",b)?o.FormatDate.year(W.dateUtc(b)):o.FormatDate.format("%b",W.dateUtc(b));case "year":return o.FormatDate.year(W.dateUtc(b));default:return a+": "+n.string(function(){var a=new Date;a.setTime(b);return a}(this))}};W.firstInSeries=function(a,b){return function(c){switch(a){case "eternity":c=
0==b;break;case "single":c=0==b;break;case "minute":c=0==b%6E4;break;case "hour":c=0==b%36E5;break;case "day":c=function(){var a=new Date;a.setTime(b);return 0==a.getHours()&&0==a.getMinutes()&&0==a.getSeconds()}(c);break;case "week":c=function(){var a=new Date;a.setTime(b);return 0==a.getDay()}(c);break;case "month":c=function(){var a=new Date;a.setTime(b);return 1==a.getDate()}(c);break;case "year":c=function(){var a=new Date;a.setTime(b);return 1==a.getDate()&&0==a.getMonth()}(c);break;default:c=
!1}return c}(this)};W.nextPeriodicity=function(a){switch(a){case "minute":a="hour";break;case "hour":a="day";break;case "day":a="month";break;case "week":a="month";break;case "month":a="year";break;default:a="year"}return a};W.prevPeriodicity=function(a){switch(a){case "minute":a="hour";break;case "hour":a="minute";break;case "day":a="hour";break;case "week":a="day";break;case "month":a="day";break;default:a="minute"}return a};W.parsePair=function(a,b){return[x.DateParser.parse(a).getTime(),x.DateParser.parse(b).getTime()]};
W.timezoneOffset=function(a){return a.getTimezoneOffset()};W.dateUtc=function(a){var b=function(){var b=new Date;b.setTime(a);return b}(this).getTimezoneOffset();0>b&&(b=0);return function(){var c=new Date;c.setTime(a+6E4*b);return c}(this)};W.isValidGroupBy=function(a){return B.exists(W.validGroupValues,a)};ya=function(){};j["rg.util.Properties"]=ya;ya.__name__=["rg","util","Properties"];ya.isTime=function(a){return 0<=a.indexOf("time:")};ya.periodicity=function(a){return u.substr(a,a.indexOf("time:")+
5,null)};ya.timeProperty=function(a){return".time:"+a};ya.humanize=function(a){return Ca.humanize(a)};ya.formatValue=function(a,b){var c=l.field(b,a);if(null==c)return c;if(0<=a.indexOf("time:")){var e=u.substr(a,a.indexOf("time:")+5,null);return W.format(e,va.snap(c,e))}return Ca.humanize(c)};Sd=function(){};j["rg.util.RG"]=Sd;Sd.__name__=["rg","util","RG"];Sd.getTokenId=function(){try{return E.rtrim(E.ltrim(ReportGrid.$.Config.tokenId,'"'),'"')}catch(a){return null}};aa=function(){};j["rg.util.RGColors"]=
aa;aa.__name__=["rg","util","RGColors"];aa.parse=function(a,b){try{var c=g.Colors.parse(a);if(null!=c)return c}catch(e){}return g.Colors.parse(b)};aa.applyLightness=function(a,b,c){null==c&&(c=1/Math.abs(b));return 0<=b?g.Hsl.lighter(a,(1-c)*(1+b)):g.Hsl.darker(a,(1-c)*(1-b))};aa.extractColor=function(a){return a.__rgcolor__};aa.storeColor=function(a,b){a.__rgcolor__=b};aa.storeColorForSelection=function(a,b,c){null==b&&(b="fill");a.eachNode(function(a){var f=null==c?U.selectNode(wa.current).style(b).get():
c;aa.storeColor(a,f)})};Ca=function(){};j["rg.util.RGStrings"]=Ca;Ca.__name__=["rg","util","RGStrings"];Ca.humanize=function(a){if(I.__instanceof(a,Hd))return O.format(a);if(I.__instanceof(a,Fc))return D.format(a);a=n.string(a);if(Ca.range.match(a)){var a=Ca.range.matched(1),b=Ca.range.matched(2),a=null!=a?O.canParse(a)?O.format(O.parse(a)):D.format(D.parse(a)):"",b=null!=b?O.canParse(b)?O.format(O.parse(b)):D.format(D.parse(b)):"";return Ca.hstring(Ca.range.matchedLeft())+a+"-"+b+Ca.hstring(Ca.range.matchedRight())}return Ca.hstring(a)};
Ca.hstring=function(a){return E.ucwords(E.humanize(a))};wc=function(){};j["rg.util.Urls"]=wc;wc.__name__=["rg","util","Urls"];wc.addQueryParameters=function(a,b){for(var c=0>a.indexOf("?")?"?":"&",e=[],f=0,h=l.fields(b);f<h.length;){var g=h[f];++f;var i=n.string(l.field(b,g));e.push(g+"="+F.urlEncode(i))}return 0==e.length?a:a+c+e.join("&")};wc.parseQueryParameters=function(a){var b=a.indexOf("?");if(0>b)return{};for(var a=u.substr(a,b+1,null).split("&"),b={},c=0;c<a.length;){var e=a[c];++c;var f=
e.split("="),e=f[0],f=null==f[1]?null:F.urlDecode(f[1]);b[e]=f}return b};mc=function(a){this.container=a};cd=void 0;dd=void 0;xa=void 0;ed=void 0;fd=void 0;gd=void 0;hd=void 0;id=void 0;jd=void 0;Fb=void 0;kd=void 0;ld=void 0;Oa=void 0;Ya=void 0;Qb=void 0;j["rg.visualization.Visualization"]=mc;mc.__name__=["rg","visualization","Visualization"];mc.prototype={removeReady:function(a){this.ready.remove(a)},addReady:function(a){this.ready.add(a);this.hasRendered&&a()},addReadyOnce:function(a){this.ready.addOnce(a);
this.hasRendered&&a()},destroy:function(){},feedData:function(){},init:function(){throw new J.AbstractMethod({fileName:"Visualization.hx",lineNumber:42,className:"rg.visualization.Visualization",methodName:"init"});},setVariables:function(a,b,c){var e=this;this.variables=a;this.independentVariables=b;this.dependentVariables=c;this.hasRendered=!1;this.ready=new sc;this.ready.addOnce(function(){e.hasRendered=!0})},hasRendered:null,ready:null,container:null,variables:null,dependentVariables:null,independentVariables:null,
__class__:mc};Oa=function(a){mc.call(this,a.container);this.layout=a};j["rg.visualization.VisualizationSvg"]=Oa;Oa.__name__=["rg","visualization","VisualizationSvg"];Oa.__super__=mc;Oa.prototype=H(mc.prototype,{layout:null,baseChart:null,__class__:Oa});Ya=function(a){Oa.call(this,a)};j["rg.visualization.VisualizationCartesian"]=Ya;Ya.__name__=["rg","visualization","VisualizationCartesian"];Ya.__super__=Oa;Ya.prototype=H(Oa.prototype,{createRules:function(a,b,c){var a=this.info.displayMinorRule(b),
e=this.info.displayMajorRule(b),f=this.info.displayAnchorLineRule(b);null!=this.info.label.axis&&this.info.label.axis(b);b=null;if(a||e){b=this.layout.getPanel("main");if(null==b)return null;b=new Ka.RulesOrtho(b,c);b.displayMinor=a;b.displayMajor=e;b.displayAnchorLine=f;b.init()}return b},createTickmarks:function(a,b,c){var e=this,f=this.info.displayMinorTick(b),h=this.info.displayMajorTick(b),g=this.info.displayLabelTick(b),i=this.info.displayAnchorLineTick(b),j=null!=this.info.label.axis?this.info.label.axis(b):
null,k=null,l;if(f||h||g||i){l=this.layout.getContext(c);if(null==l)return null;k=new Ka.TickmarksOrtho(l.panel,l.anchor);this.setTickmarksDefaults(k,a,b,c);if(g){if(null!=this.info.label.tickmark)k.tickLabel=function(a){return e.info.label.tickmark(a,b)}}else k.displayLabel=!1;k.displayMinor=f;k.displayMajor=h;k.lengthMinor=this.info.lengthTickMinor;k.lengthMajor=this.info.lengthTickMajor;k.paddingMinor=this.info.paddingTickMinor;k.paddingMajor=this.info.paddingTickMajor;k.paddingLabel=this.info.paddingLabel;
a=this.info.labelAnchor(b);if(null!=a)k.labelAnchor=p.GridAnchors.parse(a);a=this.info.labelOrientation(b);if(null!=a)k.labelOrientation=p.LabelOrientations.parse(a);if(null!=(a=this.info.labelAngle(b)))k.labelAngle=a;k.displayAnchorLine=i}if(null!=j&&null!=(l=this.layout.getContext(c+"title")))i=(new Ka.Title(l.panel,j,l.anchor,null,"axis-title")).idealHeight(),this.layout.suggestSize(c+"title",i);null!=k&&k.init();return k},setTickmarksDefaults:function(){},destroy:function(){this.chart.destroy()},
transformData:function(){throw new J.AbstractMethod({fileName:"VisualizationCartesian.hx",lineNumber:163,className:"rg.visualization.VisualizationCartesian",methodName:"transformData"});},feedData:function(a){if(0!=a.length){null!=this.title&&null!=this.info.label.title&&(this.title.set_text(this.info.label.title(this.variables,a,this.variables.map(function(a){return a.type}))),this.layout.suggestSize("title",this.title.idealHeight()));a=this.transformData(a);this.chart.setVariables(this.variables,
this.independentVariables,this.dependentVariables,a);for(var b=0,c=this.ylabels.length;b<c;){var e=b++,e=this.ylabels[e],f=this.yvariables[e.id];e.tickmarks.update(f.axis,f.min(),f.max());f=Math.round(e.tickmarks.desiredSize);this.layout.suggestSize("y"+e.id,f)}b=0;for(c=this.yrules.length;b<c;)e=b++,e=this.yrules[e],f=this.yvariables[e.id],e.rules.update(f.axis,f.min(),f.max());if(null!=this.xlabel)f=this.xvariable,this.xlabel.update(f.axis,f.min(),f.max()),f=Math.round(this.xlabel.desiredSize),
this.layout.suggestSize("x",f);if(null!=this.xrule)f=this.xvariable,this.xrule.update(f.axis,f.min(),f.max());this.chart.data(a)}},initTitle:function(){if(null!=this.info.label.title){var a=this.layout.getContext("title");if(null!=a)this.title=new Ka.Title(a.panel,null,a.anchor)}},initCartesianChart:function(){this.chart.animated=this.info.animation.animated;this.chart.animationDuration=this.info.animation.duration;this.chart.animationEase=this.info.animation.ease;this.chart.click=this.info.click;
this.chart.labelDataPoint=this.info.label.datapoint;this.chart.labelDataPointOver=this.info.label.datapointover;this.chart.init()},initChart:function(){throw new J.AbstractMethod({fileName:"VisualizationCartesian.hx",lineNumber:88,className:"rg.visualization.VisualizationCartesian",methodName:"initChart"});},initXAxis:function(){this.xlabel=this.createTickmarks(0,this.xvariable.type,"x");this.xrule=this.createRules(0,this.xvariable.type,Qa.Vertical)},initYAxes:function(){this.ylabels=[];this.yrules=
[];for(var a=0,b=this.yvariables.length;a<b;){var c=a++,e=this.createTickmarks(c+1,this.yvariables[c].type,"y"+c),f=this.createRules(c+1,this.yvariables[c].type,Qa.Horizontal);null!=e&&this.ylabels.push({id:c,tickmarks:e});null!=f&&this.yrules.push({id:c,rules:f})}},initPadding:function(){this.layout.adjustPadding()},initAxes:function(){throw new J.AbstractMethod({fileName:"VisualizationCartesian.hx",lineNumber:46,className:"rg.visualization.VisualizationCartesian",methodName:"initAxes"});},init:function(){this.initAxes();
this.initYAxes();this.initXAxis();this.initTitle();this.initPadding();this.initChart();this.initCartesianChart()},yvariables:null,xvariable:null,title:null,yrules:null,ylabels:null,xrule:null,xlabel:null,chart:null,info:null,__class__:Ya});ed=function(a){Ya.call(this,a)};j["rg.visualization.VisualizationBarChart"]=ed;ed.__name__=["rg","visualization","VisualizationBarChart"];ed.__super__=Ya;ed.prototype=H(Ya.prototype,{transformData:function(a){var b=[],c=this.independentVariables[0],e=c.axis.range(c.min(),
c.max());if(0<=c.type.indexOf("time:"))for(var f=ya.periodicity(c.type),h=0;h<e.length;){var g=[e[h]];++h;for(var i=[],j=0,k=this.dependentVariables.length;j<k;){var n=j++,n=Pa.filterByDependents(a,[this.dependentVariables[n]]);i.push(B.filter(n,function(a){return function(b){return va.snap(l.field(b,c.type),f)==a[0]}}(g)))}b.push(i)}else for(h=0;h<e.length;){g=[e[h]];++h;i=[];j=0;for(k=this.dependentVariables.length;j<k;)n=j++,n=Pa.filterByDependents(a,[this.dependentVariables[n]]),i.push(B.filter(n,
function(a){return function(b){return l.field(b,c.type)==a[0]}}(g)));b.push(i)}var o=null;if(null!=this.infoBar.segment.on){var p=this.infoBar.segment.on,o=new hb.Set;if(0!=this.infoBar.segment.values.length){h=0;for(k=this.infoBar.segment.values;h<k.length;)g=k[h],++h,o.add(g)}else a.forEach(function(a){o.add(l.field(a,p))});a=o.array();k=0;for(h=e.length;k<h;){n=k++;e=0;for(j=this.dependentVariables.length;e<j;){for(var i=e++,g=b[n][i],q=[],r=0,s=a.length;r<s;)for(var t=r++,t=a[t],u=0,v=g.length;u<
v;){var tc=u++,ye=l.field(g[tc],p);t==ye&&q.push(g[tc])}b[n][i]=q}}}return{data:b,segments:null==o?null:o.array()}},initChart:function(){var a=this,b=new s.BarChart(this.layout.getPanel(this.layout.mainPanelName));this.baseChart=b;b.ready.add(function(){a.ready.dispatch()});b.stacked=this.infoBar.stacked;var c=this.infoBar.effect;switch(c[1]){case 0:b.displayGradient=!1;break;case 1:c=c[2],b.displayGradient=!0,b.gradientLightness=c}b.padding=this.infoBar.barPadding;b.paddingAxis=this.infoBar.barPaddingAxis;
b.paddingDataPoint=this.infoBar.barPaddingDataPoint;b.horizontal=this.infoBar.horizontal;b.startat=this.infoBar.startat;b.segmentProperty=this.infoBar.segment.on;this.chart=b},initAxes:function(){this.infoBar.horizontal?(this.xvariable=this.dependentVariables.map(function(a){return a})[0],this.yvariables=[this.independentVariables[0]]):(this.yvariables=this.dependentVariables.map(function(a){return a}),this.xvariable=this.independentVariables[0])},infoBar:null,__class__:ed});fd=function(a){Oa.call(this,
a)};j["rg.visualization.VisualizationFunnelChart"]=fd;fd.__name__=["rg","visualization","VisualizationFunnelChart"];fd.__super__=Oa;fd.prototype=H(Oa.prototype,{destroy:function(){this.chart.destroy();null!=this.title&&this.title.destroy();Oa.prototype.destroy.call(this)},feedData:function(a){this.chart.setVariables(this.independentVariables,this.dependentVariables);a=Pa.filterByIndependents(Pa.filterByDependents(a,this.dependentVariables),this.independentVariables);null!=this.info.sortDataPoint&&
a.sort(this.info.sortDataPoint);null!=this.title&&(null!=this.info.label.title?(this.title.set_text(this.info.label.title(this.variables,a,this.variables.map(function(a){return a.type}))),this.layout.suggestSize("title",this.title.idealHeight())):this.layout.suggestSize("title",0));null!=this.info.sortDataPoint&&a.sort(this.info.sortDataPoint);this.chart.init();this.chart.data(a)},init:function(){var a=this,b=this.layout.getPanel(this.layout.mainPanelName);this.baseChart=this.chart=new s.FunnelChart(b);
this.chart.ready.add(function(){a.ready.dispatch()});if(null!=this.info.label.datapoint)this.chart.labelDataPoint=this.info.label.datapoint;if(null!=this.info.label.datapoint)this.chart.labelDataPointOver=this.info.label.datapointover;if(null!=this.info.label.arrow)this.chart.labelArrow=this.info.label.arrow;if(null!=this.info.click)this.chart.click=this.info.click;this.chart.padding=this.info.padding;this.chart.flatness=this.info.flatness;b=this.info.effect;switch(b[1]){case 1:b=b[2];this.chart.displayGradient=
!0;this.chart.gradientLightness=b;break;case 0:this.chart.displayGradient=!1}this.chart.arrowSize=this.info.arrowSize;if(null!=this.info.label.title&&(b=this.layout.getContext("title"),null!=b))this.title=new Ka.Title(b.panel,null,b.anchor)},chart:null,title:null,info:null,__class__:fd});gd=function(a){Oa.call(this,a)};j["rg.visualization.VisualizationGeo"]=gd;gd.__name__=["rg","visualization","VisualizationGeo"];gd.__super__=Oa;gd.prototype=H(Oa.prototype,{destroy:function(){this.chart.destroy();
null!=this.title&&this.title.destroy();Oa.prototype.destroy.call(this)},feedData:function(a){this.chart.setVariables(this.independentVariables,this.dependentVariables,a);null!=this.title&&(null!=this.info.label.title?(this.title.set_text(this.info.label.title(this.variables,a,this.variables.map(function(a){return a.type}))),this.layout.suggestSize("title",this.title.idealHeight())):this.layout.suggestSize("title",0));this.chart.init();this.chart.data(a)},init:function(){var a=this;if(null!=this.info.label.title){var b=
this.layout.getContext("title");if(null==b)return;this.title=new Ka.Title(b.panel,null,b.anchor)}b=this.layout.getPanel(this.layout.mainPanelName);this.chart=new s.Geo(b);this.chart.labelOutline=this.info.labelOutline;this.chart.labelShadow=this.info.labelShadow;this.baseChart=this.chart;this.chart.ready.add(function(){a.ready.dispatch()});for(var b=new Yd,c=0,e=this.info.map;c<e.length;){var f=e[c];++c;var h=b.create(f),h=new p.Map(this.chart.mapcontainer,h);h.set_className(f.classname);h.labelDataPoint=
null==f.label?this.info.label.datapoint:f.label.datapoint;h.labelDataPointOver=null==f.label?this.info.label.datapointover:f.label.datapointover;h.click=f.click;h.radius=f.radius;h.colorMode=f.colorScaleMode;h.handlerClick=(P=this.chart,y(P,P.handlerClick));h.handlerDataPointOver=(P=this.chart,y(P,P.handlerDataPointOver));h.mapping=f.mapping;var g=f.mappingurl;if(null!=g&&(!F.startsWith(g,"http://")||!F.startsWith(g,"https://")))g=Pb.BASE_URL_GEOJSON+g+".json"+(f.usejsonp?".js":"");h.load(f.url,f.type,
g,f.usejsonp);this.chart.addMap(h,f.property)}},chart:null,title:null,info:null,__class__:gd});hd=function(a){Ya.call(this,a)};j["rg.visualization.VisualizationHeatGrid"]=hd;hd.__name__=["rg","visualization","VisualizationHeatGrid"];hd.__super__=Ya;hd.prototype=H(Ya.prototype,{setTickmarksDefaults:function(a,b){if(0==b)a.labelAnchor=p.GridAnchor.Left,a.labelAngle=180},transformData:function(a){return a},initChart:function(){var a=this,b=new s.HeatGrid(this.layout.getPanel(this.layout.mainPanelName));
this.baseChart=b;b.ready.add(function(){a.ready.dispatch()});b.useContour=this.infoHeatGrid.contour;b.set_colorMode(this.infoHeatGrid.colorScaleMode);this.chart=b},initAxes:function(){this.xvariable=this.independentVariables[0];this.yvariables=[this.independentVariables[1]]},infoHeatGrid:null,__class__:hd});Qb=function(a){mc.call(this,a);a.classed().add("rg")};j["rg.visualization.VisualizationHtml"]=Qb;Qb.__name__=["rg","visualization","VisualizationHtml"];Qb.__super__=mc;Qb.prototype=H(mc.prototype,
{__class__:Qb});dd=function(a){Qb.call(this,a)};j["rg.visualization.VisualizationLeaderboard"]=dd;dd.__name__=["rg","visualization","VisualizationLeaderboard"];dd.__super__=Qb;dd.prototype=H(Qb.prototype,{feedData:function(a){this.chart.setVariables(this.independentVariables,this.dependentVariables);this.chart.data(a)},init:function(){var a=this;this.chart=new qb.Leadeboard(this.container);this.chart.ready.add(function(){a.ready.dispatch()});if(null!=this.info.label.datapoint)this.chart.labelDataPoint=
this.info.label.datapoint;if(null!=this.info.label.datapointover)this.chart.labelDataPointOver=this.info.label.datapointover;if(null!=this.info.label.rank)this.chart.labelRank=this.info.label.rank;if(null!=this.info.label.value)this.chart.labelValue=this.info.label.value;this.chart.animated=this.info.animation.animated;this.chart.animationDuration=this.info.animation.duration;this.chart.animationDelay=this.info.animation.delay;this.chart.animationEase=this.info.animation.ease;this.chart.useMax=this.info.usemax;
this.chart.displayBar=this.info.displaybar;this.chart.colorScale=this.info.colorscale;if(null!=this.info.click)this.chart.click=this.info.click;if(null!=this.info.sortDataPoint)this.chart.sortDataPoint=this.info.sortDataPoint;this.chart.init()},chart:null,info:null,__class__:dd});id=function(a){Ya.call(this,a)};j["rg.visualization.VisualizationLineChart"]=id;id.__name__=["rg","visualization","VisualizationLineChart"];id.__super__=Ya;id.prototype=H(Ya.prototype,{transformData:function(a){for(var b=
[],c=new Qc(this.infoLine.segment.on,this.infoLine.segment.transform,this.infoLine.segment.scale,this.infoLine.segment.values),e=0,f=this.dependentVariables.length;e<f;){var h=this.dependentVariables[e++],h=Pa.filterByDependents(a,[h]);b.push(c.segment(h))}return b},initChart:function(){var a=this,b=new s.LineChart(this.layout.getPanel(this.layout.mainPanelName));this.baseChart=b;b.ready.add(function(){a.ready.dispatch()});b.symbol=this.infoLine.symbol;b.symbolStyle=this.infoLine.symbolStyle;b.lineInterpolator=
this.infoLine.interpolation;b.lineEffect=this.infoLine.effect;b.sensibleRadius=this.infoLine.sensibleradius;if(null==this.independentVariables[0].scaleDistribution)this.independentVariables[0].scaleDistribution=Za.ScaleFill;if(null!=this.infoLine.y0property)b.y0property=this.infoLine.y0property;else if(this.infoLine.displayarea)b.y0property="";this.chart=b},initAxes:function(){this.xvariable=this.variables[0];this.yvariables=this.variables.slice(1)},infoLine:null,__class__:id});jd=function(a){Oa.call(this,
a)};j["rg.visualization.VisualizationPieChart"]=jd;jd.__name__=["rg","visualization","VisualizationPieChart"];jd.__super__=Oa;jd.prototype=H(Oa.prototype,{destroy:function(){this.chart.destroy();null!=this.title&&this.title.destroy();Oa.prototype.destroy.call(this)},feedData:function(a){this.chart.setVariables(this.independentVariables,this.dependentVariables);null!=this.title&&(null!=this.info.label.title?(this.title.set_text(this.info.label.title(this.variables,a,this.variables.map(function(a){return a.type}))),
this.layout.suggestSize("title",this.title.idealHeight())):this.layout.suggestSize("title",0));null!=this.info.sortDataPoint&&a.sort(this.info.sortDataPoint);this.chart.init();this.chart.data(a)},init:function(){var a=this,b=this.layout.getPanel(this.layout.mainPanelName);this.baseChart=this.chart=new s.PieChart(b);this.chart.ready.add(function(){a.ready.dispatch()});this.chart.innerRadius=this.info.innerradius;this.chart.outerRadius=this.info.outerradius;this.chart.overRadius=this.info.overradius;
this.chart.tooltipRadius=this.info.tooltipradius;b=this.info.effect;switch(b[1]){case 1:b=b[2];this.chart.displayGradient=!0;this.chart.gradientLightness=b;break;case 0:this.chart.displayGradient=!1}this.chart.labelDataPoint=this.info.label.datapoint;this.chart.labelDataPointOver=this.info.label.datapointover;this.chart.labelRadius=this.info.labelradius;this.chart.labelOrientation=this.info.labelorientation;this.chart.labelDontFlip=this.info.dontfliplabel;this.chart.animated=this.info.animation.animated;
this.chart.animationDuration=this.info.animation.duration;this.chart.animationEase=this.info.animation.ease;this.chart.animationDelay=this.info.animation.delay;if(null!=this.info.click)this.chart.mouseClick=this.info.click;if(null!=this.info.label.title&&(b=this.layout.getContext("title"),null!=b))this.title=new Ka.Title(b.panel,null,b.anchor)},info:null,title:null,chart:null,__class__:jd});cd=function(a){Qb.call(this,a)};j["rg.visualization.VisualizationPivotTable"]=cd;cd.__name__=["rg","visualization",
"VisualizationPivotTable"];cd.__super__=Qb;cd.prototype=H(Qb.prototype,{destroy:function(){this.chart.destroy()},feedData:function(a){this.chart.setVariables(this.independentVariables,this.dependentVariables);this.chart.data(a)},init:function(){var a=this;this.chart=new qb.PivotTable(this.container);this.chart.ready.add(function(){a.ready.dispatch()});this.chart.displayColumnTotal=this.info.displayColumnTotal;this.chart.displayHeatMap=this.info.displayHeatmap;this.chart.displayRowTotal=this.info.displayRowTotal;
this.chart.colorStart=this.info.heatmapColorStart;this.chart.colorEnd=this.info.heatmapColorEnd;this.chart.cellclass=this.info.cellclass;this.chart.valueclass=this.info.valueclass;this.chart.headerclass=this.info.headerclass;this.chart.totalclass=this.info.totalclass;if(null!=this.info.click)this.chart.click=this.info.click;if(null!=this.info.label.datapoint)this.chart.labelDataPoint=this.info.label.datapoint;if(null!=this.info.label.datapointover)this.chart.labelDataPointOver=this.info.label.datapointover;
if(null!=this.info.label.axis)this.chart.labelAxis=this.info.label.axis;if(null!=this.info.label.axisvalue)this.chart.labelAxisValue=this.info.label.axisvalue;if(null!=this.info.label.total)this.chart.labelTotal=this.info.label.total;if(null!=this.info.label.totalover)this.chart.labelTotalOver=this.info.label.totalover;this.chart.incolumns=O.min(this.info.columnAxes,this.independentVariables.length);this.chart.init()},chart:null,info:null,__class__:cd});Fb=function(a){Oa.call(this,a)};j["rg.visualization.VisualizationSankey"]=
Fb;Fb.__name__=["rg","visualization","VisualizationSankey"];Fb.defaultIdf=function(a){return null==a?function(a){return a.id}:a};Fb.defaultNodef=function(a){if(null==a){var b=0;return function(a){return{id:"#"+ ++b,weight:a.weight,entry:0,exit:0}}}return a};Fb.defaultEdgesf=function(a,b){return null==b?function(b){for(var e=[],f=a(b),h=0,g=l.fields(b.parents);h<g.length;){var i=g[h];++h;e.push({head:f,tail:i,weight:l.field(b.parents,i)})}return e}:b};Fb.__super__=Oa;Fb.prototype=H(Oa.prototype,{destroy:function(){this.chart.destroy();
null!=this.title&&this.title.destroy();Oa.prototype.destroy.call(this)},defaultWeightf:function(a){if(null==a){var b=this.dependentVariables[0].type;return function(a){a=l.field(a,b);return null!=a?a:0}}return a},sugiyama:function(a,b){return(new t.SugiyamaMethod).resolve(a,b)},weightBalance:function(a,b){var c=new t.GraphLayout(a,(new t.HeaviestNodeLayer).lay(a)),c=(new t.EdgeSplitter).split(c,[],b);return c=t.GreedySwitchDecrosser.best().decross(c)},layoutData:function(a,b,c,e,f,h){a=this.createGraph(a,
c,f,h);e=Fb.defaultNodef(e);switch(b){case "weightbalance":return this.weightBalance(a,e);default:return this.sugiyama(a,e)}},extractEdges:function(a){return B.filter(a,function(a){return null!=a.head&&null!=a.tail})},extractNodes:function(a){var b=B.filter(a,function(a){return null!=a.id});if(0==b.length){var c=this.dependentVariables[0].type,e=new ea,f=function(a,b,c){if(null!=a){var f=e.get(a);null==f&&(f={node:{id:a},positive:0,negative:0},e.set(a,f));b?f.positive+=c:f.negative+=c}};B.filter(a,
function(a){return l.hasField(a,"head")||l.hasField(a,"tail")}).forEach(function(a){var b=l.field(a,c);f(a.tail,!0,b);f(a.head,!1,b)});b=N.array(e.iterator()).map(function(a){var b=a.node;b[c]=Math.max(a.positive,a.negative);return b})}return b},createGraph:function(a,b,c,e){b=Fb.defaultIdf(b);Fb.defaultEdgesf(b,e);for(var c=this.defaultWeightf(c),e=new t.Graph(b),f=this.extractNodes(a),a=this.extractEdges(a),h=0;h<f.length;){var g=f[h];++h;e.nodes.create({dp:g,id:b(g),weight:c(g),entry:0,exit:0})}for(h=
0;h<a.length;){b=a[h];++h;var f=e.nodes.getById(b.head),i=e.nodes.getById(b.tail);if(null==f){var g={id:b.head},j=c(b);g[this.dependentVariables[0].type]=j;f=e.nodes.create({dp:g,id:b.head,weight:j,entry:0,exit:0})}null==i&&(g={id:b.tail},j=c(b),g[this.dependentVariables[0].type]=j,i=e.nodes.create({dp:g,id:b.tail,weight:j,entry:0,exit:0}));e.edges.create(i,f,c(b))}for(c=e.nodes.collection.iterator();c.hasNext();){a=c.next();h=a.negativeWeight();g=a.positiveWeight();if(0==a.data.weight)a.data.weight=
h;a.data.entry=Math.max(0,a.data.weight-h);a.data.exit=Math.max(0,a.data.weight-g)}return e},layoutDataWithMap:function(a,b,c,e,f){var h=this.createGraph(a,c,e,f);b.layers.map(function(a){return a.map(function(a){var b=h.nodes.getById(a);null==b&&(b=h.nodes.create({id:a,weight:0,entry:0,exit:0,dp:{id:a}}));return b.id})});a=0;for(c=b.dummies;a<c.length;){e=c[a];++a;for(var g=h.nodes.getById(e[0]),f=h.nodes.getById(e[e.length-1]),i=[g],g=g.connectedBy(f),j=null==g?0:g.weight,k=1,l=e.length-1;k<l;){var n=
k++;i.push(h.nodes.create({id:e[n],weight:j,entry:0,exit:0,dp:null}))}i.push(f);k=0;for(l=i.length-1;k<l;)n=k++,h.edges.create(i[n],i[n+1],j);null!=g&&g.graph.edges._remove(g)}b=b.layers.map(function(a){return a.map(function(a){var b=h.nodes.getById(a);null==b&&(b=h.nodes.create({id:a,weight:0,entry:0,exit:0,dp:{id:a}}));return b.id})});return new t.GraphLayout(h,b)},feedData:function(a){this.chart.setVariables(this.independentVariables,this.dependentVariables,a);null!=this.title&&(null!=this.info.label.title?
(this.title.set_text(this.info.label.title(this.variables,a,this.variables.map(function(a){return a.type}))),this.layout.suggestSize("title",this.title.idealHeight())):this.layout.suggestSize("title",0));a=null!=this.info.layoutmap?this.layoutDataWithMap(a,this.info.layoutmap):this.layoutData(a,this.info.layoutmethod);if(null!=this.info.layerWidth)this.chart.layerWidth=this.info.layerWidth;if(null!=this.info.nodeSpacing)this.chart.nodeSpacing=this.info.nodeSpacing;if(null!=this.info.dummySpacing)this.chart.dummySpacing=
this.info.dummySpacing;if(null!=this.info.extraWidth)this.chart.extraWidth=this.info.extraWidth;if(null!=this.info.backEdgeSpacing)this.chart.backEdgeSpacing=this.info.backEdgeSpacing;if(null!=this.info.extraHeight)this.chart.extraHeight=this.info.extraHeight;if(null!=this.info.extraRadius)this.chart.extraRadius=this.info.extraRadius;if(null!=this.info.imageWidth)this.chart.imageWidth=this.info.imageWidth;if(null!=this.info.imageHeight)this.chart.imageHeight=this.info.imageHeight;if(null!=this.info.imageSpacing)this.chart.imageSpacing=
this.info.imageSpacing;if(null!=this.info.labelNodeSpacing)this.chart.labelNodeSpacing=this.info.labelNodeSpacing;this.chart.stackbackedges=this.info.stackbackedges;this.chart.thinbackedges=this.info.thinbackedges;this.chart.labelDataPoint=this.info.label.datapoint;this.chart.labelDataPointOver=this.info.label.datapointover;this.chart.labelNode=this.info.label.node;this.chart.labelEdge=this.info.label.edge;this.chart.labelEdgeOver=this.info.label.edgeover;this.chart.imagePath=this.info.imagePath;
this.chart.click=this.info.click;this.chart.clickEdge=this.info.clickEdge;this.chart.nodeClass=this.info.nodeclass;this.chart.edgeClass=this.info.edgeclass;this.chart.displayEntry=this.info.displayentry;this.chart.displayExit=this.info.displayexit;this.chart.init();this.chart.data(a)},init:function(){var a=this;if(null!=this.info.label.title){var b=this.layout.getContext("title");if(null==b)return;this.title=new Ka.Title(b.panel,null,b.anchor)}b=this.layout.getPanel(this.layout.mainPanelName);this.baseChart=
this.chart=new s.Sankey(b);this.chart.ready.add(function(){a.ready.dispatch()})},chart:null,title:null,info:null,__class__:Fb});kd=function(a){Ya.call(this,a)};j["rg.visualization.VisualizationScatterGraph"]=kd;kd.__name__=["rg","visualization","VisualizationScatterGraph"];kd.__super__=Ya;kd.prototype=H(Ya.prototype,{transformData:function(a){var b=[];new Qc(this.infoScatter.segment.on,this.infoScatter.segment.transform,this.infoScatter.segment.scale,this.infoScatter.segment.values);for(var c=0,e=
this.dependentVariables;c<e.length;){var f=e[c];++c;b.push(Pa.filterByDependents(a,[f]))}return b},initChart:function(){var a=this,b=new s.ScatterGraph(this.layout.getPanel(this.layout.mainPanelName));this.baseChart=b;b.ready.add(function(){a.ready.dispatch()});b.symbol=this.infoScatter.symbol;b.symbolStyle=this.infoScatter.symbolStyle;if(null==this.independentVariables[0].scaleDistribution)this.independentVariables[0].scaleDistribution=Za.ScaleFill;this.chart=b},initAxes:function(){this.xvariable=
this.independentVariables[0];this.yvariables=this.dependentVariables.map(function(a){return a})},infoScatter:null,__class__:kd});ld=function(a){Ya.call(this,a)};j["rg.visualization.VisualizationStreamGraph"]=ld;ld.__name__=["rg","visualization","VisualizationStreamGraph"];ld.__super__=Ya;ld.prototype=H(Ya.prototype,{transformData:function(a){return(new Qc(this.infoStream.segment.on,this.infoStream.segment.transform,this.infoStream.segment.scale,this.infoStream.segment.values)).segment(a)},initChart:function(){var a=
this,b=new s.StreamGraph(this.layout.getPanel(this.layout.mainPanelName));this.baseChart=b;b.ready.add(function(){a.ready.dispatch()});b.interpolator=this.infoStream.interpolation;var c=this.infoStream.effect;switch(c[1]){case 0:b.gradientStyle=0;break;case 2:c=c[2];b.gradientStyle=1;b.gradientLightness=c;break;case 1:c=c[2],b.gradientStyle=2,b.gradientLightness=c}this.chart=b},initAxes:function(){this.xvariable=this.independentVariables[0];this.yvariables=this.dependentVariables.map(function(a){return a})},
infoStream:null,__class__:ld});xa=function(){};j["rg.visualization.Visualizations"]=xa;xa.__name__=["rg","visualization","Visualizations"];xa.instantiateLayout=function(a,b,c,e){return K.createInstance(xa.layoutType.get(a),[b,c,e])};hb={HashList:function(){this.length=0;this.__keys=[];this.__hash=new ea}};j["thx.collection.HashList"]=hb.HashList;hb.HashList.__name__=["thx","collection","HashList"];hb.HashList.prototype={__hash:null,__keys:null,toString:function(){var a=new bb;a.b+="{";for(var b=this.keys();b.hasNext();){var c=
b.next();a.b+=n.string(c);a.b+=" => ";a.b+=n.string(n.string(this.get(c)));b.hasNext()&&(a.b+=", ")}a.b+="}";return a.b},array:function(){for(var a=[],b=0,c=this.__keys;b<c.length;){var e=c[b];++b;a.push(this.__hash.get(e))}return a},clear:function(){this.__hash=new ea;this.__keys=[];this.length=0},iterator:function(){return u.iter(this.array())},keys:function(){return u.iter(this.__keys)},keyAt:function(a){return this.__keys[a]},removeAt:function(a){a=this.__keys[a];if(null==a)return null;var b=
this.__hash.get(a);this.__hash.remove(a);u.remove(this.__keys,a);this.length--;return b},remove:function(a){var b=this.__hash.get(a);if(null==b)return null;this.__hash.remove(a);u.remove(this.__keys,a);this.length--;return b},exists:function(a){return this.__hash.exists(a)},indexOf:function(a){if(!this.__hash.exists(a))return-1;for(var b=0,c=this.__keys.length;b<c;){var e=b++;if(this.__keys[e]==a)return e}throw"this should never happen";},getAt:function(a){return this.__hash.get(this.__keys[a])},
get:function(a){return this.__hash.get(a)},setAt:function(a,b,c){this.remove(b);this.__keys.splice(a,0,b);this.__hash.set(b,c);this.length++},set:function(a,b){this.__hash.exists(a)||(this.__keys.push(a),this.length++);this.__hash.set(a,b)},length:null,__class__:hb.HashList};hb.Set=function(){this._v=[];this.length=0};j["thx.collection.Set"]=hb.Set;hb.Set.__name__=["thx","collection","Set"];hb.Set.ofArray=function(a){for(var b=new hb.Set,c=0;c<a.length;){var e=a[c];++c;b.add(e)}return b};hb.Set.prototype=
{toString:function(){return"{"+this._v.join(", ")+"}"},array:function(){return this._v.slice()},iterator:function(){return u.iter(this._v)},exists:function(a){for(var b=0,c=this._v;b<c.length;){var e=c[b];++b;if(e==a)return!0}return!1},remove:function(a){a=u.remove(this._v,a);this.length=this._v.length;return a},add:function(a){u.remove(this._v,a);this._v.push(a);this.length=this._v.length},_v:null,length:null,__class__:hb.Set};g.Cmyk=function(a,b,c,e){g.Rgb.call(this,O.interpolate(D.normalize(1-
a-e),0,255,null),O.interpolate(D.normalize(1-b-e),0,255,null),O.interpolate(D.normalize(1-c-e),0,255,null));this.cyan=D.normalize(a);this.magenta=D.normalize(b);this.yellow=D.normalize(c);this.black=D.normalize(e)};j["thx.color.Cmyk"]=g.Cmyk;g.Cmyk.__name__=["thx","color","Cmyk"];g.Cmyk.toCmyk=function(a){var b=0,c=0,e=0;0==a.red+a.blue+a.green?a=1:(b=1-a.red/255,e=1-a.green/255,c=1-a.blue/255,a=D.min(b<e?b:e,c),b=(b-a)/(1-a),e=(e-a)/(1-a),c=(c-a)/(1-a));return new g.Cmyk(b,e,c,a)};g.Cmyk.equals=
function(a,b){return a.black==b.black&&a.cyan==b.cyan&&a.magenta==b.magenta&&a.yellow==b.yellow};g.Cmyk.darker=function(a,b,c){return new g.Cmyk(a.cyan,a.magenta,a.yellow,D.interpolate(b,a.black,0,c))};g.Cmyk.lighter=function(a,b,c){return new g.Cmyk(a.cyan,a.magenta,a.yellow,D.interpolate(b,a.black,1,c))};g.Cmyk.interpolate=function(a,b,c,e){return new g.Cmyk(D.interpolate(c,a.cyan,b.cyan,e),D.interpolate(c,a.magenta,b.magenta,e),D.interpolate(c,a.yellow,b.yellow,e),D.interpolate(c,a.black,b.black,
e))};g.Cmyk.__super__=g.Rgb;g.Cmyk.prototype=H(g.Rgb.prototype,{toCmykString:function(){return"cmyk("+this.cyan+","+this.magenta+","+this.yellow+","+this.black+")"},yellow:null,magenta:null,cyan:null,black:null,__class__:g.Cmyk});g.Colors=function(){};j["thx.color.Colors"]=g.Colors;g.Colors.__name__=["thx","color","Colors"];g.Colors.interpolatef=function(a,b,c){var a=g.Colors.parse(a),b=g.Colors.parse(b),e=g.Rgb.interpolatef(a,b,c);return function(a){return e(a).toString()}};g.Colors.interpolate=
function(a,b,c,e){return g.Colors.interpolatef(b,c,e)(a)};g.Colors.parse=function(a){if(!g.Colors._reParse.match(a=F.trim(a.toLowerCase()))){var b=g.NamedColors.byName.get(a);return null==b?"transparent"==a?g.Rgb.fromInt(16777215):null:b}a=g.Colors._reParse.matched(1);if(!E.empty(a))switch(b=g.Colors._reParse.matched(2).split(","),a){case "rgb":return new g.Rgb(g.Colors._c(b[0]),g.Colors._c(b[1]),g.Colors._c(b[2]));case "rgba":return new g.Rgb(g.Colors._c(b[0]),g.Colors._c(b[1]),g.Colors._c(b[2]));
case "hsl":return new g.Hsl(g.Colors._d(b[0]),g.Colors._p(b[1]),g.Colors._p(b[2]));case "cmyk":return new g.Cmyk(g.Colors._p(b[0]),g.Colors._p(b[1]),g.Colors._p(b[2]),g.Colors._p(b[3]))}a=g.Colors._reParse.matched(3);if(3==a.length)a=a.split("").map(function(a){return a+a}).join("");else if(6!=a.length)return null;return g.Rgb.fromInt(n.parseInt("0x"+a))};g.Colors._c=function(a){return n.parseInt(F.trim(a))};g.Colors._d=function(a){a=F.trim(a);"deg"==u.substr(a,-3,null)?a=u.substr(a,0,-3):"\u00ba"==
u.substr(a,-1,null)&&(a=u.substr(a,0,-1));return n.parseFloat(a)};g.Colors._p=function(a){a=F.trim(a);return"%"==u.substr(a,-1,null)?n.parseFloat(u.substr(a,0,-1))/100:n.parseFloat(a)};g.Grey=function(a){this.grey=D.normalize(a);a=O.interpolate(this.grey,0,255,null);g.Rgb.call(this,a,a,a)};j["thx.color.Grey"]=g.Grey;g.Grey.__name__=["thx","color","Grey"];g.Grey.toGrey=function(a,b){if(null==b)b=g.PerceivedLuminance.Perceived;switch(b[1]){case 0:return new g.Grey(0.2126*(a.red/255)+0.7152*(a.green/
255)+0.0722*(a.blue/255));case 1:return new g.Grey(0.299*(a.red/255)+0.587*(a.green/255)+0.114*(a.blue/255));case 2:return new g.Grey(Math.sqrt(0.241*Math.pow(a.red/255,2)+0.691*Math.pow(a.green/255,2)+0.068*Math.pow(a.blue/255,2)))}};g.Grey.equals=function(a,b){return a.grey==b.grey};g.Grey.darker=function(a,b,c){return new g.Grey(D.interpolate(b,a.grey,0,c))};g.Grey.lighter=function(a,b,c){return new g.Grey(D.interpolate(b,a.grey,1,c))};g.Grey.interpolate=function(a,b,c,e){return new g.Grey(D.interpolate(c,
a.grey,b.grey,e))};g.Grey.__super__=g.Rgb;g.Grey.prototype=H(g.Rgb.prototype,{grey:null,__class__:g.Grey});g.PerceivedLuminance={__ename__:["thx","color","PerceivedLuminance"],__constructs__:["Standard","Perceived","PerceivedAccurate"]};g.PerceivedLuminance.Standard=["Standard",0];g.PerceivedLuminance.Standard.toString=v;g.PerceivedLuminance.Standard.__enum__=g.PerceivedLuminance;g.PerceivedLuminance.Perceived=["Perceived",1];g.PerceivedLuminance.Perceived.toString=v;g.PerceivedLuminance.Perceived.__enum__=
g.PerceivedLuminance;g.PerceivedLuminance.PerceivedAccurate=["PerceivedAccurate",2];g.PerceivedLuminance.PerceivedAccurate.toString=v;g.PerceivedLuminance.PerceivedAccurate.__enum__=g.PerceivedLuminance;g.NamedColors=function(){};j["thx.color.NamedColors"]=g.NamedColors;g.NamedColors.__name__=["thx","color","NamedColors"];Ua={Csv:function(){}};j["thx.csv.Csv"]=Ua.Csv;Ua.Csv.__name__=["thx","csv","Csv"];Ua.Csv.encode=function(a,b,c,e){b=new Ua.CsvEncoder(b,c,e);(new Ta.ValueEncoder(b)).encode(a);return b.encodedString};
Ua.Csv.decode=function(a,b,c,e,f,h,g,i){var j=new Ta.ValueHandler;(new Ua.CsvDecoder(j,b,c,e,f,h,g,i)).decode(a);return j.value};Ua.Csv.decodeObjects=function(a,b,c,e,f,h,g,i){var a=Ua.Csv.decode(a,b,c,e,f,h,g,i),j=a.shift().map(function(a){return""+a}),k=j.length;return a.map(function(a){for(var b={},c=0;c<k;){var e=c++;b[j[e]]=a[e]}return b})};Ua.CsvDecoder=function(a,b,c,e,f,h,g,i){null==i&&(i=!0);null==g&&(g=!0);null==h&&(h='"');null==f&&(f="\r\n|\n|\r");null==e&&(e=!1);null==c&&(c=",");null==
b&&(b=!0);this.handler=a;this.delimiter=c;this.emptytonull=e;this.quote=h;this.doublequotations=g;this.trim_whitespace=i;this.check_type=b;"\r\n|\n|\r"!=f&&(f=tb.ERegs.escapeERegChars(f));this.newline=f;this._end=new R("("+tb.ERegs.escapeERegChars(c)+"|"+f+"|$)","")};j["thx.csv.CsvDecoder"]=Ua.CsvDecoder;Ua.CsvDecoder.__name__=["thx","csv","CsvDecoder"];Ua.CsvDecoder.prototype={typeString:function(a){this.handler.arrayItemStart();""==a&&this.emptytonull?this.handler.valueNull():this.handler.valueString(a);
this.handler.arrayItemEnd()},typeDate:function(a){this.handler.arrayItemStart();this.handler.valueDate(va.parse(a));this.handler.arrayItemEnd()},typeBool:function(a){this.handler.arrayItemStart();this.handler.valueBool(ab.parse(a));this.handler.arrayItemEnd()},typeFloat:function(a){this.handler.arrayItemStart();this.handler.valueFloat(D.parse(a));this.handler.arrayItemEnd()},typeCultureFloat:function(a){this.handler.arrayItemStart();this.handler.valueFloat(gc.NumberParser.parse(a,o.Culture.get_defaultCulture()));
this.handler.arrayItemEnd()},typeInt:function(a){this.handler.arrayItemStart();this.handler.valueInt(O.parse(a));this.handler.arrayItemEnd()},typeToken:function(a){this.check_type?O.canParse(a)?this.typeInt(a):D.canParse(a)?this.typeFloat(a):ab.canParse(a)?this.typeBool(a):va.canParse(a)?this.typeDate(a):this.typeString(a):this.typeString(a)},getTyper:function(a){var b=this._typers[this.column];if(null==b){if(""==a)return y(this,this.typeToken);b=this.check_type?O.canParse(a)?this._typers[this.column]=
y(this,this.typeInt):gc.NumberParser.canParse(a,o.Culture.get_defaultCulture())?this._typers[this.column]=y(this,this.typeCultureFloat):D.canParse(a)?this._typers[this.column]=y(this,this.typeFloat):ab.canParse(a)?this._typers[this.column]=y(this,this.typeBool):va.canParse(a)?this._typers[this.column]=y(this,this.typeDate):this._typers[this.column]=y(this,this.typeString):this._typers[this.column]=y(this,this.typeString)}return b},error:function(a){throw new J.Error("invalid string value '{0}' at line {1}, column {2}",
[E.ellipsis(a,50),this.line,this.column],null,{fileName:"CsvDecoder.hx",lineNumber:128,className:"thx.csv.CsvDecoder",methodName:"error"});},parseValue:function(){if(u.substr(this._s,0,1)==this.quote){var a=this._s.indexOf(this.quote,1);if(-1!=a){if(this.doublequotations)for(;u.substr(this._s,a+1,1)==this.quote;)if(a=this._s.indexOf(this.quote,a+2),-1==a){a=this._s.length;break}}else a=this._s.length;var b=u.substr(this._s,1,a-1);this._s=u.substr(this._s,a+1,null);this.typeString(F.replace(b,this.quote+
this.quote,this.quote));this._end.match(this._s)||this.error(this._s);this._s=this._end.matchedRight();return this._end.matched(0)==this.delimiter}this._end.match(this._s)||this.error(this._s);this._s=this._end.matchedRight();1==this.line?(b=this._end.matchedLeft(),this.trim_whitespace&&(b=F.trim(b)),this.typeToken(b)):(b=this._end.matchedLeft(),this.trim_whitespace&&(b=F.trim(b)),this.getTyper(b)(b));if(this._end.matched(0)==this.delimiter)return!0;this._s=F.ltrim(this._s);return!1},parseLine:function(){this.handler.arrayItemStart();
this.column=1;for(this.handler.arrayStart();this.parseValue();)this.column++;this.handler.arrayEnd();this.line++;this.handler.arrayItemEnd()},decode:function(a){this._s=a;this._typers=[];this.line=1;this.handler.start();for(this.handler.arrayStart();0<this._s.length;)this.parseLine();this.handler.arrayEnd();this.handler.end()},_typers:null,_end:null,_s:null,handler:null,check_type:null,column:null,line:null,trim_whitespace:null,doublequotations:null,quote:null,newline:null,emptytonull:null,delimiter:null,
__class__:Ua.CsvDecoder};Ta={IDataHandler:function(){}};j["thx.data.IDataHandler"]=Ta.IDataHandler;Ta.IDataHandler.__name__=["thx","data","IDataHandler"];Ta.IDataHandler.prototype={comment:null,valueBool:null,valueNull:null,valueFloat:null,valueInt:null,valueString:null,valueDate:null,arrayEnd:null,arrayItemEnd:null,arrayItemStart:null,arrayStart:null,objectEnd:null,objectFieldEnd:null,objectFieldStart:null,objectStart:null,end:null,start:null,__class__:Ta.IDataHandler};Ua.CsvEncoder=function(a,b,
c){null==c&&(c="\n");null==b&&(b=!0);null==a&&(a=",");this.delimiter=a;this.nulltoempty=b;this.newline=c;this.re=new R("("+tb.ERegs.escapeERegChars(a)+'|\n\r|\n|\r|")',"")};j["thx.csv.CsvEncoder"]=Ua.CsvEncoder;Ua.CsvEncoder.__name__=["thx","csv","CsvEncoder"];Ua.CsvEncoder.__interfaces__=[Ta.IDataHandler];Ua.CsvEncoder.prototype={comment:function(){},valueBool:function(a){this.buf.b+=n.string(a?"true":"false")},valueNull:function(){this.nulltoempty||(this.buf.b+="null")},valueFloat:function(a){this.buf.b+=
n.string(a)},valueInt:function(a){this.buf.b+=n.string(a)},valueString:function(a){this.buf.b=this.re.match(a)?this.buf.b+n.string('"'+F.replace(a,'"','""')+'"'):this.buf.b+n.string(a)},valueDate:function(a){this.buf.b=0==a.getSeconds()&&0==a.getMinutes()&&0==a.getHours()?this.buf.b+n.string(va.format(a,"C",["%Y-%m-%d"])):this.buf.b+n.string(va.format(a,"C",["%Y-%m-%d %H:%M:%S"]))},arrayEnd:function(){if(!this.lineContext)this.lineContext=!0},arrayItemEnd:function(){},arrayItemStart:function(){this.lineContext?
(this.lineContext=!1,this.firstValue=!0,this.firstLine?this.firstLine=!1:this.buf.b+=n.string(this.newline)):this.firstValue?this.firstValue=!1:this.buf.b+=n.string(this.delimiter)},arrayStart:function(){},objectEnd:function(){},objectFieldEnd:function(){},objectFieldStart:function(){},objectStart:function(){throw new J.Error("objects cannot be encoded to CSV",null,null,{fileName:"CsvEncoder.hx",lineNumber:48,className:"thx.csv.CsvEncoder",methodName:"objectStart"});},end:function(){this.encodedString=
this.buf.b},start:function(){this.buf=new bb;this.lineContext=this.firstLine=!0},firstValue:null,firstLine:null,valueContext:null,lineContext:null,buf:null,re:null,encodedString:null,newline:null,nulltoempty:null,delimiter:null,__class__:Ua.CsvEncoder};o={Info:function(){}};j["thx.culture.Info"]=o.Info;o.Info.__name__=["thx","culture","Info"];o.Info.prototype={toString:function(){return this["native"]+" ("+this.english+")"},pluralRule:null,iso3:null,iso2:null,english:null,"native":null,name:null,
__class__:o.Info};o.Culture=function(){};j["thx.culture.Culture"]=o.Culture;o.Culture.__name__=["thx","culture","Culture"];o.Culture.__properties__={set_defaultCulture:"set_defaultCulture",get_defaultCulture:"get_defaultCulture",get_cultures:"get_cultures"};o.Culture.get_cultures=function(){if(null==o.Culture.cultures)o.Culture.cultures=new ea;return o.Culture.cultures};o.Culture.get=function(a){return o.Culture.get_cultures().get(a.toLowerCase())};o.Culture.names=function(){return o.Culture.get_cultures().keys()};
o.Culture.exists=function(a){return o.Culture.get_cultures().exists(a.toLowerCase())};o.Culture.get_defaultCulture=function(){return null==o.Culture._defaultCulture?ib.EnUS.get_culture():o.Culture._defaultCulture};o.Culture.set_defaultCulture=function(a){return o.Culture._defaultCulture=a};o.Culture.add=function(a){if(null==o.Culture._defaultCulture)o.Culture._defaultCulture=a;var b=a.name.toLowerCase();o.Culture.get_cultures().exists(b)||o.Culture.get_cultures().set(b,a)};o.Culture.loadAll=function(){};
o.Culture.__super__=o.Info;o.Culture.prototype=H(o.Info.prototype,{percent:null,currency:null,number:null,symbolPosInf:null,symbolNegInf:null,symbolPermille:null,symbolPercent:null,symbolNaN:null,signPos:null,signNeg:null,digits:null,isMetric:null,nativeRegion:null,englishRegion:null,currencyIso:null,currencySymbol:null,nativeCurrency:null,englishCurrency:null,date:null,language:null,__class__:o.Culture});o.FormatDate=function(){};j["thx.culture.FormatDate"]=o.FormatDate;o.FormatDate.__name__=["thx",
"culture","FormatDate"];o.FormatDate.format=function(a,b,c,e){null==e&&(e=!0);null==c&&(c=o.Culture.get_defaultCulture());for(var f=0,h=a.length,g=new bb,i=c.date;f<h;){var j=a.charAt(f);if("%"!=j)g.b+=n.string(j);else switch(f++,j=a.charAt(f),j){case "a":g.b+=n.string(i.abbrDays[b.getDay()]);break;case "A":g.b+=n.string(i.days[b.getDay()]);break;case "b":g.b+=n.string(i.abbrMonths[b.getMonth()]);break;case "h":g.b+=n.string(i.abbrMonths[b.getMonth()]);break;case "B":g.b+=n.string(i.months[b.getMonth()]);
break;case "c":g.b+=n.string(o.FormatDate.dateTime(b,c));break;case "C":g.b+=n.string(o.FormatNumber.digits(""+Math.floor(b.getFullYear()/100),c));break;case "d":g.b+=n.string(o.FormatNumber.digits(F.lpad(""+b.getDate(),"0",2),c));break;case "D":g.b+=n.string(o.FormatDate.format("%m/%d/%y",b,c));break;case "e":g.b+=n.string(o.FormatNumber.digits(e?F.lpad(""+b.getDate()," ",2):""+b.getDate(),c));break;case "f":g.b+=n.string(o.FormatNumber.digits(e?F.lpad(""+(b.getMonth()+1)," ",2):""+(b.getMonth()+
1),c));break;case "G":throw"Not Implemented Yet";case "g":throw"Not Implemented Yet";case "H":g.b+=n.string(o.FormatNumber.digits(F.lpad(""+b.getHours(),"0",2),c));break;case "i":g.b+=n.string(o.FormatNumber.digits(e?F.lpad(""+b.getMinutes()," ",2):""+b.getMinutes(),c));break;case "I":g.b+=n.string(o.FormatNumber.digits(F.lpad(""+o.FormatDate.getMHours(b),"0",2),c));break;case "j":throw"Not Implemented Yet";case "k":g.b+=n.string(o.FormatNumber.digits(e?F.lpad(""+b.getHours()," ",2):""+b.getHours(),
c));break;case "l":g.b+=n.string(o.FormatNumber.digits(e?F.lpad(""+o.FormatDate.getMHours(b)," ",2):""+o.FormatDate.getMHours(b),c));break;case "m":g.b+=n.string(o.FormatNumber.digits(F.lpad(""+(b.getMonth()+1),"0",2),c));break;case "M":g.b+=n.string(o.FormatNumber.digits(F.lpad(""+b.getMinutes(),"0",2),c));break;case "n":g.b+="\n";break;case "p":g.b+=n.string(11<b.getHours()?i.pm:i.am);break;case "P":g.b+=n.string((11<b.getHours()?i.pm:i.am).toLowerCase());break;case "q":g.b+=n.string(o.FormatNumber.digits(e?
F.lpad(""+b.getSeconds()," ",2):""+b.getSeconds(),c));break;case "r":g.b+=n.string(o.FormatDate.format("%I:%M:%S %p",b,c));break;case "R":g.b+=n.string(o.FormatDate.format("%H:%M",b,c));break;case "s":g.b+=n.string(""+(b.getTime()/1E3|0));break;case "S":g.b+=n.string(o.FormatNumber.digits(F.lpad(""+b.getSeconds(),"0",2),c));break;case "t":g.b+="\t";break;case "T":g.b+=n.string(o.FormatDate.format("%H:%M:%S",b,c));break;case "u":j=b.getDay();g.b+=n.string(o.FormatNumber.digits(0==j?"7":""+j,c));break;
case "U":throw"Not Implemented Yet";case "V":throw"Not Implemented Yet";case "w":g.b+=n.string(o.FormatNumber.digits(""+b.getDay(),c));break;case "W":throw"Not Implemented Yet";case "x":g.b+=n.string(o.FormatDate.date(b,c));break;case "X":g.b+=n.string(o.FormatDate.time(b,c));break;case "y":g.b+=n.string(o.FormatNumber.digits(u.substr(""+b.getFullYear(),-2,null),c));break;case "Y":g.b+=n.string(o.FormatNumber.digits(""+b.getFullYear(),c));break;case "z":g.b+="+0000";break;case "Z":g.b+="GMT";break;
case "%":g.b+="%";break;default:g.b+=n.string("%"+j)}f++}return g.b};o.FormatDate.getMHours=function(a){a=a.getHours();return 12<a?a-12:a};o.FormatDate.yearMonth=function(a,b){null==b&&(b=o.Culture.get_defaultCulture());return o.FormatDate.format(b.date.patternYearMonth,a,b,!1)};o.FormatDate.monthDay=function(a,b){null==b&&(b=o.Culture.get_defaultCulture());return o.FormatDate.format(b.date.patternMonthDay,a,b,!1)};o.FormatDate.date=function(a,b){null==b&&(b=o.Culture.get_defaultCulture());return o.FormatDate.format(b.date.patternDate,
a,b,!1)};o.FormatDate.dateShort=function(a,b){null==b&&(b=o.Culture.get_defaultCulture());return o.FormatDate.format(b.date.patternDateShort,a,b,!1)};o.FormatDate.dateRfc=function(a,b){null==b&&(b=o.Culture.get_defaultCulture());return o.FormatDate.format(b.date.patternDateRfc,a,b,!1)};o.FormatDate.dateTime=function(a,b){null==b&&(b=o.Culture.get_defaultCulture());return o.FormatDate.format(b.date.patternDateTime,a,b,!1)};o.FormatDate.universal=function(a,b){null==b&&(b=o.Culture.get_defaultCulture());
return o.FormatDate.format(b.date.patternUniversal,a,b,!1)};o.FormatDate.sortable=function(a,b){null==b&&(b=o.Culture.get_defaultCulture());return o.FormatDate.format(b.date.patternSortable,a,b,!1)};o.FormatDate.time=function(a,b){null==b&&(b=o.Culture.get_defaultCulture());return o.FormatDate.format(b.date.patternTime,a,b,!1)};o.FormatDate.timeShort=function(a,b){null==b&&(b=o.Culture.get_defaultCulture());return o.FormatDate.format(b.date.patternTimeShort,a,b,!1)};o.FormatDate.hourShort=function(a,
b){null==b&&(b=o.Culture.get_defaultCulture());return null==b.date.am?o.FormatDate.format("%H",a,b,!1):o.FormatDate.format("%l %p",a,b,!1)};o.FormatDate.year=function(a,b){null==b&&(b=o.Culture.get_defaultCulture());return o.FormatNumber.digits(""+a.getFullYear(),b)};o.FormatDate.month=function(a,b){null==b&&(b=o.Culture.get_defaultCulture());return o.FormatNumber.digits(""+(a.getMonth()+1),b)};o.FormatDate.monthName=function(a,b){null==b&&(b=o.Culture.get_defaultCulture());return b.date.abbrMonths[a.getMonth()]};
o.FormatDate.monthNameShort=function(a,b){null==b&&(b=o.Culture.get_defaultCulture());return b.date.months[a.getMonth()]};o.FormatDate.weekDay=function(a,b){null==b&&(b=o.Culture.get_defaultCulture());return o.FormatNumber.digits(""+(a.getDay()+b.date.firstWeekDay),b)};o.FormatDate.weekDayName=function(a,b){null==b&&(b=o.Culture.get_defaultCulture());return b.date.abbrDays[a.getDay()]};o.FormatDate.weekDayNameShort=function(a,b){null==b&&(b=o.Culture.get_defaultCulture());return b.date.days[a.getDay()]};
o.FormatNumber=function(){};j["thx.culture.FormatNumber"]=o.FormatNumber;o.FormatNumber.__name__=["thx","culture","FormatNumber"];o.FormatNumber.decimal=function(a,b,c){null==c&&(c=o.Culture.get_defaultCulture());return o.FormatNumber.crunch(a,b,c.percent,c.number.patternNegative,c.number.patternPositive,c,null,null)};o.FormatNumber.percent=function(a,b,c){null==c&&(c=o.Culture.get_defaultCulture());return o.FormatNumber.crunch(a,b,c.percent,c.percent.patternNegative,c.percent.patternPositive,c,"%",
c.symbolPercent)};o.FormatNumber.permille=function(a,b,c){null==c&&(c=o.Culture.get_defaultCulture());return o.FormatNumber.crunch(a,b,c.percent,c.percent.patternNegative,c.percent.patternPositive,c,"%",c.symbolPermille)};o.FormatNumber.currency=function(a,b,c,e){null==e&&(e=o.Culture.get_defaultCulture());return o.FormatNumber.crunch(a,c,e.currency,e.currency.patternNegative,e.currency.patternPositive,e,"$",null==b?e.currencySymbol:b)};o.FormatNumber["int"]=function(a,b){null==b&&(b=o.Culture.get_defaultCulture());
return o.FormatNumber.decimal(a,0,b)};o.FormatNumber.digits=function(a,b){null==b&&(b=o.Culture.get_defaultCulture());return o.FormatNumber.processDigits(a,b.digits)};o.FormatNumber.crunch=function(a,b,c,e,f,h,g,i){if(Math.isNaN(a))return h.symbolNaN;if(!Math.isFinite(a))return a==Math.NEGATIVE_INFINITY?h.symbolNegInf:h.symbolPosInf;b=o.FormatNumber.value(a,c,null==b?c.decimals:0>b?0:b,h.digits);return null!=g?F.replace(F.replace(0>a?e:f,"n",b),g,i):F.replace(0>a?e:f,"n",b)};o.FormatNumber.processDigits=
function(a,b){if(null==b)return a;for(var c=[],e=0,f=a.length;e<f;){var h=e++;c.push(b[n.parseInt(u.substr(a,h,1))])}return c.join("")};o.FormatNumber.value=function(a,b,c,e){var f=""+Math.abs(a),h=f.indexOf("E");if(0<h){var a=n.parseInt(u.substr(f,h+1,null)),g=!0;0>a&&(g=!1,a=-a);f=F.replace(u.substr(f,0,h),".","");f=g?F.rpad(f,"0",a+1):"0"+F.rpad(".","0",a)+f}a=f.split(".");g=a[0];f=[];for(h=0;!(0==g.length);){var i=b.groups[h];if(g.length<=i){f.unshift(o.FormatNumber.processDigits(g,e));break}f.unshift(o.FormatNumber.processDigits(u.substr(g,
-i,null),e));g=u.substr(g,0,-i);h<b.groups.length-1&&h++}g=f.join(b.groupsSeparator);return 0<c?(c=1==a.length?F.lpad("","0",c):a[1].length>c?u.substr(a[1],0,c):F.rpad(a[1],"0",c),g+b.decimalsSeparator+o.FormatNumber.processDigits(c,e)):g};o.FormatParams=function(){};j["thx.culture.FormatParams"]=o.FormatParams;o.FormatParams.__name__=["thx","culture","FormatParams"];o.FormatParams.cleanQuotes=function(a){if(1>=a.length)return a;var b=u.substr(a,0,1);return('"'==b||"'"==b)&&u.substr(a,-1,null)==b?
u.substr(a,1,a.length-2):a};o.FormatParams.params=function(a,b,c){if(null!=b&&null!=a)return[a].concat(b);if((null==b||0==b.length)&&null==a)return[c];return null==b||0==b.length?(a=a.split(":"),[a[0]].concat(1==a.length?[]:a[1].split(",").map(function(a,b){return 0==b?a:o.FormatParams.cleanQuotes(a)}))):b};o.Language=function(){};j["thx.culture.Language"]=o.Language;o.Language.__name__=["thx","culture","Language"];o.Language.__properties__={get_languages:"get_languages"};o.Language.get_languages=
function(){if(null==o.Language.languages)o.Language.languages=new ea;return o.Language.languages};o.Language.get=function(a){return o.Language.get_languages().get(a.toLowerCase())};o.Language.names=function(){return o.Language.get_languages().keys()};o.Language.add=function(a){o.Language.get_languages().exists(a.iso2)||o.Language.get_languages().set(a.iso2,a)};o.Language.__super__=o.Info;o.Language.prototype=H(o.Info.prototype,{__class__:o.Language});o.core={};o.core.DateTimeInfo=function(a,b,c,e,
f,h,g,i,j,k,l,n,o,p,q,r,s,t,u,tc){this.months=a;this.abbrMonths=b;this.days=c;this.abbrDays=e;this.shortDays=f;this.am=h;this.pm=g;this.separatorDate=i;this.separatorTime=j;this.firstWeekDay=k;this.patternYearMonth=l;this.patternMonthDay=n;this.patternDate=o;this.patternDateShort=p;this.patternDateRfc=q;this.patternDateTime=r;this.patternUniversal=s;this.patternSortable=t;this.patternTime=u;this.patternTimeShort=tc};j["thx.culture.core.DateTimeInfo"]=o.core.DateTimeInfo;o.core.DateTimeInfo.__name__=
["thx","culture","core","DateTimeInfo"];o.core.DateTimeInfo.prototype={patternTimeShort:null,patternTime:null,patternSortable:null,patternUniversal:null,patternDateTime:null,patternDateRfc:null,patternDateShort:null,patternDate:null,patternMonthDay:null,patternYearMonth:null,firstWeekDay:null,separatorTime:null,separatorDate:null,pm:null,am:null,shortDays:null,abbrDays:null,days:null,abbrMonths:null,months:null,__class__:o.core.DateTimeInfo};o.core.NumberInfo=function(a,b,c,e,f,h){this.decimals=a;
this.decimalsSeparator=b;this.groups=c;this.groupsSeparator=e;this.patternNegative=f;this.patternPositive=h};j["thx.culture.core.NumberInfo"]=o.core.NumberInfo;o.core.NumberInfo.__name__=["thx","culture","core","NumberInfo"];o.core.NumberInfo.prototype={patternPositive:null,patternNegative:null,groupsSeparator:null,groups:null,decimalsSeparator:null,decimals:null,__class__:o.core.NumberInfo};Bb={En:function(){this.name="en";this.english="English";this["native"]="English";this.iso2="en";this.iso3=
"eng";this.pluralRule=1;o.Language.add(this)}};j["thx.languages.En"]=Bb.En;Bb.En.__name__=["thx","languages","En"];Bb.En.__properties__={get_language:"get_language"};Bb.En.get_language=function(){if(null==Bb.En.language)Bb.En.language=new Bb.En;return Bb.En.language};Bb.En.__super__=o.Language;Bb.En.prototype=H(o.Language.prototype,{__class__:Bb.En});ib={EnUS:function(){this.language=Bb.En.get_language();this.name="en-US";this.english="English (United States)";this["native"]="English (United States)";
this.date=new o.core.DateTimeInfo("January,February,March,April,May,June,July,August,September,October,November,December,".split(","),"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec,".split(","),"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),"Su,Mo,Tu,We,Th,Fr,Sa".split(","),"AM","PM","/",":",0,"%B, %Y","%B %d","%A, %B %d, %Y","%f/%e/%Y","%a, %d %b %Y %H:%M:%S GMT","%A, %B %d, %Y %l:%M:%S %p","%Y-%m-%d %H:%M:%SZ","%Y-%m-%dT%H:%M:%S",
"%l:%M:%S %p","%l:%M %p");this.symbolNaN="NaN";this.symbolPercent="%";this.symbolPermille="\u2030";this.signNeg="-";this.signPos="+";this.symbolNegInf="-Infinity";this.symbolPosInf="Infinity";this.number=new o.core.NumberInfo(2,".",[3],",","-n","n");this.currency=new o.core.NumberInfo(2,".",[3],",","($n)","$n");this.percent=new o.core.NumberInfo(2,".",[3],",","-n %","n %");this.pluralRule=1;this.nativeCurrency=this.englishCurrency="US Dollar";this.currencySymbol="$";this.currencyIso="USD";this.nativeRegion=
this.englishRegion="United States";this.iso2="US";this.iso3="USA";this.isMetric=!1;o.Culture.add(this)}};j["thx.cultures.EnUS"]=ib.EnUS;ib.EnUS.__name__=["thx","cultures","EnUS"];ib.EnUS.__properties__={get_culture:"get_culture"};ib.EnUS.get_culture=function(){if(null==ib.EnUS.culture)ib.EnUS.culture=new ib.EnUS;return ib.EnUS.culture};ib.EnUS.__super__=o.Culture;ib.EnUS.prototype=H(o.Culture.prototype,{__class__:ib.EnUS});Ta.ValueEncoder=function(a){this.handler=a};j["thx.data.ValueEncoder"]=Ta.ValueEncoder;
Ta.ValueEncoder.__name__=["thx","data","ValueEncoder"];Ta.ValueEncoder.prototype={encodeArray:function(a){this.handler.arrayStart();for(var b=0;b<a.length;){var c=a[b];++b;this.handler.arrayItemStart();this.encodeValue(c);this.handler.arrayItemEnd()}this.handler.arrayEnd()},encodeList:function(a){this.handler.arrayStart();for(a=a.iterator();a.hasNext();){var b=a.next();this.handler.arrayItemStart();this.encodeValue(b);this.handler.arrayItemEnd()}this.handler.arrayEnd()},encodeHash:function(a){this.handler.objectStart();
for(var b=a.keys();b.hasNext();){var c=b.next();this.handler.objectFieldStart(c);this.encodeValue(a.get(c));this.handler.objectFieldEnd()}this.handler.objectEnd()},encodeObject:function(a){this.handler.objectStart();for(var b=0,c=l.fields(a);b<c.length;){var e=c[b];++b;this.handler.objectFieldStart(e);this.encodeValue(l.field(a,e));this.handler.objectFieldEnd()}this.handler.objectEnd()},encodeValue:function(a){var b=K["typeof"](a);switch(b[1]){case 0:this.handler.valueNull();break;case 1:this.handler.valueInt(a);
break;case 2:this.handler.valueFloat(a);break;case 3:this.handler.valueBool(a);break;case 4:this.encodeObject(a);break;case 5:throw new J.Error("unable to encode TFunction type",null,null,{fileName:"ValueEncoder.hx",lineNumber:39,className:"thx.data.ValueEncoder",methodName:"encodeValue"});case 6:b=b[2];if(I.__instanceof(a,String))this.handler.valueString(a);else if(I.__instanceof(a,Array))this.encodeArray(a);else if(I.__instanceof(a,Date))this.handler.valueDate(a);else if(I.__instanceof(a,ea))this.encodeHash(a);
else if(I.__instanceof(a,Ae))this.encodeList(a);else throw new J.Error("unable to encode class '{0}'",null,K.getClassName(b),{fileName:"ValueEncoder.hx",lineNumber:53,className:"thx.data.ValueEncoder",methodName:"encodeValue"});break;case 7:throw new J.Error("unable to encode TEnum type '{0}'",null,K.getEnumName(b[2]),{fileName:"ValueEncoder.hx",lineNumber:55,className:"thx.data.ValueEncoder",methodName:"encodeValue"});case 8:throw new J.Error("unable to encode TUnknown type",null,null,{fileName:"ValueEncoder.hx",
lineNumber:57,className:"thx.data.ValueEncoder",methodName:"encodeValue"});}},encode:function(a){this.handler.start();this.encodeValue(a);this.handler.end()},handler:null,__class__:Ta.ValueEncoder};Ta.ValueHandler=function(){};j["thx.data.ValueHandler"]=Ta.ValueHandler;Ta.ValueHandler.__name__=["thx","data","ValueHandler"];Ta.ValueHandler.__interfaces__=[Ta.IDataHandler];Ta.ValueHandler.prototype={comment:function(){},valueBool:function(a){this._stack.push(a)},valueNull:function(){this._stack.push(null)},
valueFloat:function(a){this._stack.push(a)},valueInt:function(a){this._stack.push(a)},valueString:function(a){this._stack.push(a)},valueDate:function(a){this._stack.push(a)},arrayItemEnd:function(){var a=this._stack.pop();B.last(this._stack).push(a)},arrayItemStart:function(){},arrayEnd:function(){},arrayStart:function(){this._stack.push([])},objectFieldEnd:function(){var a=this._stack.pop();B.last(this._stack)[this._names.pop()]=a},objectFieldStart:function(a){this._names.push(a)},objectEnd:function(){},
objectStart:function(){this._stack.push({})},end:function(){this.value=this._stack.pop()},start:function(){this._stack=[];this._names=[]},_names:null,_stack:null,value:null,__class__:Ta.ValueHandler};x={DateParser:function(){}};j["thx.date.DateParser"]=x.DateParser;x.DateParser.__name__=["thx","date","DateParser"];x.DateParser.parse=function(a,b){var c=x.DateParser.parseTime(a),e;null==b&&(b=new Date);null!=c.matched&&(a=F.replace(a,c.matched,""));var f=0,h=0,g=0,i=null!=c.matched;if(x.DateParser.dateexp.match(a))if(i=
!0,a=F.replace(a,x.DateParser.dateexp.matched(0),""),null!=(e=x.DateParser.dateexp.matched(1)))g=n.parseInt(x.DateParser.dateexp.matched(2)),h=x.DateParser.months.indexOf(e.toLowerCase()),f=null!=(e=x.DateParser.dateexp.matched(3))?x.DateParser.fixyear(n.parseInt(e)):b.getFullYear();else if(null!=(e=x.DateParser.dateexp.matched(4)))g=n.parseInt(x.DateParser.dateexp.matched(5)),h=x.DateParser.shortmonths.indexOf(e.toLowerCase()),f=null!=(e=x.DateParser.dateexp.matched(6))?x.DateParser.fixyear(n.parseInt(e)):
b.getFullYear();else if(null!=(e=x.DateParser.dateexp.matched(8)))h=x.DateParser.months.indexOf(e.toLowerCase()),g=null!=(e=x.DateParser.dateexp.matched(7))?n.parseInt(e):1,f=null!=(e=x.DateParser.dateexp.matched(9))?x.DateParser.fixyear(n.parseInt(e)):b.getFullYear();else if(null!=(e=x.DateParser.dateexp.matched(11)))h=x.DateParser.shortmonths.indexOf(e.toLowerCase()),g=null!=(e=x.DateParser.dateexp.matched(10))?n.parseInt(e):1,f=null!=(e=x.DateParser.dateexp.matched(12))?x.DateParser.fixyear(n.parseInt(e)):
b.getFullYear();else if(null!=(e=x.DateParser.dateexp.matched(14)))h=x.DateParser.months.indexOf(e.toLowerCase()),g=null!=(e=x.DateParser.dateexp.matched(13))?n.parseInt(e):1,f=null!=(e=x.DateParser.dateexp.matched(15))?x.DateParser.fixyear(n.parseInt(e)):b.getFullYear();else if(null!=(e=x.DateParser.dateexp.matched(17)))h=x.DateParser.shortmonths.indexOf(e.toLowerCase()),g=null!=(e=x.DateParser.dateexp.matched(16))?n.parseInt(e):1,f=null!=(e=x.DateParser.dateexp.matched(18))?x.DateParser.fixyear(n.parseInt(e)):
b.getFullYear();else if(null!=(e=x.DateParser.dateexp.matched(19)))g=n.parseInt(x.DateParser.dateexp.matched(20)),h=n.parseInt(e)-1,f=null!=(e=x.DateParser.dateexp.matched(21))?x.DateParser.fixyear(n.parseInt(e)):b.getFullYear();else if(null!=(e=x.DateParser.dateexp.matched(23)))g=n.parseInt(x.DateParser.dateexp.matched(22)),h=n.parseInt(e)-1,f=null!=(e=x.DateParser.dateexp.matched(24))?x.DateParser.fixyear(n.parseInt(e)):b.getFullYear();else if(null!=(e=x.DateParser.dateexp.matched(25)))f=x.DateParser.fixyear(n.parseInt(e)),
g=n.parseInt(x.DateParser.dateexp.matched(27)),h=n.parseInt(x.DateParser.dateexp.matched(26))-1;else{if(null!=(e=x.DateParser.dateexp.matched(28)))f=b.getFullYear(),g=n.parseInt(e),h=b.getMonth()}else if(x.DateParser.absdateexp.match(a)){i=!0;a=F.replace(a,x.DateParser.absdateexp.matched(0),"");f=b.getFullYear();h=b.getMonth();g=b.getDate();if(null!=(e=x.DateParser.absdateexp.matched(1))){var j=e.toLowerCase();switch(j){case "now":if(null==c.matched)c.hour=b.getHours(),c.minute=b.getMinutes(),c.second=
b.getSeconds();break;case "this second":if(null==c.matched)c.hour=b.getHours(),c.minute=b.getMinutes(),c.second=b.getSeconds();break;case "tomorrow":g+=1;break;case "yesterday":g-=1}}else if(null!=(e=x.DateParser.absdateexp.matched(3)))var k=x.DateParser.absdateexp.matched(2),j=x.DateParser.months.indexOf(e.toLowerCase()),f=j==h?f+(x.DateParser.last(k)?-1:x.DateParser.next(k)?1:0):j>h?f+(x.DateParser.last(k)?-1:0):f+(x.DateParser.next(k)?1:0),h=j,g=1;else if(null!=(e=x.DateParser.absdateexp.matched(5)))var k=
x.DateParser.absdateexp.matched(4),j=x.DateParser.days.indexOf(e.toLowerCase()),l=b.getDay(),g=j==l?g+(x.DateParser.last(k)?-7:x.DateParser.next(k)?7:0):j>l?g+(j-l+(x.DateParser.last(k)?-7:0)):g+(j-l+(x.DateParser.next(k)?7:0));else if(null!=(e=x.DateParser.absdateexp.matched(7)))k=x.DateParser.absdateexp.matched(6),j=x.DateParser.shortmonths.indexOf(e.toLowerCase()),f=j==h?f+(x.DateParser.last(k)?-1:x.DateParser.next(k)?1:0):j>h?f+(x.DateParser.last(k)?-1:0):f+(x.DateParser.next(k)?1:0),h=j,g=1;
else if(null!=(e=x.DateParser.absdateexp.matched(9)))k=x.DateParser.absdateexp.matched(8),j=x.DateParser.shortdays.indexOf(e.toLowerCase()),l=b.getDay(),g=j==l?g+(x.DateParser.last(k)?-7:x.DateParser.next(k)?7:0):j>l?g+(j-l+(x.DateParser.last(k)?-7:0)):g+(j-l+(x.DateParser.next(k)?7:0));if(null==c.matched)c.matched="x"}else f=b.getFullYear(),h=b.getMonth(),g=b.getDate();for(;x.DateParser.relexp.match(a);){i=!0;a=F.replace(a,x.DateParser.relexp.matched(0),"");j=x.DateParser.relexp.matched(1);if(null!=
j)k=null!=(e=x.DateParser.relexp.matched(2))?n.parseInt(e):1,l=x.DateParser.relexp.matched(3);else{l=x.DateParser.relexp.matched(5);if(null==l)break;k=null!=(e=x.DateParser.relexp.matched(4))?n.parseInt(e):1;j=null!=(e=x.DateParser.relexp.matched(6))?e:"after"}j=j.toLowerCase();switch(j){case "minus":k=-k;break;case "-":k=-k;break;case "before":k=-k;break;case "ago":k=-k}switch(j){case "ago":if(null==c.matched)c.hour=b.getHours(),c.minute=b.getMinutes(),c.second=b.getSeconds(),c.matched="x";break;
case "in":if(null==c.matched)c.hour=b.getHours(),c.minute=b.getMinutes(),c.second=b.getSeconds(),c.matched="x"}j=l.toLowerCase();switch(j){case "second":c.second+=k;break;case "seconds":c.second+=k;break;case "minute":c.minute+=k;break;case "minutes":c.minute+=k;break;case "hour":c.hour+=k;break;case "hours":c.hour+=k;break;case "day":g+=k;break;case "days":g+=k;break;case "week":g+=7*k;break;case "weeks":g+=7*k;break;case "month":h+=k;break;case "months":h+=k;break;case "year":f+=k;break;case "years":f+=
k}}if(!i)throw new J.Error("no date information found in the string '{0}'",null,a,{fileName:"DateParser.hx",lineNumber:339,className:"thx.date.DateParser",methodName:"parse"});e=new Date;e.setTime((new Date(f,h,g,c.hour,c.minute,c.second)).getTime()+c.millis);return e};x.DateParser.parseTime=function(a){var b={hour:0,minute:0,second:0,millis:0,matched:null};if(!x.DateParser.timeexp.match(a))return b;b.matched=x.DateParser.timeexp.matched(0);var c;if(null!=(c=x.DateParser.timeexp.matched(1)))b.hour=
n.parseInt(c)+x.DateParser.plusPm(x.DateParser.timeexp.matched(3)),b.minute=n.parseInt(x.DateParser.timeexp.matched(2));else if(null!=(c=x.DateParser.timeexp.matched(4))){b.hour=n.parseInt(c);b.minute=n.parseInt(x.DateParser.timeexp.matched(5));if(null!=(c=x.DateParser.timeexp.matched(6)))b.second=n.parseInt(c);if(null!=(c=x.DateParser.timeexp.matched(7)))b.millis=n.parseFloat(c)/1E3}else if(null!=(c=x.DateParser.timeexp.matched(8)))b.hour=n.parseInt(c)+x.DateParser.plusPm(x.DateParser.timeexp.matched(10)),
b.minute=n.parseInt(x.DateParser.timeexp.matched(9));else if(null!=(c=x.DateParser.timeexp.matched(11)))b.hour=n.parseInt(c)+x.DateParser.plusPm(x.DateParser.timeexp.matched(12));else if(null!=(c=x.DateParser.timeexp.matched(13)))switch(c.toLowerCase()){case "evening":b.hour=17;break;case "morning":b.hour=8;break;case "afternoon":b.hour=14;break;case "sunsrise":b.hour=6;break;case "dawn":b.hour=6;break;case "sunset":b.hour=19;break;case "dusk":b.hour=19;break;case "noon":b.hour=12;break;case "midday":b.hour=
12;break;case "mid-day":b.hour=12;break;case "mid-night":b.hour=23;b.minute=59;b.second=59;b.millis=0.999;break;case "midnight":b.hour=23,b.minute=59,b.second=59,b.millis=0.999}else throw new J.Error("failed to parse time for '{0}'",null,a,{fileName:"DateParser.hx",lineNumber:406,className:"thx.date.DateParser",methodName:"parseTime"});return b};x.DateParser.fixyear=function(a){return 70>a?2E3+a:100>a?1900+a:a};x.DateParser.last=function(a){return null==a?!1:"last"==a.toLowerCase()};x.DateParser.next=
function(a){return null==a?!0:"next"==a.toLowerCase()};x.DateParser.plusPm=function(a){if(null==a)a=0;else switch(a.toLowerCase()){case "pm":a=12;break;case "evening":a=12;break;case "afternoon":a=12;break;default:a=0}return a};Y={Message:function(a,b,c){this.message=a;this.params=null==b?[]:b;null!=c&&this.params.push(c)}};j["thx.util.Message"]=Y.Message;Y.Message.__name__=["thx","util","Message"];Y.Message.prototype={translate:function(a,b){null==b&&(b=a.get_domain());var c=o.Culture.get(b);return 1==
this.params.length&&I.__instanceof(this.params[0],Hd)?E.format(a.plural(null,this.message,this.params[0],b),this.params,null,c):E.format(a.singular(this.message,b),this.params,null,c)},translatef:function(a){return E.format(a(this.message),this.params)},toString:function(){return E.format(this.message,this.params)},params:null,message:null,__class__:Y.Message};J={Error:function(a,b,c,e){Y.Message.call(this,a,b,c);this.pos=e}};j["thx.error.Error"]=J.Error;J.Error.__name__=["thx","error","Error"];J.Error.__super__=
Y.Message;J.Error.prototype=H(Y.Message.prototype,{toString:function(){try{return E.format(this.message,this.params)}catch(a){return""}},toStringError:function(a){return E.format(null==a?J.Error.errorPositionPattern:a,[this.pos.className,this.pos.methodName,this.pos.lineNumber,this.pos.fileName,this.pos.customParams])+this.toString()},setInner:function(a){this.inner=a;return this},inner:null,pos:null,__class__:J.Error});J.AbstractMethod=function(a){J.Error.call(this,"method {0}.{1}() is abstract",
[a.className,a.methodName],a,{fileName:"AbstractMethod.hx",lineNumber:14,className:"thx.error.AbstractMethod",methodName:"new"})};j["thx.error.AbstractMethod"]=J.AbstractMethod;J.AbstractMethod.__name__=["thx","error","AbstractMethod"];J.AbstractMethod.__super__=J.Error;J.AbstractMethod.prototype=H(J.Error.prototype,{__class__:J.AbstractMethod});J.NotImplemented=function(a){J.Error.call(this,"method {0}.{1}() needs to be implemented",[a.className,a.methodName],a,{fileName:"NotImplemented.hx",lineNumber:13,
className:"thx.error.NotImplemented",methodName:"new"})};j["thx.error.NotImplemented"]=J.NotImplemented;J.NotImplemented.__name__=["thx","error","NotImplemented"];J.NotImplemented.__super__=J.Error;J.NotImplemented.prototype=H(J.Error.prototype,{__class__:J.NotImplemented});J.NullArgument=function(a,b,c){null==b&&(b="invalid null or empty argument '{0}' for method {1}.{2}()");J.Error.call(this,b,[a,c.className,c.methodName],c,{fileName:"NullArgument.hx",lineNumber:16,className:"thx.error.NullArgument",
methodName:"new"})};j["thx.error.NullArgument"]=J.NullArgument;J.NullArgument.__name__=["thx","error","NullArgument"];J.NullArgument.__super__=J.Error;J.NullArgument.prototype=H(J.Error.prototype,{__class__:J.NullArgument});ca={IProjection:function(){}};j["thx.geo.IProjection"]=ca.IProjection;ca.IProjection.__name__=["thx","geo","IProjection"];ca.IProjection.prototype={invert:null,project:null,__class__:ca.IProjection};ca.Albers=function(){this._origin=[-98,38];this._parallels=[29.5,45.5];this._scale=
1E3;this._translate=[480,250];this.reload()};j["thx.geo.Albers"]=ca.Albers;ca.Albers.__name__=["thx","geo","Albers"];ca.Albers.__interfaces__=[ca.IProjection];ca.Albers.prototype={get_scale:function(){return this._scale},set_scale:function(a){return this._scale=a},reload:function(){var a=0.017453292519943295*this.get_parallels()[0],b=0.017453292519943295*this.get_parallels()[1],c=0.017453292519943295*this.get_origin()[1],e=Math.sin(a),a=Math.cos(a);this.lng0=0.017453292519943295*this.get_origin()[0];
this.n=0.5*(e+Math.sin(b));this.C=a*a+2*this.n*e;this.p0=Math.sqrt(this.C-2*this.n*Math.sin(c))/this.n;return this},set_translate:function(a){this._translate=[a[0],a[1]];return a},get_translate:function(){return this._translate.slice()},set_parallels:function(a){this._parallels=[a[0],a[1]];this.reload();return a},get_parallels:function(){return this._parallels.slice()},set_origin:function(a){this._origin=[a[0],a[1]];this.reload();return a},get_origin:function(){return this._origin.slice()},invert:function(a){var b=
(a[0]-this.get_translate()[0])/this.get_scale(),c=this.p0+(a[1]-this.get_translate()[1])/this.get_scale(),a=Math.atan2(b,c),b=Math.sqrt(b*b+c*c);return[(this.lng0+a/this.n)/0.017453292519943295,Math.asin((this.C-b*b*this.n*this.n)/(2*this.n))/0.017453292519943295]},project:function(a){var b=this.n*(0.017453292519943295*a[0]-this.lng0),a=Math.sqrt(this.C-2*this.n*Math.sin(0.017453292519943295*a[1]))/this.n;return[this.get_scale()*a*Math.sin(b)+this.get_translate()[0],this.get_scale()*(a*Math.cos(b)-
this.p0)+this.get_translate()[1]]},_scale:null,_translate:null,_parallels:null,_origin:null,p0:null,C:null,n:null,lng0:null,__class__:ca.Albers,__properties__:{set_origin:"set_origin",get_origin:"get_origin",set_parallels:"set_parallels",get_parallels:"get_parallels",set_translate:"set_translate",get_translate:"get_translate",set_scale:"set_scale",get_scale:"get_scale"}};ca.AlbersUsa=function(){this.lower48=new ca.Albers;this.alaska=new ca.Albers;this.alaska.set_origin([-160,60]);this.alaska.set_parallels([55,
65]);this.hawaii=new ca.Albers;this.hawaii.set_origin([-160,20]);this.hawaii.set_parallels([8,18]);this.puertoRico=new ca.Albers;this.puertoRico.set_origin([-60,10]);this.puertoRico.set_parallels([8,18]);this.set_scale(this.lower48.get_scale())};j["thx.geo.AlbersUsa"]=ca.AlbersUsa;ca.AlbersUsa.__name__=["thx","geo","AlbersUsa"];ca.AlbersUsa.__interfaces__=[ca.IProjection];ca.AlbersUsa.prototype={get_translate:function(){return this.lower48.get_translate()},set_translate:function(a){var b=this.lower48.get_scale()/
1E3,c=a[0],e=a[1];this.lower48.set_translate(a);this.alaska.set_translate([c-400*b,e+170*b]);this.hawaii.set_translate([c-190*b,e+200*b]);this.puertoRico.set_translate([c+580*b,e+430*b]);return a},get_scale:function(){return this.lower48.get_scale()},set_scale:function(a){this.lower48.set_scale(a);this.alaska.set_scale(0.6*a);this.hawaii.set_scale(a);this.puertoRico.set_scale(1.5*a);this.set_translate(this.lower48.get_translate());return a},invert:function(){throw new J.NotImplemented({fileName:"AlbersUsa.hx",
lineNumber:67,className:"thx.geo.AlbersUsa",methodName:"invert"});},project:function(a){var b=a[0],c=a[1];return(50<c?this.alaska:-140>b?this.hawaii:21>c?this.puertoRico:this.lower48).project(a)},last:null,puertoRico:null,hawaii:null,alaska:null,lower48:null,__class__:ca.AlbersUsa,__properties__:{set_translate:"set_translate",get_translate:"get_translate",set_scale:"set_scale",get_scale:"get_scale"}};ca.Azimuthal=function(){this.set_mode(ca.ProjectionMode.Orthographic);this.set_scale(200);this.set_translate([480,
250]);this.set_origin([0,0])};j["thx.geo.Azimuthal"]=ca.Azimuthal;ca.Azimuthal.__name__=["thx","geo","Azimuthal"];ca.Azimuthal.__interfaces__=[ca.IProjection];ca.Azimuthal.prototype={get_mode:function(){return this.mode},set_mode:function(a){return this.mode=a},get_scale:function(){return this.scale},set_scale:function(a){return this.scale=a},set_translate:function(a){this.translate=[a[0],a[1]];return a},get_translate:function(){return this.translate.slice()},set_origin:function(a){this.origin=[a[0],
a[1]];this.x0=0.017453292519943295*a[0];this.y0=0.017453292519943295*a[1];this.cy0=Math.cos(this.y0);this.sy0=Math.sin(this.y0);return a},get_origin:function(){return this.origin.slice()},invert:function(a){var b=(a[0]-this.get_translate()[0])/this.get_scale(),a=(a[1]-this.get_translate()[1])/this.get_scale(),c=Math.sqrt(b*b+a*a),e,f;switch(this.get_mode()[1]){case 0:f=Math.asin(c);break;case 1:f=Math.atan(c)}e=f;f=Math.sin(e);e=Math.cos(e);return[(this.x0+Math.atan2(b*f,c*this.cy0*e+a*this.sy0*f))/
0.017453292519943295,Math.asin(e*this.sy0-a*f*this.cy0/c)/0.017453292519943295]},project:function(a){var b=0.017453292519943295*a[0]-this.x0,c=0.017453292519943295*a[1],a=Math.cos(b),b=Math.sin(b),e=Math.cos(c),c=Math.sin(c),f;switch(this.get_mode()[1]){case 0:f=1;break;case 1:f=1/(1+this.sy0*c+this.cy0*e*a)}a=f*(this.sy0*e*a-this.cy0*c);return[this.get_scale()*f*e*b+this.get_translate()[0],this.get_scale()*a+this.get_translate()[1]]},sy0:null,cy0:null,y0:null,x0:null,translate:null,scale:null,origin:null,
mode:null,__class__:ca.Azimuthal,__properties__:{set_mode:"set_mode",get_mode:"get_mode",set_origin:"set_origin",get_origin:"get_origin",set_scale:"set_scale",get_scale:"get_scale",set_translate:"set_translate",get_translate:"get_translate"}};ca.ProjectionMode={__ename__:["thx","geo","ProjectionMode"],__constructs__:["Orthographic","Stereographic"]};ca.ProjectionMode.Orthographic=["Orthographic",0];ca.ProjectionMode.Orthographic.toString=v;ca.ProjectionMode.Orthographic.__enum__=ca.ProjectionMode;
ca.ProjectionMode.Stereographic=["Stereographic",1];ca.ProjectionMode.Stereographic.toString=v;ca.ProjectionMode.Stereographic.__enum__=ca.ProjectionMode;ca.Mercator=function(){this.set_scale(500);this.set_translate([480,250])};j["thx.geo.Mercator"]=ca.Mercator;ca.Mercator.__name__=["thx","geo","Mercator"];ca.Mercator.__interfaces__=[ca.IProjection];ca.Mercator.prototype={set_translate:function(a){this.translate=[a[0],a[1]];return a},get_translate:function(){return this.translate.slice()},get_scale:function(){return this.scale},
set_scale:function(a){return this.scale=a},invert:function(a){var b=(a[0]-this.get_translate()[0])/this.get_scale(),a=(a[1]-this.get_translate()[1])/this.get_scale();return[360*b,2*Math.atan(Math.exp(-6.283185307179586*a))/0.017453292519943295-90]},project:function(a){var b=a[0]/360,a=-(Math.log(Math.tan(Math.PI/4+0.017453292519943295*a[1]/2))/0.017453292519943295)/360;return[this.get_scale()*b+this.get_translate()[0],this.get_scale()*Math.max(-0.5,Math.min(0.5,a))+this.get_translate()[1]]},translate:null,
scale:null,__class__:ca.Mercator,__properties__:{set_scale:"set_scale",get_scale:"get_scale",set_translate:"set_translate",get_translate:"get_translate"}};T={Contour:function(){}};j["thx.geom.Contour"]=T.Contour;T.Contour.__name__=["thx","geom","Contour"];T.Contour.contourStart=function(a){for(var b=0,c=0;;){if(a(b,c))return[b,c];0==b?(b=c+1,c=0):(b-=1,c+=1)}return null};T.Contour.contour=function(a,b){var c=null==b?T.Contour.contourStart(a):b,e=[],f=c[0],h=c[1],g=0,i=0,j=666,k=666,i=0;do i=0,a(f-
1,h-1)&&(i+=1),a(f,h-1)&&(i+=2),a(f-1,h)&&(i+=4),a(f,h)&&(i+=8),6==i?(g=-1==k?-1:1,i=0):9==i?(g=0,i=1==j?-1:1):(g=T.Contour.contourDx[i],i=T.Contour.contourDy[i]),g!=j&&i!=k&&(e.push([f,h]),j=g,k=i),f+=g,h+=i;while(c[0]!=f||c[1]!=h);return e};T.Polygon=function(a){this.coordinates=a};j["thx.geom.Polygon"]=T.Polygon;T.Polygon.__name__=["thx","geom","Polygon"];T.Polygon.polygonInside=function(a,b,c){return(c[0]-b[0])*(a[1]-b[1])<(c[1]-b[1])*(a[0]-b[0])};T.Polygon.polygonIntersect=function(a,b,c,e){var f=
a[0],h=c[0],a=a[1],g=c[1],c=b[0]-f,i=e[0]-h,b=b[1]-a,e=e[1]-g,h=(i*(a-g)-e*(f-h))/(e*c-i*b);return[f+h*c,a+h*b]};T.Polygon.prototype={clip:function(a){for(var b,c=B.last(this.coordinates),e,f,h,g,i=0,j=this.coordinates.length;i<j;){e=i++;b=a.slice();a=[];e=this.coordinates[e];f=b[(g=b.length)-1];for(var k=0;k<g;)h=k++,h=b[h],T.Polygon.polygonInside(h,c,e)?(T.Polygon.polygonInside(f,c,e)||a.push(T.Polygon.polygonIntersect(f,h,c,e)),a.push(h)):T.Polygon.polygonInside(f,c,e)&&a.push(T.Polygon.polygonIntersect(f,
h,c,e)),f=h;c=e}return a},centroid:function(a){var b,c,e,f=0,h=0;null==a&&(a=1/(6*this.area()));for(var g=0,i=this.coordinates.length-1;g<i;)c=g++,b=this.coordinates[c],c=this.coordinates[c+1],e=b[0]*c[1]-c[0]*b[1],f+=(b[0]+c[0])*e,h+=(b[1]+c[1])*e;return[f*a,h*a]},area:function(){for(var a=this.coordinates.length,b=this.coordinates[a-1][0]*this.coordinates[0][1],c=this.coordinates[a-1][1]*this.coordinates[0][0],e=1;e<a;)var f=e++,b=b+this.coordinates[f-1][0]*this.coordinates[f][1],c=c+this.coordinates[f-
1][1]*this.coordinates[f][0];return 0.5*(c-b)},coordinates:null,__class__:T.Polygon};T.layout={};T.layout.Pie=function(){this._startAngle=function(){return 0};this._endAngle=function(){return 6.283185307179586};this._sort=null;this._value=function(a){return Number(a)}};j["thx.geom.layout.Pie"]=T.layout.Pie;T.layout.Pie.__name__=["thx","geom","layout","Pie"];T.layout.Pie.prototype={valuef:function(a){this._value=a;return this},getValue:function(){return this._value},sort:function(a){this._sort=a;return this},
getSort:function(){return this._sort},endAnglef:function(a){this._endAngle=a;return this},endAngle:function(a){return this.endAnglef(function(){return a})},getEndAngle:function(){return this._endAngle},startAnglef:function(a){this._startAngle=a;return this},startAngle:function(a){return this.startAnglef(function(){return a})},getStartAngle:function(){return this._startAngle},pie:function(a,b){var c=this._startAngle(a,b),e=this._endAngle(a,b)-c,f=O.range(a.length);if(null!=this._sort){var h=this._sort;
f.sort(function(b,c){return h(a[b],a[c])})}var g=a.map(this._value),e=e/g.reduce(function(a,b){return a+b},0);Math.isFinite(e)||(e=0);var i,j=f.map(function(a,b){i=g[b];return{value:i,startAngle:c,endAngle:c+=i*e}});return a.map(function(a,b){return j[f[b]]})},_value:null,_sort:null,_endAngle:null,_startAngle:null,__class__:T.layout.Pie};T.layout.Stack=function(){this._order=T.layout.StackOrder.DefaultOrder;this._offset=T.layout.StackOffset.ZeroOffset};j["thx.geom.layout.Stack"]=T.layout.Stack;T.layout.Stack.__name__=
["thx","geom","layout","Stack"];T.layout.Stack.getStackOrder=function(a,b){switch(a[1]){case 0:return O.range(b.length);case 1:var c=b.length,e=b.map(T.layout.Stack.stackMaxIndex),f=b.map(T.layout.Stack.stackReduceSum),h=O.range(c),g=0,i=0,j=[],k=[];h.sort(function(a,b){return e[a]-e[b]});for(var l=0;l<c;){var n=l++,n=h[n];g<i?(g+=f[n],j.push(n)):(i+=f[n],k.push(n))}k.reverse();return k.concat(j);case 2:return h=O.range(b.length),h.reverse(),h}};T.layout.Stack.getStackOffset=function(a,b,c){switch(a[1]){case 0:for(var a=
c.length,e=c[0].length,f=[],h=0,g,i=0;i<e;){for(var j=i++,k=g=0;k<a;){var l=k++;g+=c[l][j].y}g>h&&(h=g);f.push(g)}l=b[0];for(i=0;i<e;)j=i++,c[l][j].y0=(h-f[j])/2;break;case 1:var a=c.length,h=c[0],e=h.length,n,o=b[0],p,q,r,s,t;c[o][0].y0=g=t=0;for(i=1;i<e;){j=i++;for(k=p=0;k<a;)l=k++,p+=c[l][j].y;q=0;s=h[j].x-h[j-1].x;for(k=0;k<a;){l=k++;n=b[l];r=(c[n][j].y-c[n][j-1].y)/(2*s);for(var u=0;u<l;){var tc=u++;r+=(c[f=b[tc]][j].y-c[f][j-1].y)/s}q+=r*c[n][j].y}c[o][j].y0=g-=0!=p?q/p*s:0;g<t&&(t=g)}for(i=
0;i<e;)j=i++,c[o][j].y0-=t;break;case 2:e=c[0].length;o=b[0];for(i=0;i<e;)j=i++,c[o][j].y0=0}};T.layout.Stack.stackMaxIndex=function(a){for(var b=0,c=a[0].y,e,f=a.length,h=1;h<f;){var g=h++;if((e=a[g].y)>c)b=g,c=e}return b};T.layout.Stack.stackReduceSum=function(a){return a.reduce(T.layout.Stack.stackSum,0)};T.layout.Stack.stackSum=function(a,b){return a+b.y};T.layout.Stack.prototype={offset:function(a){this._offset=a;return this},getOffset:function(){return this._offset},order:function(a){this._order=
a;return this},getOrder:function(){return this._order},stack:function(a){for(var b=a.length,c=a[0].length,e=[],f=0;f<b;){var h=f++,g=[];e.push(g);for(var i=0;i<c;){var j=i++,k=a[h][j];g[j]={x:k.x,y:k.y,y0:0}}}g=T.layout.Stack.getStackOrder(this._order,e);T.layout.Stack.getStackOffset(this._offset,g,e);for(f=0;f<c;){j=f++;a=e[g[0]][j].y0;for(i=1;i<b;)h=i++,e[g[h]][j].y0=a+=e[g[h-1]][j].y}return e},_offset:null,_order:null,__class__:T.layout.Stack};T.layout.StackOrder={__ename__:["thx","geom","layout",
"StackOrder"],__constructs__:["DefaultOrder","InsideOut","ReverseOrder"]};T.layout.StackOrder.DefaultOrder=["DefaultOrder",0];T.layout.StackOrder.DefaultOrder.toString=v;T.layout.StackOrder.DefaultOrder.__enum__=T.layout.StackOrder;T.layout.StackOrder.InsideOut=["InsideOut",1];T.layout.StackOrder.InsideOut.toString=v;T.layout.StackOrder.InsideOut.__enum__=T.layout.StackOrder;T.layout.StackOrder.ReverseOrder=["ReverseOrder",2];T.layout.StackOrder.ReverseOrder.toString=v;T.layout.StackOrder.ReverseOrder.__enum__=
T.layout.StackOrder;T.layout.StackOffset={__ename__:["thx","geom","layout","StackOffset"],__constructs__:["Silhouette","Wiggle","ZeroOffset"]};T.layout.StackOffset.Silhouette=["Silhouette",0];T.layout.StackOffset.Silhouette.toString=v;T.layout.StackOffset.Silhouette.__enum__=T.layout.StackOffset;T.layout.StackOffset.Wiggle=["Wiggle",1];T.layout.StackOffset.Wiggle.toString=v;T.layout.StackOffset.Wiggle.__enum__=T.layout.StackOffset;T.layout.StackOffset.ZeroOffset=["ZeroOffset",2];T.layout.StackOffset.ZeroOffset.toString=
v;T.layout.StackOffset.ZeroOffset.__enum__=T.layout.StackOffset;t={EdgeSplitter:function(){}};j["thx.graph.EdgeSplitter"]=t.EdgeSplitter;t.EdgeSplitter.__name__=["thx","graph","EdgeSplitter"];t.EdgeSplitter.prototype={split:function(a,b,c,e){var f=a.layers(),h,g;null==e&&(e=function(){});for(var i=a.graph.nodes.collection.iterator();i.hasNext();){var j=i.next();h=a.cell(j);for(j=j.graph.edges.positives(j);j.hasNext();){var k=j.next();g=a.cell(k.head);if(h.layer!=g.layer&&h.layer!=g.layer-1&&h.layer!=
g.layer+1){var l=[h.layer<g.layer?1:-1];g=O.abs(g.layer-h.layer)-1;b.push(k.split(g,c,function(a){return function(b,c,g){f[h.layer+(1+g)*a[0]].push(b.head.id);e(b,c,g)}}(l)))}}}return new t.GraphLayout(a.graph,f)},__class__:t.EdgeSplitter};t.GraphElement=function(a,b,c){this.id=b;this.data=c;this.graph=a};j["thx.graph.GraphElement"]=t.GraphElement;t.GraphElement.__name__=["thx","graph","GraphElement"];t.GraphElement.friendDestroy=function(a){return a};t.GraphElement.prototype={destroyed:function(){return null==
this.graph},destroy:function(){this.graph=null;this.id=-1},data:null,id:null,graph:null,__class__:t.GraphElement};t.GEdge=function(a,b,c,e,f,h){t.GraphElement.call(this,a,b,h);this.tail=c;this.head=e;this.weight=f};j["thx.graph.GEdge"]=t.GEdge;t.GEdge.__name__=["thx","graph","GEdge"];t.GEdge.create=function(a,b,c,e,f,h){return new t.GEdge(a,b,c,e,f,h)};t.GEdge.__super__=t.GraphElement;t.GEdge.prototype=H(t.GraphElement.prototype,{toString:function(){return null==this.graph?"Edge Destroyed":"Edge (n."+
this.id+", tail: n."+this.tail.id+", head: n."+this.head.id+", weight : "+this.weight+(null==this.data?"":", data: "+n.string(this.data))+")"},friendRemove:function(){return this.graph.edges},remove:function(){this.graph.edges._remove(this)},invert:function(){var a=this.graph.edges.create(this.head,this.tail,this.weight,this.data);this.graph.edges._remove(this);return a},other:function(a){if(a.graph!=this.graph)throw new J.Error("node is part of the edge graph",null,null,{fileName:"GEdge.hx",lineNumber:61,
className:"thx.graph.GEdge",methodName:"other"});if(this.tail==a)return this.head;if(this.head==a)return this.tail;throw new J.Error("node is not part of the edge",null,null,{fileName:"GEdge.hx",lineNumber:67,className:"thx.graph.GEdge",methodName:"other"});},split:function(a,b,c){null==a&&(a=1);if(1>a)throw new J.Error("the split times parameter must be an integer value greater than zero",null,null,{fileName:"GEdge.hx",lineNumber:34,className:"thx.graph.GEdge",methodName:"split"});null==c&&(c=function(){});
null==b&&(b=function(){return null});for(var e=this,f=[],h,g,i=e.graph,j=0;j<a;){var k=j++;h=i.nodes.create(b(e));g=i.edges.create(e.tail,h,e.weight,e.data);h=i.edges.create(h,e.head,e.weight,e.data);i.edges.remove(e);c(g,h,k);e=h;i=e.graph;f.push(g)}f.push(e);return f},destroy:function(){t.GraphElement.prototype.destroy.call(this);this.head=this.tail=null},weight:null,head:null,tail:null,__class__:t.GEdge});t.GNode=function(a,b,c){t.GraphElement.call(this,a,b,c)};j["thx.graph.GNode"]=t.GNode;t.GNode.__name__=
["thx","graph","GNode"];t.GNode.create=function(a,b,c){return new t.GNode(a,b,c)};t.GNode.__super__=t.GraphElement;t.GNode.prototype=H(t.GraphElement.prototype,{toString:function(){return null==this.graph?"Node Destroyed":"Node (n."+this.id+", positives "+this.graph.edges.positiveCount(this)+", negatives: "+this.graph.edges.negativeCount(this)+(null==this.data?"":", data: "+n.string(this.data))+")"},friendEdges:function(){return this.graph.edges},friendRemove:function(){return this.graph.nodes},remove:function(){this.graph.nodes._remove(this)},
negativeCount:function(){return this.graph.edges.negativeCount(this)},positiveCount:function(){return this.graph.edges.positiveCount(this)},edgeCount:function(){return this.graph.edges.edgeCount(this)},sortNegatives:function(a){this.graph.edges.sortNegatives(this,a)},sortPositives:function(a){this.graph.edges.sortPositives(this,a)},negatives:function(){return this.graph.edges.negatives(this)},positives:function(){return this.graph.edges.positives(this)},edges:function(){return this.graph.edges.edges(this)},
predecessorBy:function(a){return N.firstf(this.graph.edges.positives(this),function(b){return b.head.id==a.id})},successorBy:function(a){return N.firstf(this.graph.edges.negatives(this),function(b){return b.tail.id==a.id})},isPredecessorOf:function(a){return N.contains(this.graph.edges.positives(this),null,function(b){return b.head.id==a.id})},isSuccessorOf:function(a){return a.isPredecessorOf(this)},isIsolated:function(){return!this.graph.edges.edges(this).hasNext()},isSink:function(){return this.graph.edges.negatives(this).hasNext()&&
!this.graph.edges.positives(this).hasNext()},isSource:function(){return this.graph.edges.positives(this).hasNext()&&!this.graph.edges.negatives(this).hasNext()},_weight:function(a){for(var b=0;a.hasNext();)var c=a.next(),b=b+c.weight;return b},negativeWeight:function(){return this._weight(this.graph.edges.negatives(this))},positiveWeight:function(){return this._weight(this.graph.edges.positives(this))},connectedBy:function(a){if(a.graph!=this.graph)throw new J.Error("the node is not part of this graph",
null,null,{fileName:"GNode.hx",lineNumber:41,className:"thx.graph.GNode",methodName:"connectedBy"});var b=N.firstf(this.graph.edges.positives(this),function(b){return b.head.id==a.id});return null!=b?b:N.firstf(this.graph.edges.negatives(this),function(b){return b.tail.id==a.id})},isConnectedTo:function(a){if(a.graph!=this.graph)throw new J.Error("the node is not part of this graph",null,null,{fileName:"GNode.hx",lineNumber:30,className:"thx.graph.GNode",methodName:"isConnectedTo"});return N.contains(this.graph.edges.positives(this),
null,function(b){return b.head.id==a.id})||N.contains(this.graph.edges.negatives(this),null,function(b){return b.tail.id==a.id})},destroy:function(){t.GraphElement.prototype.destroy.call(this)},__class__:t.GNode});t.Graph=function(a,b){this.nodes=t.GraphNodes.newInstance(this,a);this.edges=t.GraphEdges.newInstance(this,b)};j["thx.graph.Graph"]=t.Graph;t.Graph.__name__=["thx","graph","Graph"];t.Graph.friendNodes=function(a){return a};t.Graph.friendEdges=function(a){return a};t.Graph.prototype={toString:function(){return"Graph (nodes: "+
pc.count(this.nodes.collection)+", edges: "+pc.count(this.edges.collection)+")"},pickPath:function(a,b){return 0==a.length?null:b?B.min(a,function(a){return N.reduce(ra(a)(),function(a,b){return a+b.weight},0)}):B.min(a,function(a){return a.length})},directedPath:function(a,b,c){null==c&&(c=!1);return this.pickPath(this.directedPaths(a,b),c)},directedPaths:function(a,b){var c=new hb.Set,e=[],f;(function(){var a=null;return a=function(g,i){for(var j=[],k=i.graph.edges.positives(i);k.hasNext();){var l=
k.next();f=l.head;c.exists(l.id)||(f==b?e.push(g.concat([l])):!f.isSink()&&!f.isSource()&&j.push(function(a,b,c){return function(){return a(b,c)}}(a,g.concat([l]),f)),c.add(l.id))}for(k=0;k<j.length;)l=j[k],++k,l()}})(this)([],a);return e},path:function(a,b,c){null==c&&(c=!1);return this.pickPath(this.paths(a,b),c)},paths:function(a,b){var c=new hb.Set,e=[],f;(function(){var a=null;return a=function(g,i){for(var j=[],k=i.graph.edges.edges(i);k.hasNext();){var l=k.next();f=l.other(i);c.exists(l.id)||
(f==b?e.push(g.concat([l])):f.isSource()||j.push(function(a,b,c){return function(){return a(b,c)}}(a,g.concat([l]),f)),c.add(l.id))}for(k=0;k<j.length;)l=j[k],++k,l()}})(this)([],a);return e},findIsolated:function(){return N.firstf(this.nodes.iterator(),function(a){return a.isIsolated()})},findIsolateds:function(){return N.filter(this.nodes.iterator(),function(a){return a.isIsolated()})},findSource:function(){return N.firstf(this.nodes.iterator(),function(a){return a.isSource()})},findSources:function(){return N.filter(this.nodes.iterator(),
function(a){return a.isSource()})},findSink:function(){return N.firstf(this.nodes.iterator(),function(a){return a.isSink()})},findSinks:function(){return N.filter(this.nodes.iterator(),function(a){return a.isSink()})},clone:function(){var a=new t.Graph;a.nodes=this.nodes.copyTo(a);a.edges=this.edges.copyTo(a);return a},clear:function(){this.edges.clear();this.nodes.clear()},empty:function(){return 0==N.count(this.nodes.iterator())},edges:null,nodes:null,__class__:t.Graph};t.GraphCollection=function(a,
b){var c=this;this.nextid=0;this.graph=a;this.idf=b;this.collection=new Gc;this._map=new ea;if(null!=b){var e=y(this,this.collectionCreate);this.collectionCreate=function(a){c._map.set(b(a.data),a);e(a)};var f=y(this,this.collectionRemove);this.collectionRemove=function(a){c._map.remove(b(a.data));f(a)}}this.onRemove=new Md;this.onCreate=new Md};j["thx.graph.GraphCollection"]=t.GraphCollection;t.GraphCollection.__name__=["thx","graph","GraphCollection"];t.GraphCollection.prototype={toString:function(){return N.map(this.collection.iterator(),
function(a){return n.string(a)}).join(", ")},iterator:function(){return this.collection.iterator()},collectionRemove:function(a){this.collection.remove(a.id);this.onRemove.dispatch(a)},collectionCreate:function(a){this.onCreate.dispatch(a);this.collection.set(a.id,a)},get_length:function(){return pc.count(this.collection)},has:function(a){return a.graph==this.graph&&this.collection.exists(a.id)},get:function(a){return this.collection.get(a)},getById:function(a){return this._map.get(a)},length:null,
_map:null,idf:null,nextid:null,collection:null,graph:null,onCreate:null,onRemove:null,__class__:t.GraphCollection,__properties__:{get_length:"get_length"}};t.GraphEdges=function(a,b){t.GraphCollection.call(this,a,b);this.edgesp=new Gc;this.edgesn=new Gc};j["thx.graph.GraphEdges"]=t.GraphEdges;t.GraphEdges.__name__=["thx","graph","GraphEdges"];t.GraphEdges.newInstance=function(a,b){return new t.GraphEdges(a,b)};t.GraphEdges.__super__=t.GraphCollection;t.GraphEdges.prototype=H(t.GraphCollection.prototype,
{toString:function(){return"GraphEdges ("+pc.count(this.collection)+"): "+t.GraphCollection.prototype.toString.call(this)},removeConnection:function(a,b,c){var e=c.get(b);null!=e&&(u.remove(e,a),0==e.length&&c.remove(b))},connections:function(a,b){var c=b.get(a);null==c&&b.set(a,c=[]);return c},clear:function(){for(var a=N.array(this.collection.iterator()).slice(),b=0;b<a.length;){var c=a[b];++b;this.remove(c)}},_unlink:function(a,b){var c=b.get(a.id);if(null!=c){for(var c=c.slice(),e=0;e<c.length;){var f=
c[e];++e;f=this.get(f);null==f||null==f.graph||this._remove(f)}b.remove(a.id)}},unlinkNegatives:function(a){if(a.graph!=this.graph)throw new J.Error("unlinkeNegatives: the node is not part of this graph",null,null,{fileName:"GraphEdges.hx",lineNumber:150,className:"thx.graph.GraphEdges",methodName:"unlinkNegatives"});this._unlink(a,this.edgesn)},unlinkPositives:function(a){if(a.graph!=this.graph)throw new J.Error("unlinkePositives: the node is not part of this graph",null,null,{fileName:"GraphEdges.hx",
lineNumber:143,className:"thx.graph.GraphEdges",methodName:"unlinkPositives"});this._unlink(a,this.edgesp)},_edges:function(a,b){var c=this;return this._edgeids(a,b).map(function(a){return c.get(a)})},_edgeids:function(a,b){var c=b.get(a);null==c&&(c=[]);return c},edgeCount:function(a){return this._edgeids(a.id,this.edgesp).length+this._edgeids(a.id,this.edgesn).length},negativeCount:function(a){return this._edgeids(a.id,this.edgesn).length},positiveCount:function(a){return this._edgeids(a.id,this.edgesp).length},
edges:function(a){return u.iter(this._edges(a.id,this.edgesp).concat(this._edges(a.id,this.edgesn)))},_sort:function(a,b,c){var e=this,a=c.get(a.id);null!=a&&a.sort(function(a,c){var g=e.graph.edges.get(a),i=e.graph.edges.get(c);return b(g,i)})},sortNegatives:function(a,b){this._sort(a,b,this.edgesn)},sortPositives:function(a,b){this._sort(a,b,this.edgesp)},negatives:function(a){return u.iter(this._edges(a.id,this.edgesn))},positives:function(a){return u.iter(this._edges(a.id,this.edgesp))},unlink:function(a){if(a.graph!=
this.graph)throw new J.Error("unlink: the node is not part of this graph",null,null,{fileName:"GraphEdges.hx",lineNumber:70,className:"thx.graph.GraphEdges",methodName:"unlink"});this._unlink(a,this.edgesp);this._unlink(a,this.edgesn)},_remove:function(a){this.collectionRemove(a);this.removeConnection(a.id,a.tail.id,this.edgesp);this.removeConnection(a.id,a.head.id,this.edgesn);a.destroy()},remove:function(a){if(a.graph!=this.graph)throw new J.Error("remove: the edge is not part of this graph",null,
null,{fileName:"GraphEdges.hx",lineNumber:55,className:"thx.graph.GraphEdges",methodName:"remove"});this._remove(a)},_create:function(a,b,c,e,f){e=t.GEdge.create(this.graph,a,b,c,e,f);this.collectionCreate(e);this.connections(b.id,this.edgesp).push(a);this.connections(c.id,this.edgesn).push(a);return e},create:function(a,b,c,e){null==c&&(c=1);if(a.graph!=b.graph||a.graph!=this.graph)throw new J.Error("can't create an edge between nodes on different graphs",null,null,{fileName:"GraphEdges.hx",lineNumber:39,
className:"thx.graph.GraphEdges",methodName:"create"});return this._create(++this.nextid,a,b,c,e)},copyTo:function(a){for(var b=new t.GraphEdges(a),a=a.nodes,c,e,f=this.collection.iterator();f.hasNext();){var g=f.next();c=a.get(g.tail.id);e=a.get(g.head.id);b._create(g.id,c,e,g.weight,g.data)}b.nextid=this.nextid;return b},edgesn:null,edgesp:null,__class__:t.GraphEdges});t.GraphLayout=function(a,b){this.graph=a;this._layers=b.map(function(a){return a.slice()});this.friendCell=this._cell=new t.LayoutCell;
this._updateMap();this.length=this._layers.length;a.nodes.onRemove.add(y(this,this._nodeRemove))};j["thx.graph.GraphLayout"]=t.GraphLayout;t.GraphLayout.__name__=["thx","graph","GraphLayout"];t.GraphLayout.arrayCrossings=function(a,b,c){for(var e=new Gc,f=0,g=0,i=c.length;g<i;){var j=g++;e.set(c[j],j)}if(1>=b.length||1>=c.length)return f;g=0;for(i=b.length;g<i;){j=g++;c=a.nodes.get(b[j]);for(c=c.graph.edges.positives(c);c.hasNext();){var l=c.next(),l=e.get(l.head.id);if(null!=l)for(var k=j+1,n=b.length;k<
n;)for(var o=k++,o=a.nodes.get(b[o]),o=o.graph.edges.positives(o);o.hasNext();){var p=o.next();e.get(p.head.id)<l&&f++}}}return f};t.GraphLayout.prototype={toString:function(){return"GraphLayout ("+n.string(this.graph)+", layers: "+this._layers.length+", crossings : "+this.crossings()+")"},_nodeRemove:function(a){a=this.cell(a);this._layers[a.layer].splice(a.position,1);0==this._layers[a.layer].length&&this._layers.splice(a.layer,1);this._updateMap()},maxCells:function(){return B.floatMax(this._layers,
function(a){return a.length})|0},crossings:function(){for(var a=0,b=0,c=this._layers.length-1;b<c;)var e=b++,a=a+t.GraphLayout.arrayCrossings(this.graph,this._layers[e],this._layers[e+1]);return a},layers:function(){for(var a=[],b=0,c=this._layers;b<c.length;){var e=c[b];++b;a.push(e.slice())}return a},layer:function(a){var b=this;return this._layers[a].map(function(a){return b.graph.nodes.get(a)})},nodeAt:function(a,b){var c=this._layers[a];return null==c||b>=c.length?null:this.graph.nodes.get(c[b])},
cell:function(a){if(a.graph!=this.graph)throw new J.Error("node doesn't belong to this graph",null,null,{fileName:"GraphLayout.hx",lineNumber:59,className:"thx.graph.GraphLayout",methodName:"cell"});a=this._map.get(a.id);return null==a?null:new t.LayoutCell(a[0],a[1],this._layers.length,this._layers[a[0]].length)},each:function(a){for(var b=this._layers.length,c,e=0;e<b;){var f=e++;c=this._layers[f].length;for(var g=0;g<c;){var i=g++;this.friendCell.update(f,i,b,c);a(this._cell,this.graph.nodes.get(this._layers[f][i]))}}},
clone:function(){return new t.GraphLayout(this.graph.clone(),this.layers())},_updateMap:function(){var a=this;this._map=new Gc;this.each(function(b,c){a._map.set(c.id,[b.layer,b.position])})},friendCell:null,_map:null,_cell:null,_layers:null,length:null,graph:null,__class__:t.GraphLayout};t.LayoutCell=function(a,b,c,e){null==e&&(e=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.layer=a;this.layers=c;this.position=b;this.positions=e};j["thx.graph.LayoutCell"]=t.LayoutCell;t.LayoutCell.__name__=
["thx","graph","LayoutCell"];t.LayoutCell.prototype={toString:function(){return"LayoutCell, layer "+this.layer+" ("+this.layers+"), position "+this.position+" ("+this.positions+")"},update:function(a,b,c,e){this.layer=a;this.layers=c;this.position=b;this.positions=e},positions:null,layers:null,position:null,layer:null,__class__:t.LayoutCell};t.GraphNodes=function(a,b){t.GraphCollection.call(this,a,b)};j["thx.graph.GraphNodes"]=t.GraphNodes;t.GraphNodes.__name__=["thx","graph","GraphNodes"];t.GraphNodes.newInstance=
function(a,b){return new t.GraphNodes(a,b)};t.GraphNodes.__super__=t.GraphCollection;t.GraphNodes.prototype=H(t.GraphCollection.prototype,{toString:function(){return"GraphNodes ("+pc.count(this.collection)+"): "+t.GraphCollection.prototype.toString.call(this)},clear:function(){for(var a=N.array(this.collection.iterator()).slice(),b=0;b<a.length;){var c=a[b];++b;this.remove(c)}},_remove:function(a){this.graph.edges.unlink(a);this.collectionRemove(a);a.destroy()},remove:function(a){if(a.graph!=this.graph)throw new J.Error("the node is not part of this graph",
null,null,{fileName:"GraphNodes.hx",lineNumber:39,className:"thx.graph.GraphNodes",methodName:"remove"});this._remove(a)},_create:function(a,b){var c=t.GNode.create(this.graph,a,b);this.collectionCreate(c);return c},create:function(a){return this._create(++this.nextid,a)},copyTo:function(a){for(var a=new t.GraphNodes(a),b=this.collection.iterator();b.hasNext();){var c=b.next();a._create(c.id,c.data)}a.nextid=this.nextid;return a},__class__:t.GraphNodes});t.Graphs=function(){};j["thx.graph.Graphs"]=
t.Graphs;t.Graphs.__name__=["thx","graph","Graphs"];t.Graphs.crossings=function(a,b){for(var c=new ea,e=0,f=0,g=b.length;f<g;){var i=f++;c.set(b[i].vertex,i)}if(1>=a.length||1>=b.length)return e;f=0;for(g=a.length;f<g;)for(var i=f++,j=0,l=a[i].edgesp;j<l.length;){var k=l[j];++j;k=c.get(k);if(null!=k)for(var n=i+1,o=a.length;n<o;)for(var p=n++,q=0,p=a[p].edgesp;q<p.length;){var r=p[q];++q;c.get(r)<k&&e++}}return e};t.Graphs.layoutCrossings=function(a){for(var b=0,c=0,e=a.length-1;c<e;)var f=c++,b=
b+t.Graphs.crossings(a[f],a[f+1]);return b};t.Graphs.toMap=function(a){for(var b=new ea,c=0,e=a.length;c<e;)for(var f=c++,g=0,i=a[f].length;g<i;){var j=g++;b.set(a[f][j].vertex,a[f][j])}return b};t.Graphs.toVertices=function(a){for(var b=[],c=0,e=a.length;c<e;)for(var f=c++,g=0,i=a[f].length;g<i;){var j=g++;b.push(a[f][j].vertex)}return b};t.Graphs.toEdges=function(a){for(var b=[],c=0,e=a.length;c<e;)for(var f=c++,g=0,i=a[f].length;g<i;)for(var j=g++,l=a[f][j].vertex,k=0,j=a[f][j].edgesp;k<j.length;){var n=
j[k];++k;b.push({a:l,b:n})}return b};t.Graphs.findMaxPositiveOverNegative=function(a){for(var b=null,c=0,a=a.iterator();a.hasNext();){var e=a.next(),f=e.edgesp.length-e.edgesn.length;if(null==b||c<f)b=e,c=f}return b};t.Graphs.isSink=function(a){return 0==a.edgesp.length&&0<a.edgesn.length};t.Graphs.isSource=function(a){return 0==a.edgesn.length&&0==a.edgesp.length};t.Graphs.findSink=function(a){for(a=a.iterator();a.hasNext();){var b=a.next();if(0==b.edgesp.length&&0<b.edgesn.length)return b}return null};
t.Graphs.findSource=function(a){for(a=a.iterator();a.hasNext();){var b=a.next();if(0==b.edgesn.length&&0<b.edgesp.length)return b}return null};t.Graphs.findAllIsolated=function(a){for(var b=[],a=a.iterator();a.hasNext();){var c=a.next();0==c.edgesn.length&&0==c.edgesp.length&&b.push(c)}return b};t.Graphs.addConnection=function(a,b,c){var e=t.Graphs.findPath(a,c,b);null!=e&&e.every(function(a,b){return 0==b||b==e.length-1||t.Graphs.isDummy(a)})?(e.reverse(),t.Graphs.addConnections(a,e)):t.Graphs.addConnections(a,
[b,c])};t.Graphs.addConnections=function(a,b){for(var c=0,e=b.length-1;c<e;){var f=c++,g=b[f],f=b[f+1];a.get(g).edgesp.push(f);a.get(f).edgesp.push(g)}};t.Graphs.reverseConnection=function(a,b,c){b=t.Graphs.findPath(a,b,c);if(null==b)return!1;for(var c=0,e=b.length-1;c<e;){var f=c++,g=b[f],f=b[f+1],i=a.get(g),j=a.get(f);u.remove(i.edgesp,f);i.edgesn.push(f);u.remove(j.edgesn,g);j.edgesp.push(g)}return!0};t.Graphs.findPath=function(a,b,c){new hb.Set;var e,f,c=function(){var c=null;return c=function(g,
i){for(var j=[],k=0,l=i.edgesn;k<l.length;){var n=l[k];++k;if(n==b)return g.concat([b]);t.Graphs.isSource(e=a.get(n))||j.push(function(a,b,c){return function(){return a(b,c)}}(c,g.concat([n]),e))}for(k=0;k<j.length;)if(l=j[k],++k,null!=(f=l()))return f;return null}}(this)([c],a.get(c));if(null==c)return null;c.reverse();return c};t.Graphs.isDummy=function(a){return"#"==u.substr(a,0,1)};t.Graphs.createDummy=function(){return"#"+ ++t.Graphs.id};t.Graphs.removeNode=function(a,b){a.remove(b.vertex)};
t.Graphs.addNode=function(a,b){a.set(b.vertex,b)};t.Graphs.clone=function(a){for(var b=new ea,a=a.iterator();a.hasNext();){var c=a.next();t.Graphs.addNode(b,{vertex:c.vertex,edgesn:c.edgesn.slice(),edgesp:c.edgesp.slice()})}return b};t.Graphs.empty=function(a){return 0==kb.count(a)};t.Graphs.count=function(a){return kb.count(a)};t.GreedyCyclePartitioner=function(){};j["thx.graph.GreedyCyclePartitioner"]=t.GreedyCyclePartitioner;t.GreedyCyclePartitioner.__name__=["thx","graph","GreedyCyclePartitioner"];
t.GreedyCyclePartitioner.findMaxPositiveOverNegative=function(a){for(var b=null,c=0,a=a.nodes.collection.iterator();a.hasNext();){var e=a.next(),f=e.graph.edges.positiveCount(e)-e.graph.edges.negativeCount(e);if(null==b||c<f)b=e,c=f}return b};t.GreedyCyclePartitioner.prototype={partition:function(a){for(var b=[],c=[],e=a.clone(),f;0!=N.count(e.nodes.iterator());){for(;null!=(f=e.findSink());){for(var g=f.graph.edges.negatives(f);g.hasNext();){var i=g.next();c.unshift(a.edges.get(i.id));i.graph.edges._remove(i)}f.graph.nodes._remove(f)}f=
0;for(i=e.findIsolateds();f<i.length;)g=i[f],++f,g.graph.nodes._remove(g);for(;null!=(f=e.findSource());){for(g=f.graph.edges.positives(f);g.hasNext();)i=g.next(),b.push(a.edges.get(i.id)),i.graph.edges._remove(i);f.graph.nodes._remove(f)}if(0!=N.count(e.nodes.iterator())){f=t.GreedyCyclePartitioner.findMaxPositiveOverNegative(e);for(g=f.graph.edges.negatives(f);g.hasNext();)i=g.next(),c.unshift(a.edges.get(i.id)),i.graph.edges._remove(i);for(g=f.graph.edges.positives(f);g.hasNext();)i=g.next(),b.push(a.edges.get(i.id)),
i.graph.edges._remove(i);f.graph.nodes._remove(f)}}return{left:b,right:c}},__class__:t.GreedyCyclePartitioner};t.GreedySwitchDecrosser=function(){};j["thx.graph.GreedySwitchDecrosser"]=t.GreedySwitchDecrosser;t.GreedySwitchDecrosser.__name__=["thx","graph","GreedySwitchDecrosser"];t.GreedySwitchDecrosser.combined=function(){return{decross:function(a){a=(new t.GreedySwitchDecrosser).decross(a);return(new t.GreedySwitch2Decrosser).decross(a)}}};t.GreedySwitchDecrosser.best=function(){return{decross:function(a){a=
[(new t.GreedySwitchDecrosser).decross(a),(new t.GreedySwitch2Decrosser).decross(a),t.GreedySwitchDecrosser.combined().decross(a)];return B.min(a,function(a){return a.crossings()})}}};t.GreedySwitchDecrosser.prototype={swap:function(a,b){var c=a[b];a[b]=a[b+1];a[b+1]=c},decrossPair:function(a,b,c){var e=t.GraphLayout.arrayCrossings(a,b,c),f=e,g;do for(var e=f,i=0,j=c.length-1;i<j;){var l=i++;this.swap(c,l);(g=t.GraphLayout.arrayCrossings(a,b,c))>=f?this.swap(c,l):f=g}while(f<e)},decross:function(a){var b=
a.layers(),c=a.graph,e=a;if(1>=b.length)return new t.GraphLayout(a.graph,b);var f,g,i=b.length-1,j;do{a=b.map(function(a){return a.slice()});e=new t.GraphLayout(c,b);f=e.crossings();for(g=0;g<i;)j=g++,b=a[j],j=a[j+1],this.decrossPair(c,b,j);g=(new t.GraphLayout(c,a)).crossings();b=a}while(f>g);return e},__class__:t.GreedySwitchDecrosser};t.GreedySwitch2Decrosser=function(){t.GreedySwitchDecrosser.call(this)};j["thx.graph.GreedySwitch2Decrosser"]=t.GreedySwitch2Decrosser;t.GreedySwitch2Decrosser.__name__=
["thx","graph","GreedySwitch2Decrosser"];t.GreedySwitch2Decrosser.__super__=t.GreedySwitchDecrosser;t.GreedySwitch2Decrosser.prototype=H(t.GreedySwitchDecrosser.prototype,{decrossTriplet:function(a,b,c,e){if(null==b)this.decrossPair(a,c,e);else if(null==e)this.decrossPair(a,b,c);else{var f=t.GraphLayout.arrayCrossings(a,b,c)+t.GraphLayout.arrayCrossings(a,c,e),g=f,i;do for(var f=g,j=0,l=c.length-1;j<l;){var k=j++;this.swap(c,k);(i=t.GraphLayout.arrayCrossings(a,b,c)+t.GraphLayout.arrayCrossings(a,
c,e))>=g?this.swap(c,k):g=i}while(g<f)}},decross:function(a){var b=a.layers(),c=a.graph,e=a;if(1>=b.length)return new t.GraphLayout(a.graph,b);var f,g,i=b.length-1,j;do{a=b.map(function(a){return a.slice()});e=new t.GraphLayout(c,b);f=e.crossings();for(var l=0;l<i;)j=l++,b=a[j-1],g=a[j],j=a[j+1],this.decrossTriplet(c,b,g,j);g=(new t.GraphLayout(c,a)).crossings();b=a}while(f>g);return e},__class__:t.GreedySwitch2Decrosser});t.HeaviestNodeLayer=function(){};j["thx.graph.HeaviestNodeLayer"]=t.HeaviestNodeLayer;
t.HeaviestNodeLayer.__name__=["thx","graph","HeaviestNodeLayer"];t.HeaviestNodeLayer.prototype={lay:function(a){for(var b=[],c=B.order(N.array(a.nodes.iterator()),function(a,b){return D.compare(b.positiveWeight(),a.positiveWeight())}),e=function(){var a=null;return a=function(e,f){if(u.remove(c,e)){var g=b[f];null==g&&(g=b[f]=[]);g.push(e.id);for(g=e.graph.edges.positives(e);g.hasNext();){var i=g.next();a(i.head,f+1)}}}}(this);0<c.length;)e(c[0],0);for(e=0;e<b.length;){var f=b[e];++e;f.sort(function(b,
c){return D.compare(a.nodes.get(c).positiveWeight(),a.nodes.get(b).positiveWeight())})}return b},__class__:t.HeaviestNodeLayer};t.LongestPathLayer=function(){};j["thx.graph.LongestPathLayer"]=t.LongestPathLayer;t.LongestPathLayer.__name__=["thx","graph","LongestPathLayer"];t.LongestPathLayer.distanceToASink=function(a,b){var c=function(){var a=null;return a=function(b,c){for(var g=c;b.hasNext();){var i=b.next();i.head.isSink()||(g=O.max(g,a(i.head.positives(),c+1)))}return g}}(this);return b.isIsolated()?
0:c(b.graph.edges.positives(b),1)};t.LongestPathLayer.prototype={lay:function(a){for(var a=a.clone(),b=[[]],c=0,e=a.findSinks();c<e.length;){var f=e[c];++c;b[0].push(f.id)}c=0;for(e=N.filter(a.nodes.iterator(),function(a){return!a.isSink()});c<e.length;){f=e[c];++c;var g=t.LongestPathLayer.distanceToASink(a,f),i=b[g];null==i&&(i=b[g]=[]);i.push(f.id)}b.reverse();return b},__class__:t.LongestPathLayer};t.OneCycleRemover=function(){};j["thx.graph.OneCycleRemover"]=t.OneCycleRemover;t.OneCycleRemover.__name__=
["thx","graph","OneCycleRemover"];t.OneCycleRemover.prototype={remove:function(a){for(var b=[],c=a.nodes.collection.iterator();c.hasNext();){var e=c.next(),a=e.predecessorBy(e);null!=a&&(b.push({node:e,weight:a.weight,data:a.data}),a.graph.edges._remove(a))}return b},__class__:t.OneCycleRemover};t.SugiyamaMethod=function(a,b,c,e){this.partitioner=null==a?new t.GreedyCyclePartitioner:a;this.layer=null==b?new t.LongestPathLayer:b;this.splitter=null==c?new t.EdgeSplitter:c;this.decrosser=null==e?t.GreedySwitchDecrosser.best():
e};j["thx.graph.SugiyamaMethod"]=t.SugiyamaMethod;t.SugiyamaMethod.__name__=["thx","graph","SugiyamaMethod"];t.SugiyamaMethod.prototype={resolve:function(a,b,c){var e=(new t.OneCycleRemover).remove(a),f=(new t.TwoCycleRemover).remove(a),g=this.partitioner.partition(a),i=new ea;(g.left.length>g.right.length?g.right:g.left).forEach(function(a){i.set(a.tail.id+"-"+a.head.id,[a.invert()])});g=this.layer.lay(a);a=new t.GraphLayout(a,g);g=[];a=this.splitter.split(a,g,b,c);g.forEach(function(a){var b=a[a.length-
1].head.id+"-"+a[0].tail.id;i.exists(b)&&i.set(b,a)});a=this.decrosser.decross(a);for(b=i.iterator();b.hasNext();)b.next().forEach(function(a){a.invert()});for(b=0;b<f.length;)c=f[b],++b,a.graph.edges.create(c.tail,c.head,c.weight,c.data);for(b=0;b<e.length;)c=e[b],++b,a.graph.edges.create(c.node,c.node,c.weight,c.data);return a},decrosser:null,splitter:null,layer:null,partitioner:null,__class__:t.SugiyamaMethod};t.TwoCycleRemover=function(){};j["thx.graph.TwoCycleRemover"]=t.TwoCycleRemover;t.TwoCycleRemover.__name__=
["thx","graph","TwoCycleRemover"];t.TwoCycleRemover.prototype={remove:function(a){for(var b=[],a=a.nodes.collection.iterator();a.hasNext();)for(var c=a.next(),e=c.graph.edges.positives(c);e.hasNext();){var f=e.next().head.predecessorBy(c);null!=f&&(b.push({tail:f.tail,head:f.head,weight:f.weight,data:f.data}),f.graph.edges._remove(f))}return b},__class__:t.TwoCycleRemover};ja={Json:function(){}};j["thx.json.Json"]=ja.Json;ja.Json.__name__=["thx","json","Json"];ja.Json.encode=function(a){if(null!=
ja.Json.nativeEncoder)return ja.Json.nativeEncoder(a);var b=new ja.JsonEncoder;(new Ta.ValueEncoder(b)).encode(a);return b.encodedString};ja.Json.decode=function(a){if(null!=ja.Json.nativeDecoder)return ja.Json.nativeDecoder(a);var b=new Ta.ValueHandler;(new ja.JsonDecoder(b)).decode(a);return b.value};ja.JsonDecoder=function(a,b){null==b&&(b=4);this.handler=a;this.tabsize=b};j["thx.json.JsonDecoder"]=ja.JsonDecoder;ja.JsonDecoder.__name__=["thx","json","JsonDecoder"];ja.JsonDecoder.prototype={error:function(a){var b=
this.pos==this.src.length?"":"\nrest: "+(null!=this["char"]?this["char"]:"")+u.substr(this.src,this.pos,null)+"...";throw new J.Error("error at L {0} C {1}: {2}{3}",[this.line,this.col,a,b],null,{fileName:"JsonDecoder.hx",lineNumber:357,className:"thx.json.JsonDecoder",methodName:"error"});},parseDigits:function(a){null==a&&(a=0);for(var b="";;){var c=null;try{c=this.readChar()}catch(e){if(I.__instanceof(e,ja._JsonDecoder.StreamError))return b.length<a&&this.error("expected digit"),b;throw e;}var f=
u.cca(c,0);if(48>f||57<f)return b.length<a&&this.error("expected digit"),this.col+=b.length,this["char"]=c,b;b+=c}return null},parseFloat:function(){var a="";this.expect("-")&&(a="-");if(this.expect("0"))a+="0";else{var b=this.readChar(),c=u.cca(b,0);(49>c||57<c)&&this.error("expected digit between 1 and 9");a+=b;this.col++}try{a+=this.parseDigits()}catch(e){if(I.__instanceof(e,ja._JsonDecoder.StreamError)){this.handler.valueInt(n.parseInt(a));return}throw e;}try{if(this.expect("."))a+="."+this.parseDigits(1);
else{this.handler.valueInt(n.parseInt(a));return}if(this.expect("e")||this.expect("E"))a+="e",this.expect("+")||this.expect("-")&&(a+="-"),a+=this.parseDigits(1)}catch(f){if(I.__instanceof(f,ja._JsonDecoder.StreamError)){this.handler.valueFloat(n.parseFloat(a));return}throw f;}this.handler.valueFloat(n.parseFloat(a))},parseHexa:function(){for(var a=[],b=0;4>b;){b++;var c=this.readChar(),e=u.cca(c.toLowerCase(),0);48<=e&&57>=e||97<=e&&102>=e||this.error("invalid hexadecimal value "+c);a.push(c)}this.handler.valueInt(n.parseInt("0x"+
a.join("")));return n.parseInt("0x"+a.join(""))},_parseString:function(){this.expect('"')||this.error("expected double quote");var a="",b=!1;try{for(;;){var c=this.readChar();this.col++;if(b){switch(c){case '"':a+='"';break;case "\\":a+="\\";break;case "/":a+="/";break;case "b":a+="\u0008";break;case "f":a+="\u000c";break;case "n":a+="\n";break;case "r":a+="\r";break;case "t":a+="\t";break;case "u":a+=String.fromCharCode(this.parseHexa());break;default:this.error("unexpected char "+c)}b=!1}else switch(c){case "\\":b=
!0;break;case '"':throw"__break__";default:a+=c}}}catch(e){if("__break__"!=e)throw e;}return a},parseString:function(){this.handler.valueString(this._parseString())},parseValue:function(){this.expect("true")?this.handler.valueBool(!0):this.expect("false")?this.handler.valueBool(!1):this.expect("null")?this.handler.valueNull():this.parseFloat()},parseArray:function(){this.ignoreWhiteSpace();var a=!0;for(this.handler.arrayStart();;){this.ignoreWhiteSpace();if(this.expect("]"))break;else a?a=!1:this.expect(",")?
this.ignoreWhiteSpace():this.error("expected ','");this.handler.arrayItemStart();this.parse();this.handler.arrayItemEnd()}this.handler.arrayEnd()},parseObject:function(){var a=!0;for(this.handler.objectStart();;){this.ignoreWhiteSpace();if(this.expect("}"))break;else a?a=!1:this.expect(",")?this.ignoreWhiteSpace():this.error("expected ','");var b=this._parseString();this.ignoreWhiteSpace();this.expect(":")||this.error("expected ':'");this.ignoreWhiteSpace();this.handler.objectFieldStart(b);this.parse();
this.handler.objectFieldEnd()}this.handler.objectEnd()},expect:function(a){return(null==this["char"]?u.substr(this.src,this.pos,a.length):this["char"]+u.substr(this.src,this.pos,a.length-1))==a?(null==this["char"]?this.pos+=a.length:(this.pos+=a.length-1,this["char"]=null),!0):!1},readChar:function(){if(null==this["char"]){if(this.pos==this.src.length)throw ja._JsonDecoder.StreamError.Eof;return this.src.charAt(this.pos++)}var a=this["char"];this["char"]=null;return a},parse:function(){var a=this.readChar();
switch(a){case "{":this.col++;this.ignoreWhiteSpace();this.parseObject();break;case "[":this.col++;this.ignoreWhiteSpace();this.parseArray();break;case '"':this["char"]=a;this.parseString();break;default:this["char"]=a,this.parseValue()}},ignoreWhiteSpace:function(){for(;this.pos<this.src.length;){var a=this.readChar();switch(a){case " ":this.col++;break;case "\n":this.col=0;this.line++;break;case "\r":break;case "\t":this.col+=this.tabsize;break;default:this["char"]=a;return}}},decode:function(a){this.line=
this.col=0;this.src=a;this["char"]=null;this.pos=0;this.ignoreWhiteSpace();this.handler.start();try{this.parse()}catch(b){if(I.__instanceof(b,ja._JsonDecoder.StreamError))this.error("unexpected end of stream");else throw b;}this.ignoreWhiteSpace();this.pos<this.src.length&&this.error("the stream contains unrecognized characters at its end");this.handler.end()},handler:null,pos:null,"char":null,src:null,tabsize:null,line:null,col:null,__class__:ja.JsonDecoder};ja._JsonDecoder={};ja._JsonDecoder.StreamError=
{__ename__:["thx","json","_JsonDecoder","StreamError"],__constructs__:["Eof"]};ja._JsonDecoder.StreamError.Eof=["Eof",0];ja._JsonDecoder.StreamError.Eof.toString=v;ja._JsonDecoder.StreamError.Eof.__enum__=ja._JsonDecoder.StreamError;ja.JsonEncoder=function(){};j["thx.json.JsonEncoder"]=ja.JsonEncoder;ja.JsonEncoder.__name__=["thx","json","JsonEncoder"];ja.JsonEncoder.__interfaces__=[Ta.IDataHandler];ja.JsonEncoder.prototype={quote:function(a){return'"'+(new R(".","")).customReplace((new R("(\n)",
"g")).replace((new R('("|\\\\)',"g")).replace(a,"\\$1"),"\\n"),function(a){a=u.cca(a.matched(0),0);return 32<=a&&127>=a?String.fromCharCode(a):"\\u"+F.hex(a,4)})+'"'},comment:function(){},valueBool:function(a){this.buf.b+=n.string(a?"true":"false")},valueNull:function(){this.buf.b+="null"},valueFloat:function(a){this.buf.b+=n.string(a)},valueInt:function(a){this.buf.b+=n.string(a)},valueString:function(a){this.buf.b+=n.string(this.quote(a))},valueDate:function(a){this.buf.b+=n.string(a.getTime())},
arrayEnd:function(){this.buf.b+="]";this.count.pop()},arrayItemEnd:function(){},arrayItemStart:function(){0<this.count[this.count.length-1]++&&(this.buf.b+=",")},arrayStart:function(){this.buf.b+="[";this.count.push(0)},objectEnd:function(){this.buf.b+="}";this.count.pop()},objectFieldEnd:function(){},objectFieldStart:function(a){0<this.count[this.count.length-1]++&&(this.buf.b+=",");this.buf.b+=n.string(this.quote(a)+":")},objectStart:function(){this.buf.b+="{";this.count.push(0)},end:function(){this.encodedString=
this.buf.b;this.buf=null},start:function(){this.lvl=0;this.buf=new bb;this.encodedString=null;this.count=[]},count:null,lvl:null,buf:null,encodedString:null,__class__:ja.JsonEncoder};C.Const=function(){};j["thx.math.Const"]=C.Const;C.Const.__name__=["thx","math","Const"];C.Ease=function(){};j["thx.math.Ease"]=C.Ease;C.Ease.__name__=["thx","math","Ease"];C.Ease.mode=function(a,b){if(null==b)b=C.Equations.cubic;if(null==a)a=C.EaseMode.EaseIn;switch(a[1]){case 0:return b;case 1:return function(a){return 1-
b(1-a)};case 2:return function(a){return 0.5*(0.5>a?b(2*a):2-b(2-2*a))};case 3:return C.Ease.mode(C.EaseMode.EaseInEaseOut,C.Ease.mode(C.EaseMode.EaseOut,b))}};C.EaseMode={__ename__:["thx","math","EaseMode"],__constructs__:["EaseIn","EaseOut","EaseInEaseOut","EaseOutEaseIn"]};C.EaseMode.EaseIn=["EaseIn",0];C.EaseMode.EaseIn.toString=v;C.EaseMode.EaseIn.__enum__=C.EaseMode;C.EaseMode.EaseOut=["EaseOut",1];C.EaseMode.EaseOut.toString=v;C.EaseMode.EaseOut.__enum__=C.EaseMode;C.EaseMode.EaseInEaseOut=
["EaseInEaseOut",2];C.EaseMode.EaseInEaseOut.toString=v;C.EaseMode.EaseInEaseOut.__enum__=C.EaseMode;C.EaseMode.EaseOutEaseIn=["EaseOutEaseIn",3];C.EaseMode.EaseOutEaseIn.toString=v;C.EaseMode.EaseOutEaseIn.__enum__=C.EaseMode;C.Random=function(a){null==a&&(a=1);this.seed=a};j["thx.math.Random"]=C.Random;C.Random.__name__=["thx","math","Random"];C.Random.prototype={"float":function(){return((this.seed=16807*this.seed%2147483647)&1073741823)/1073741823},"int":function(){return(this.seed=16807*this.seed%
2147483647)&1073741823},seed:null,__class__:C.Random};C.scale={};C.scale.IScale=function(){};j["thx.math.scale.IScale"]=C.scale.IScale;C.scale.IScale.__name__=["thx","math","scale","IScale"];C.scale.IScale.prototype={getRange:null,getDomain:null,scale:null,__class__:C.scale.IScale};C.scale.NumericScale=function(){this._domain=[0,1];this._range=[0,1];this.f=D.interpolatef;this._clamp=!1;this.rescale()};j["thx.math.scale.NumericScale"]=C.scale.NumericScale;C.scale.NumericScale.__name__=["thx","math",
"scale","NumericScale"];C.scale.NumericScale.__interfaces__=[C.scale.IScale];C.scale.NumericScale.scaleBilinear=function(a,b,c,e){var f=c(a[0],a[1]),g=e(b[0],b[1],null);return function(a){return g(f(a))}};C.scale.NumericScale.scalePolylinear=function(a,b,c,e){for(var f=[],g=[],i=1,j=a.length;i<j;){var l=i++;f.push(c(a[l-1],a[l]));g.push(e(b[l-1],b[l],null))}return function(b){var c=B.bisectRight(a,b,1,a.length-1)-1;return g[c](f[c](b))}};C.scale.NumericScale.prototype={_this:function(){return this},
transform:function(a,b,c,e){var f=this.getRange().map(function(c){return(c-b)/a});this.domain([c,e]);this.domain(f.map(y(this,this.invert)));return this},tickFormat:function(){throw new J.AbstractMethod({fileName:"NumericScale.hx",lineNumber:91,className:"thx.math.scale.NumericScale",methodName:"tickFormat"});},ticks:function(){throw new J.AbstractMethod({fileName:"NumericScale.hx",lineNumber:86,className:"thx.math.scale.NumericScale",methodName:"ticks"});},clamp:function(a){this._clamp=a;return this.rescale()},
getClamp:function(){return this._clamp},interpolatef:function(a){this.f=a;return this.rescale()},getInterpolate:function(){return this.f},rangeRound:function(a){this.range(a);this.interpolatef(O.interpolatef);return this},range:function(a){this._range=a;return this.rescale()},getRange:function(){return this._range},domain:function(a){this._domain=a;return this.rescale()},getDomain:function(){return this._domain},invert:function(a){return this._input(a)},scale:function(a){return this._output(a)},rescale:function(){var a=
2==this._domain.length?C.scale.NumericScale.scaleBilinear:C.scale.NumericScale.scalePolylinear,b=this._clamp?D.uninterpolateClampf:D.uninterpolatef;this._output=a(this._domain,this._range,b,this.f);this._input=a(this._range,this._domain,b,D.interpolatef);return this},_input:null,_output:null,_clamp:null,f:null,_range:null,_domain:null,__class__:C.scale.NumericScale};C.scale.Linear=function(){C.scale.NumericScale.call(this);this.m=10};j["thx.math.scale.Linear"]=C.scale.Linear;C.scale.Linear.__name__=
["thx","math","scale","Linear"];C.scale.Linear.__super__=C.scale.NumericScale;C.scale.Linear.prototype=H(C.scale.NumericScale.prototype,{tickFormat:function(a){var b=Math.max(0,-Math.floor(Math.log(this.tickRange().step)/2.302585092994046+0.01));return D.format(a,"D:"+b)},ticks:function(){var a=this.tickRange();return D.range(a.start,a.stop,a.step)},tickRange:function(){var a=B.min(this._domain),b=B.max(this._domain),c=b-a,e=Math.pow(10,Math.floor(Math.log(c/this.m)/2.302585092994046)),c=this.m/(c/
e);0.15>=c?e*=10:0.35>=c?e*=5:0.75>=c&&(e*=2);return{start:Math.ceil(a/e)*e,stop:Math.floor(b/e)*e+0.5*e,step:e}},modulo:function(a){this.m=a;return this},getModulo:function(){return this.m},m:null,__class__:C.scale.Linear});C.scale.LinearT=function(){this._domain=[0,1];this._range=null;this.f=C.scale.LinearT._f;this._clamp=!1;this.rescale()};j["thx.math.scale.LinearT"]=C.scale.LinearT;C.scale.LinearT.__name__=["thx","math","scale","LinearT"];C.scale.LinearT.__interfaces__=[C.scale.IScale];C.scale.LinearT._f=
function(){return function(){return null}};C.scale.LinearT.scaleBilinear=function(a,b,c,e){var f=c(a[0],a[1]),g=e(b[0],b[1],null);return function(a){return g(f(a))}};C.scale.LinearT.scalePolylinear=function(a,b,c,e){for(var f=[],g=[],i=1,j=a.length;i<j;){var l=i++;f.push(c(a[l-1],a[l]));g.push(e(b[l-1],b[l],null))}return function(b){var c=B.bisectRight(a,b,1,a.length-1)-1;return g[c](f[c](b))}};C.scale.LinearT.prototype={tickFormat:function(a){a=Math.max(0,-Math.floor(Math.log(this.tickRange(a).step)/
2.302585092994046+0.01));return D.formatf("D:"+a)},ticks:function(a){a=this.tickRange(a);return D.range(a.start,a.stop,a.step)},tickRange:function(a){var b=Math.min(this._domain[0],this._domain[1]),c=Math.max(this._domain[0],this._domain[1]),e=c-b,f=Math.pow(10,Math.floor(Math.log(e/a)/2.302585092994046)),a=a/(e/f);0.15>=a?f*=10:0.35>=a?f*=5:-75>=a&&(f*=2);return{start:Math.ceil(b/f)*f,stop:Math.floor(c/f)*f+0.5*f,step:f}},clamp:function(a){this._clamp=a;return this.rescale()},getClamp:function(){return this._clamp},
interpolatef:function(a){this.f=a;return this.rescale()},getInterpolate:function(){return this.f},range:function(a){this._range=a;return this.rescale()},getRange:function(){return this._range},domain:function(a){this._domain=a;return this.rescale()},getDomain:function(){return this._domain},scale:function(a){return this._output(a)},rescale:function(){if(null==this._range)return this;this._output=(2==this._domain.length?C.scale.LinearT.scaleBilinear:C.scale.LinearT.scalePolylinear)(this._domain,this._range,
this._clamp?D.uninterpolateClampf:D.uninterpolatef,this.f);return this},_output:null,_clamp:null,f:null,_range:null,_domain:null,__class__:C.scale.LinearT};C.scale.Linears=function(){};j["thx.math.scale.Linears"]=C.scale.Linears;C.scale.Linears.__name__=["thx","math","scale","Linears"];C.scale.Linears.forString=function(){return(new C.scale.LinearT).interpolatef(E.interpolatef)};C.scale.Linears.forHsl=function(){return(new C.scale.LinearT).interpolatef(g.Hsl.interpolatef)};C.scale.Linears.forHslString=
function(){return(new C.scale.LinearT).interpolatef(function(a,b,c){if(E.empty(a)||E.empty(b))return function(){return""};var a=g.Hsl.toHsl(g.Colors.parse(a)),b=g.Hsl.toHsl(g.Colors.parse(b)),e=g.Hsl.interpolatef(a,b,c);return function(a){return e(a).toHslString()}})};C.scale.Linears.forRgb=function(){return(new C.scale.LinearT).interpolatef(g.Rgb.interpolatef)};C.scale.Linears.forRgbString=function(){return(new C.scale.LinearT).interpolatef(function(a,b,c){if(E.empty(a)||E.empty(b))return function(){return""};
var a=g.Colors.parse(a),b=g.Colors.parse(b),e=g.Rgb.interpolatef(a,b,c);return function(a){return e(a).toRgbString()}})};gc={NumberParser:function(){}};j["thx.number.NumberParser"]=gc.NumberParser;gc.NumberParser.__name__=["thx","number","NumberParser"];gc.NumberParser.parse=function(a,b){null==b&&(b=o.Culture.get_defaultCulture());gc.NumberParser.cultureNumberEReg(b);var c=a,e=Math.NaN,f=b.number,g=tb.ERegs.escapeERegChars(f.groupsSeparator),f=tb.ERegs.escapeERegChars(f.decimalsSeparator);gc.NumberParser.canParse(a,
b)&&(c=(new R(g,"gi")).replace(c,""),c=(new R(f,"gi")).replace(c,"."),e=n.parseFloat(c),(new R(tb.ERegs.escapeERegChars(b.signNeg),"")).match(a)&&0<e&&(e*=-1));return e};gc.NumberParser.cultureNumberEReg=function(a){var b=a.number,c=b.groups.slice(),e="",f=tb.ERegs.escapeERegChars(b.groupsSeparator),g=tb.ERegs.escapeERegChars(b.decimalsSeparator);if(null!=a.digits)throw"unsupported digit characters";e="[0-9]";a=new bb;a.b+="(";if(2<c.length)throw"too many groups!";if(2==c.length)0==c[1]?a.b+=n.string("("+
e+"*"+f+")"):(a.b+=n.string("(("+e+"{1,"+c[1]+"}"+f+")"),a.b+=n.string("("+e+"{"+c[1]+"}"+f+")*"+e+"{"+c[0]+"})|")),a.b=0==c[0]?a.b+n.string("("+e+"*"+f+")"):a.b+n.string("("+e+"+)");1==c.length&&(a.b+=n.string("(("+e+"{1,"+c[0]+"})"),a.b+=n.string("("+f+e+"{"+c[0]+"})+)|"),a.b+=n.string("("+e+"+)"));a.b+=")";a.b+=n.string("("+g+e+"*)?");a.b+="([eE][+\\-]?\\d+)?";c=a.b;"-n"!=b.patternNegative?(b=(new R("([^n]+)","g")).replace(tb.ERegs.escapeERegChars(b.patternNegative),"($1)?"),c=(new R("n","")).replace(b,
c)):c="[+-]?"+c;return new R("^"+c+"$","gi")};gc.NumberParser.canParse=function(a,b){null==b&&(b=o.Culture.get_defaultCulture());return gc.NumberParser.cultureNumberEReg(b).match(a)?!0:!1};q={Arc:function(){this._r0=function(){return 0};this._r1=function(){return 1};this._a0=function(){return 0};this._a1=function(){return Math.PI}}};j["thx.svg.Arc"]=q.Arc;q.Arc.__name__=["thx","svg","Arc"];q.Arc.fromObject=function(){return(new q.Arc).innerRadiusf(function(a){return a.innerRadius}).outerRadiusf(function(a){return a.outerRadius}).startAnglef(function(a){return a.startAngle}).endAnglef(function(a){return a.endAngle})};
q.Arc.fromAngleObject=function(){return(new q.Arc).startAnglef(function(a){return a.startAngle}).endAnglef(function(a){return a.endAngle})};q.Arc.prototype={centroid:function(a,b){var c=(this._r0(a,b)+this._r1(a,b))/2,e=(this._a0(a,b)+this._a1(a,b))/2+q.LineInternals.arcOffset;return[Math.cos(e)*c,Math.sin(e)*c]},shape:function(a,b){var c=this._a0(a,b)+q.LineInternals.arcOffset,e=this._a1(a,b)+q.LineInternals.arcOffset,f=e-c,g=f<Math.PI?"0":"1",i=Math.cos(c),c=Math.sin(c),j=Math.cos(e),e=Math.sin(e),
l=this._r0(a,b),k=this._r1(a,b);return f>=q.LineInternals.arcMax?0!=l?"M0,"+k+"A"+k+","+k+" 0 1,1 0,"+-k+"A"+k+","+k+" 0 1,1 0,"+k+"M0,"+l+"A"+l+","+l+" 0 1,1 0,"+-l+"A"+l+","+l+" 0 1,1 0,"+l+"Z":"M0,"+k+"A"+k+","+k+" 0 1,1 0,"+-k+"A"+k+","+k+" 0 1,1 0,"+k+"Z":0!=l?"M"+k*i+","+k*c+"A"+k+","+k+" 0 "+g+",1 "+k*j+","+k*e+"L"+l*j+","+l*e+"A"+l+","+l+" 0 "+g+",0 "+l*i+","+l*c+"Z":"M"+k*i+","+k*c+"A"+k+","+k+" 0 "+g+",1 "+k*j+","+k*e+"L0,0Z"},endAnglef:function(a){this._a1=a;return this},endAngle:function(a){return this.endAnglef(function(){return a})},
getEndAngle:function(){return this._a1},startAnglef:function(a){this._a0=a;return this},startAngle:function(a){return this.startAnglef(function(){return a})},getStartAngle:function(){return this._a0},outerRadiusf:function(a){this._r1=a;return this},outerRadius:function(a){return this.outerRadiusf(function(){return a})},getOuterRadius:function(){return this._r1},innerRadiusf:function(a){this._r0=a;return this},innerRadius:function(a){return this.innerRadiusf(function(){return a})},getInnerRadius:function(){return this._r0},
_a1:null,_a0:null,_r1:null,_r0:null,__class__:q.Arc};q.Area=function(a,b,c,e){this._x=a;this._y0=b;this._y1=c;this._interpolator=e};j["thx.svg.Area"]=q.Area;q.Area.__name__=["thx","svg","Area"];q.Area.pointArray=function(a){return new q.Area(function(a){return a[0]},function(a){return a[1]},function(a){return a[2]},a)};q.Area.pointObject=function(a){return new q.Area(function(a){return a.x},function(a){return a.y0},function(a){return a.y1},a)};q.Area.pointArray2=function(a){return new q.Area(function(a){return a[0]},
function(){return 0},function(a){return a[1]},a)};q.Area.pointObjectXY=function(a){return new q.Area(function(a){return a.x},function(){return 0},function(a){return a.y},a)};q.Area.prototype={y1:function(a){this._y1=a;return this},getY1:function(){return this._y1},y0:function(a){this._y0=a;return this},getY0:function(){return this._y0},x:function(a){this._x=a;return this},getX:function(){return this._x},interpolator:function(a){this._interpolator=a;return this},getInterpolator:function(){return this._interpolator},
shape:function(a){var b=q.LineInternals.linePoints(a,this._x,this._y0);b.reverse();return 1>a.length?null:"M"+q.LineInternals.interpolatePoints(q.LineInternals.linePoints(a,this._x,this._y1),this._interpolator)+"L"+q.LineInternals.interpolatePoints(b,this._interpolator)+"Z"},_interpolator:null,_y1:null,_y0:null,_x:null,__class__:q.Area};q.Diagonal=function(){this._projection=q.Diagonal.diagonalProjection};j["thx.svg.Diagonal"]=q.Diagonal;q.Diagonal.__name__=["thx","svg","Diagonal"];q.Diagonal.diagonalProjection=
function(a){return a};q.Diagonal.forObject=function(){return(new q.Diagonal).sourcef(function(a){return[a.x0,a.y0]}).targetf(function(a){return[a.x1,a.y1]})};q.Diagonal.forArray=function(){return(new q.Diagonal).sourcef(function(a){return[a[0],a[1]]}).targetf(function(a){return[a[2],a[3]]})};q.Diagonal.prototype={projection:function(a){this._projection=a;return this},getProjection:function(){return this._projection},targetf:function(a){this._target=a;return this},getTarget:function(){return this._target},
sourcef:function(a){this._source=a;return this},getSource:function(){return this._source},diagonal:function(a,b){var c=this._source(a,b),e=this._target(a,b),f=(c[1]+e[1])/2,c=[c,[c[0],f],[e[0],f],e].map(this._projection);return"M "+c[0][0]+" "+c[0][1]+" C "+c[1][0]+" "+c[1][1]+" "+c[2][0]+" "+c[2][1]+" "+c[3][0]+" "+c[3][1]},_projection:null,_target:null,_source:null,__class__:q.Diagonal};q.Line=function(a,b,c){this._x=a;this._y=b;this._interpolator=c};j["thx.svg.Line"]=q.Line;q.Line.__name__=["thx",
"svg","Line"];q.Line.pointArray=function(a){return new q.Line(function(a){return a[0]},function(a){return a[1]},a)};q.Line.pointObject=function(a){return new q.Line(function(a){return a.x},function(a){return a.y},a)};q.Line.prototype={y:function(a){this._y=a;return this},getY:function(){return this._y},x:function(a){this._x=a;return this},getX:function(){return this._x},interpolator:function(a){this._interpolator=a;return this},getInterpolator:function(){return this._interpolator},shape:function(a){return 1>
a.length?null:"M"+q.LineInternals.interpolatePoints(q.LineInternals.linePoints(a,this._x,this._y),this._interpolator)},_interpolator:null,_y:null,_x:null,__class__:q.Line};q.LineInternals=function(){};j["thx.svg.LineInternals"]=q.LineInternals;q.LineInternals.__name__=["thx","svg","LineInternals"];q.LineInternals.linePoints=function(a,b,c){for(var e=[],f,g=0,i=a.length;g<i;){var j=g++;f=a[j];e.push([b(f,j),c(f,j)])}return e};q.LineInternals.interpolatePoints=function(a,b){if(null==b)b=q.LineInterpolator.Linear;
var c=[],e=0,f=a.length,g=a[0],i=b;switch(i[1]){case 0:for(c.push(g[0]+","+g[1]);++e<f;)g=a[e],c.push("L"+g[0]+","+g[1]);break;case 1:for(c.push(g[0]+","+g[1]);++e<f-1;)g=a[e],i=a[e+1],c.push("H"+(g[0]+i[0])/2+"V"+g[1]);g=a[e];c.push("H"+g[0]+"V"+g[1]);break;case 2:for(c.push(g[0]+","+g[1]);++e<f;)g=a[e],c.push("V"+g[1]+"H"+g[0]);break;case 3:for(c.push(g[0]+","+g[1]);++e<f;)g=a[e],c.push("H"+g[0]+"V"+g[1]);break;case 4:if(3>a.length)return q.LineInternals.interpolatePoints(a,q.LineInterpolator.Linear);
var e=1,g=a[1],j=g[0],l=g[1],i=[j,j,j,g[0]],k=[l,l,l,g[1]];c.push(j+","+l);for(q.LineInternals._lineBasisBezier(c,i,k);++e<f;)g=a[e],i.shift(),i.push(g[0]),k.shift(),k.push(g[1]),q.LineInternals._lineBasisBezier(c,i,k);for(e=-1;2>++e;)i.shift(),i.push(g[0]),k.shift(),k.push(g[1]),q.LineInternals._lineBasisBezier(c,i,k);break;case 5:if(4>a.length)return q.LineInternals.interpolatePoints(a,q.LineInterpolator.Linear);e=-1;i=[0];for(k=[0];3>++e;)g=a[e],i.push(g[0]),k.push(g[1]);c.push(q.LineInternals._lineDot4(q.LineInternals._lineBasisBezier3,
i)+","+q.LineInternals._lineDot4(q.LineInternals._lineBasisBezier3,k));for(--e;++e<f;)g=a[e],i.shift(),i.push(g[0]),k.shift(),k.push(g[1]),q.LineInternals._lineBasisBezier(c,i,k);break;case 6:e=-1;j=f+4;i=[];for(k=[];4>++e;)g=a[e%f],i.push(g[0]),k.push(g[1]);c.push(q.LineInternals._lineDot4(q.LineInternals._lineBasisBezier3,i)+","+q.LineInternals._lineDot4(q.LineInternals._lineBasisBezier3,k));for(--e;++e<j;)g=a[e%f],i.shift(),i.push(g[0]),k.shift(),k.push(g[1]),q.LineInternals._lineBasisBezier(c,
i,k);break;case 7:return c=i[2],null==c&&(c=0.7),3>a.length?q.LineInternals.interpolatePoints(a,q.LineInterpolator.Linear):a[0][0]+","+a[0][1]+q.LineInternals._lineHermite(a,q.LineInternals._lineCardinalTangents(a,c));case 8:return c=i[2],4>a.length?q.LineInternals.interpolatePoints(a,q.LineInterpolator.Linear):a[1][0]+","+a[1][1]+n.string(q.LineInternals._lineCardinalTangents(a,c));case 9:return c=i[2],null==c&&(c=0.7),3>a.length?q.LineInternals.interpolatePoints(a,q.LineInterpolator.Linear):a[0][0]+
","+a[0][1]+q.LineInternals._lineHermite(a,q.LineInternals._lineCardinalTangents([a[a.length-2]].concat(a).concat([a[1]]),c));case 10:return 3>a.length?q.LineInternals.interpolatePoints(a,q.LineInterpolator.Linear):a[0][0]+","+a[0][1]+q.LineInternals._lineHermite(a,q.LineInternals._lineMonotoneTangents(a))}return c.join("")};q.LineInternals._lineDot4=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]};q.LineInternals._lineBasisBezier=function(a,b,c){a.push("C"+q.LineInternals._lineDot4(q.LineInternals._lineBasisBezier1,
b)+","+q.LineInternals._lineDot4(q.LineInternals._lineBasisBezier1,c)+","+q.LineInternals._lineDot4(q.LineInternals._lineBasisBezier2,b)+","+q.LineInternals._lineDot4(q.LineInternals._lineBasisBezier2,c)+","+q.LineInternals._lineDot4(q.LineInternals._lineBasisBezier3,b)+","+q.LineInternals._lineDot4(q.LineInternals._lineBasisBezier3,c))};q.LineInternals._lineSlope=function(a,b){return(b[1]-a[1])/(b[0]-a[0])};q.LineInternals._lineFiniteDifferences=function(a){for(var b=0,c=a.length-1,e=[],f=a[1],g=
e[0]=q.LineInternals._lineSlope(a[0],f);++b<c;)e[b]=g+(g=q.LineInternals._lineSlope(f,f=a[b+1]));e[b]=g;return e};q.LineInternals._lineMonotoneTangents=function(a){for(var b=[],c,e,f,g,i=q.LineInternals._lineFiniteDifferences(a),j=-1,l=a.length-1;++j<l;)c=q.LineInternals._lineSlope(a[j],a[j+1]),1.0E-6>Math.abs(c)?i[j]=i[j+1]=0:(e=i[j]/c,f=i[j+1]/c,g=e*e+f*f,9<g&&(g=3*c/Math.sqrt(g),i[j]=g*e,i[j+1]=g*f));for(j=-1;++j<=l;)g=(a[O.min(l,j+1)][0]-a[O.max(0,j-1)][0])/(6*(1+i[j]*i[j])),b.push([Math.isFinite(g)?
g:0,Math.isFinite(g*=i[j])?g:0]);return b};q.LineInternals._lineHermite=function(a,b){if(1>b.length||a.length!=b.length&&a.length!=b.length+2)return q.LineInternals.interpolatePoints(a,q.LineInterpolator.Linear);var c=a.length!=b.length,e="",f=a[0],g=a[1],i=b[0],j=i,l=1;c&&(e+="Q"+(g[0]-2*i[0]/3)+","+(g[1]-2*i[1]/3)+","+g[0]+","+g[1],f=a[1],l=2);if(1<b.length){j=b[1];g=a[l];l++;e+="C"+(f[0]+i[0])+","+(f[1]+i[1])+","+(g[0]-j[0])+","+(g[1]-j[1])+","+g[0]+","+g[1];f=2;for(i=b.length;f<i;)j=f++,g=a[l],
j=b[j],e+="S"+(g[0]-j[0])+","+(g[1]-j[1])+","+g[0]+","+g[1],l++}c&&(c=a[l],e+="Q"+(g[0]+2*j[0]/3)+","+(g[1]+2*j[1]/3)+","+c[0]+","+c[1]);return e};q.LineInternals._lineCardinalTangents=function(a,b){for(var c=[],e=(1-b)/2,f=a[0],g=a[1],i=a[2],j=2,l=a.length;++j<l;)c.push([e*(i[0]-f[0]),e*(i[1]-f[1])]),f=g,g=i,i=a[j];c.push([e*(i[0]-f[0]),e*(i[1]-f[1])]);return c};q.LineInterpolator={__ename__:["thx","svg","LineInterpolator"],__constructs__:"Linear,Step,StepBefore,StepAfter,Basis,BasisOpen,BasisClosed,Cardinal,CardinalOpen,CardinalClosed,Monotone".split(",")};
q.LineInterpolator.Linear=["Linear",0];q.LineInterpolator.Linear.toString=v;q.LineInterpolator.Linear.__enum__=q.LineInterpolator;q.LineInterpolator.Step=["Step",1];q.LineInterpolator.Step.toString=v;q.LineInterpolator.Step.__enum__=q.LineInterpolator;q.LineInterpolator.StepBefore=["StepBefore",2];q.LineInterpolator.StepBefore.toString=v;q.LineInterpolator.StepBefore.__enum__=q.LineInterpolator;q.LineInterpolator.StepAfter=["StepAfter",3];q.LineInterpolator.StepAfter.toString=v;q.LineInterpolator.StepAfter.__enum__=
q.LineInterpolator;q.LineInterpolator.Basis=["Basis",4];q.LineInterpolator.Basis.toString=v;q.LineInterpolator.Basis.__enum__=q.LineInterpolator;q.LineInterpolator.BasisOpen=["BasisOpen",5];q.LineInterpolator.BasisOpen.toString=v;q.LineInterpolator.BasisOpen.__enum__=q.LineInterpolator;q.LineInterpolator.BasisClosed=["BasisClosed",6];q.LineInterpolator.BasisClosed.toString=v;q.LineInterpolator.BasisClosed.__enum__=q.LineInterpolator;q.LineInterpolator.Cardinal=function(a){a=["Cardinal",7,a];a.__enum__=
q.LineInterpolator;a.toString=v;return a};q.LineInterpolator.CardinalOpen=function(a){a=["CardinalOpen",8,a];a.__enum__=q.LineInterpolator;a.toString=v;return a};q.LineInterpolator.CardinalClosed=function(a){a=["CardinalClosed",9,a];a.__enum__=q.LineInterpolator;a.toString=v;return a};q.LineInterpolator.Monotone=["Monotone",10];q.LineInterpolator.Monotone.toString=v;q.LineInterpolator.Monotone.__enum__=q.LineInterpolator;q.LineInterpolators=function(){};j["thx.svg.LineInterpolators"]=q.LineInterpolators;
q.LineInterpolators.__name__=["thx","svg","LineInterpolators"];q.LineInterpolators.parse=function(a,b){null==b&&(b=":");var c;switch(a.split(b)[0].toLowerCase()){case "basis":c=q.LineInterpolator.Basis;break;case "basisopen":c=q.LineInterpolator.BasisOpen;break;case "basisclosed":c=q.LineInterpolator.BasisClosed;break;case "cardinal":c=q.LineInterpolator.Cardinal(q.LineInterpolators.argument(a,b));break;case "cardinalopen":c=q.LineInterpolator.CardinalOpen(q.LineInterpolators.argument(a,b));break;
case "cardinalclosed":c=q.LineInterpolator.CardinalClosed(q.LineInterpolators.argument(a,b));break;case "monotone":c=q.LineInterpolator.Monotone;break;case "step":c=q.LineInterpolator.Step;break;case "stepafter":c=q.LineInterpolator.StepAfter;break;case "stepbefore":c=q.LineInterpolator.StepBefore;break;default:c=q.LineInterpolator.Linear}return c};q.LineInterpolators.argument=function(a,b){var c=a.split(b)[1];return null==c?null:n.parseFloat(c)};q.PathGeoJson=function(){this.set_pointRadius(4.5);
this.set_projection(new ca.AlbersUsa);this.pathTypes=new q.PathTypes(this);this.centroidTypes=new q.CentroidTypes(this);this.areaTypes=new q.AreaTypes(this)};j["thx.svg.PathGeoJson"]=q.PathGeoJson;q.PathGeoJson.__name__=["thx","svg","PathGeoJson"];q.PathGeoJson.circle=function(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"};q.PathGeoJson.bounds=function(a){var b=Math.POSITIVE_INFINITY,c=Math.POSITIVE_INFINITY,e=Math.NEGATIVE_INFINITY,f=Math.NEGATIVE_INFINITY;q.PathGeoJson.applyBounds(a,
function(a,g){a<b&&(b=a);a>e&&(e=a);g<c&&(c=g);g>f&&(f=g)});return[[b,c],[e,f]]};q.PathGeoJson.applyBounds=function(a,b){switch(a.type){case "Feature":q.PathGeoJson.applyBounds(a.geometry,b);break;case "FeatureCollection":for(var c=0,e=a.features;c<e.length;){var f=e[c];++c;q.PathGeoJson.applyBounds(f.geometry,b)}break;case "LineString":f=a.coordinates;for(c=0;c<f.length;){var g=f[c];++c;b(g[0],g[1])}break;case "MultiPoint":f=a.coordinates;for(c=0;c<f.length;)g=f[c],++c,b(g[0],g[1]);break;case "MultiLineString":f=
a.coordinates;for(c=0;c<f.length;){g=f[c];++c;for(e=0;e<g.length;){var i=g[e];++e;b(i[0],i[1])}}break;case "MultiPolygon":f=a.coordinates;for(c=0;c<f.length;){g=f[c];++c;e=0;for(g=g[0];e<g.length;)i=g[e],++e,b(i[0],i[1])}break;case "Point":f=a.coordinates;b(f[0],f[1]);break;case "Polygon":f=a.coordinates;c=0;for(e=f[0];c<e.length;)g=e[c],++c,b(g[0],g[1]);break;default:throw new J.Error("invalid geomtry type '{0}'",null,a.type,{fileName:"PathGeoJson.hx",lineNumber:113,className:"thx.svg.PathGeoJson",
methodName:"applyBounds"});}};q.PathGeoJson.prototype={set_projection:function(a){return this.projection=a},set_pointRadius:function(a){this.pointRadius=a;this.pathCircle=q.PathGeoJson.circle(a);return a},area:function(a){return this.areaTypes.area(a)},centroid:function(a){return this.centroidTypes.centroid(a)},path:function(a){return this.pathTypes.path(a)},areaTypes:null,centroidTypes:null,pathTypes:null,pathCircle:null,projection:null,pointRadius:null,__class__:q.PathGeoJson,__properties__:{set_pointRadius:"set_pointRadius",
set_projection:"set_projection"}};q.PathTypes=function(a){this.geo=a};j["thx.svg.PathTypes"]=q.PathTypes;q.PathTypes.__name__=["thx","svg","PathTypes"];q.PathTypes.prototype={project:function(a){return this.geo.projection.project(a).join(",")},geometryCollection:function(a){for(var b=[],c=0,a=a.geometries;c<a.length;){var e=a[c];++c;b.push(this.path(e))}return b.join("")},multiPolygon:function(a){for(var b=[],a=a.coordinates,c=0;c<a.length;){var e=a[c];++c;for(var f=0;f<e.length;){var g=e[f];++f;
b.push("M");for(var i=0;i<g.length;){var j=g[i];++i;b.push(this.project(j));b.push("L")}b[b.length-1]="Z"}}return b.join("")},polygon:function(a){for(var b=[],a=a.coordinates,c=0;c<a.length;){var e=a[c];++c;b.push("M");for(var f=0,g=e.length;f<g;){var i=f++;b.push(this.project(e[i]));b.push("L")}b[b.length-1]="Z"}return b.join("")},multiLineString:function(a){for(var b=[],a=a.coordinates,c=0;c<a.length;){var e=a[c];++c;b.push("M");for(var f=0,g=e.length;f<g;){var i=f++;b.push(this.project(e[i]));
b.push("L")}b.pop()}return b.join("")},lineString:function(a){for(var b=[],a=a.coordinates,c=0,e=a.length;c<e;){var f=c++;b.push(this.project(a[f]))}return"M"+b.join("L")},multiPoint:function(a){for(var b=[],a=a.coordinates,c=0,e=a.length;c<e;){var f=c++;b.push("M"+this.project(a[f])+this.geo.pathCircle)}return b.join("")},point:function(a){return"M"+this.project(a.coordinates)+this.geo.pathCircle},feature:function(a){return this.path(a.geometry)},featureCollection:function(a){for(var b=[],a=a.features,
c=0,e=a.length;c<e;){var f=c++;b.push(this.path(a[f].geometry))}return b.join("")},path:function(a){var b=l.field(this,E.lcfirst(a.type));return null==b?"":b.apply(this,[a])},geo:null,__class__:q.PathTypes};q.AreaTypes=function(a){this.geo=a};j["thx.svg.AreaTypes"]=q.AreaTypes;q.AreaTypes.__name__=["thx","svg","AreaTypes"];q.AreaTypes.prototype={project:function(a){return this.geo.projection.project(a)},parea:function(a){return Math.abs((new T.Polygon(a.map(y(this,this.project)))).area())},polygonArea:function(a){for(var b=
this.parea(a[0]),c=1,e=a.length;c<e;)var f=c++,b=b-this.parea(a[f]);return b},geometryCollection:function(a){for(var b=0,c=0,a=a.geometries;c<a.length;){var e=a[c];++c;b+=this.area(e)}return b},multiPolygon:function(a){for(var b=0,a=a.coordinates,c=0;c<a.length;){var e=a[c];++c;b+=this.polygonArea(e)}return b},polygon:function(a){return this.polygonArea(a.coordinates)},multiLineString:function(){return 0},lineString:function(){return 0},multiPoint:function(){return 0},point:function(){return 0},feature:function(a){return this.area(a.geometry)},
featureCollection:function(a){for(var b=0,c=0,a=a.features;c<a.length;){var e=a[c];++c;b+=this.area(e.geometry)}return b},area:function(a){var b=l.field(this,E.lcfirst(a.type));return null==b?0:b.apply(this,[a])},geo:null,__class__:q.AreaTypes};q.CentroidTypes=function(a){this.geo=a};j["thx.svg.CentroidTypes"]=q.CentroidTypes;q.CentroidTypes.__name__=["thx","svg","CentroidTypes"];q.CentroidTypes.prototype={project:function(a){return this.geo.projection.project(a)},polygonCentroid:function(a){for(var b=
new T.Polygon(a[0].map(y(this,this.project))),c=b.centroid(1),e=c[0],f=c[1],g=Math.abs(b.area()),i=1,j=a.length;i<j;)b=i++,b=new T.Polygon(a[b].map(y(this,this.project))),c=b.centroid(1),e-=c[0],f-=c[1],g-=Math.abs(b.area());return[e,f,6*g]},multiPolygon:function(a){for(var b=0,c=0,e=0,f,a=a.coordinates,g=0;g<a.length;)f=a[g],++g,f=this.polygonCentroid(f),b+=f[0],c+=f[1],e+=f[2];return[b/e,c/e]},polygon:function(a){a=this.polygonCentroid(a.coordinates);return[a[0]/a[2],a[1]/a[2]]},feature:function(a){return this.centroid(a.geometry)},
point:function(a){return this.project(a.coordinates)},centroid:function(a){var b=l.field(this,E.lcfirst(a.type));return null==b?[0,0]:b.apply(this,[a])},geo:null,__class__:q.CentroidTypes};q.Symbol=function(){};j["thx.svg.Symbol"]=q.Symbol;q.Symbol.__name__=["thx","svg","Symbol"];q.Symbol.triangleDown=function(a){var a=Math.sqrt(a/q.Symbol.sqrt3),b=a*q.Symbol.sqrt3/2;return"M0,"+b+"L"+a+","+-b+" "+-a+","+-b+"Z"};q.Symbol.triangleUp=function(a){var a=Math.sqrt(a/q.Symbol.sqrt3),b=a*q.Symbol.sqrt3/
2;return"M0,"+-b+"L"+a+","+b+" "+-a+","+b+"Z"};q.Symbol.square=function(a){a=Math.sqrt(a)/2;return"M"+-a+","+-a+"L"+a+","+-a+" "+a+","+a+" "+-a+","+a+"Z"};q.Symbol.diamond=function(a){var a=Math.sqrt(a/(2*q.Symbol.tan30)),b=a*q.Symbol.tan30;return"M0,"+-a+"L"+b+",0 0,"+a+" "+-b+",0Z"};q.Symbol.cross=function(a){a=Math.sqrt(a/5)/2;return"M"+-3*a+","+-a+"H"+-a+"V"+-3*a+"H"+a+"V"+-a+"H"+3*a+"V"+a+"H"+a+"V"+3*a+"H"+-a+"V"+a+"H"+-3*a+"Z"};q.Symbol.circle=function(a){a=Math.sqrt(a/Math.PI);return"M0,"+
a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z"};q.Symbol.arrowUp=function(a){a=Math.sqrt(a/2);return"M"+-a+",0h"+a/2+"v"+a+"h"+a+"v"+-a+"h"+a/2+"l"+-a+","+-a+"Z"};q.Symbol.arrowDown=function(a){a=Math.sqrt(a/2);return"M"+-a+",0h"+a/2+"v"+-a+"h"+a+"v"+a+"h"+a/2+"l"+-a+","+a+"Z"};q.Symbol.arrowDownWide=function(a){a=Math.sqrt(a/2.5);return"M"+-a+",0h"+a/4+"v"+-a+"h"+1.5*a+"v"+a+"h"+a/4+"l"+-a+","+a+"Z"};q.Symbol.arrowRight=function(a){a=Math.sqrt(a/2);return"M0,"+-a+"v"+a/2+"h"+-a+"v"+a+
"h"+a+"v"+a/2+"l"+a+","+-a+"Z"};q.Symbol.arrowLeft=function(a){a=Math.sqrt(a/2);return"M0,"+-a+"v"+a/2+"h"+a+"v"+a+"h"+-a+"v"+a/2+"l"+-a+","+-a+"Z"};q.Symbol.star=function(a){a=Math.sqrt(a/0.31027)/2;return"M0,"+-a+"L"+0.236*a+","+-0.325*a+" "+0.951*a+","+-0.309*a+" "+0.382*a+","+0.124*a+" "+0.588*a+","+0.809*a+" "+0*a+","+0.401*a+" "+-0.588*a+","+0.809*a+" "+-0.382*a+","+0.124*a+" "+-0.951*a+","+-0.309*a+" "+-0.236*a+","+-0.325*a+" Z"};tb={ERegs:function(){}};j["thx.text.ERegs"]=tb.ERegs;tb.ERegs.__name__=
["thx","text","ERegs"];tb.ERegs.escapeERegChars=function(a){return tb.ERegs._escapePattern.customReplace(a,function(a){return"\\"+a.matched(0)})};oe={ITranslation:function(){}};j["thx.translation.ITranslation"]=oe.ITranslation;oe.ITranslation.__name__=["thx","translation","ITranslation"];oe.ITranslation.prototype={plural:null,singular:null,__class__:oe.ITranslation};Y.MacroVersion=function(){};j["thx.util.MacroVersion"]=Y.MacroVersion;Y.MacroVersion.__name__=["thx","util","MacroVersion"];Y.Result=
{__ename__:["thx","util","Result"],__constructs__:["Ok","Failure"]};Y.Result.Ok=["Ok",0];Y.Result.Ok.toString=v;Y.Result.Ok.__enum__=Y.Result;Y.Result.Failure=function(a){a=["Failure",1,a];a.__enum__=Y.Result;a.toString=v;return a};pe={IValidator:function(){}};j["thx.validation.IValidator"]=pe.IValidator;pe.IValidator.__name__=["thx","validation","IValidator"];pe.IValidator.prototype={isValid:null,validate:null,__class__:pe.IValidator};var P;if(!("indexOf"in Array.prototype))Array.prototype.indexOf=
function(a,b){void 0===b&&(b=0);0>b&&(b+=this.length);0>b&&(b=0);for(var c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};if(!("lastIndexOf"in Array.prototype))Array.prototype.lastIndexOf=function(a,b){void 0===b&&(b=this.length-1);0>b&&(b+=this.length);b>this.length-1&&(b=this.length-1);for(b++;0<b--;)if(b in this&&this[b]===a)return b;return-1};if(!("forEach"in Array.prototype))Array.prototype.forEach=function(a,b){for(var c=0,e=this.length;c<e;c++)c in this&&a.call(b,this[c],
c,this)};if(!("map"in Array.prototype))Array.prototype.map=function(a,b){for(var c=Array(this.length),e=0,f=this.length;e<f;e++)e in this&&(c[e]=a.call(b,this[e],e,this));return c};if(!("filter"in Array.prototype))Array.prototype.filter=function(a,b){for(var c=[],e,f=0,g=this.length;f<g;f++)f in this&&a.call(b,e=this[f],f,this)&&c.push(e);return c};if(!("every"in Array.prototype))Array.prototype.every=function(a,b){for(var c=0,e=this.length;c<e;c++)if(c in this&&!a.call(b,this[c],c,this))return!1;
return!0};var Me=new Ga;na.EMPTY=Me.getBytes();if(Array.prototype.indexOf)u.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;a.splice(c,1);return!0};Math.__name__=["Math"];Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;j.Math=Math;Math.isFinite=function(a){return isFinite(a)};Math.isNaN=function(a){return isNaN(a)};String.prototype.__class__=j.String=String;String.__name__=["String"];Array.prototype.__class__=j.Array=Array;
Array.__name__=["Array"];Date.prototype.__class__=j.Date=Date;Date.__name__=["Date"];var Hd=j.Int={__name__:["Int"]},Je=j.Dynamic={__name__:["Dynamic"]},Fc=j.Float=Number;Fc.__name__=["Float"];var Ce=Boolean;Ce.__ename__=["Bool"];var Ke=j.Class={__name__:["Class"]},Le={},uc=Ja.userAgent(),Ge=Ja.hasNavigator(),lc;Ja.host=!Ge?Ia.UnknownServer:"undefined"!==typeof module&&module.exports?Ia.NodeJs:(lc=new R("MSIE(?:/| )(\\S*);","")).match(uc)?Ia.IE(lc.matched(1)):(lc=new R("Firefox(?:/| )(\\S*)","")).match(uc)?
Ia.Firefox(lc.matched(1)):(lc=new R("Chrome(?:/| )(\\S*)","")).match(uc)?Ia.Chrome(lc.matched(1)):(lc=new R("Version(?:/| )(\\S*) Safari(?:/| )(\\S*)","")).match(uc)?Ia.Safari(lc.matched(1)):(lc=new R("Opera(?:/| )(\\S*)","")).match(uc)?Ia.Opera(lc.matched(1)):Ia.Unknown(uc);Ja.os=!Ge?Ea.UnknownOs:(lc=new R("Windows NT\\s+(\\d+\\.\\d+)","")).match(uc)?function(){var a;switch(lc.matched(1)){case "5.1":a="XP";break;case "5.2":a="2003/XP x64";break;case "6.0":a="Vista";break;case "6.1":a="7";break;case "6.2":a=
"8";break;default:a="unknown"}return Ea.Windows(a)}(this):(new R("Mac OS X","")).match(uc)?Ea.Mac:(new R("(iPhone|iPad|iPod)","")).match(uc)?Ea.IOs:(new R("Linux","")).match(uc)?Ea.Linux:(new R("Android","")).match(uc)?Ea.Android:Ea.UnknownOs;Ja.environment=function(a){return function(a){var c;switch(Ja.host[1]){case 0:c=Na.Server;break;case 1:c=Na.Server;break;case 2:c=Na.Desktop;break;case 6:c=Na.Desktop;break;case 3:c=Na.Desktop;break;case 4:c=function(){var a;switch(Ja.os[1]){case 1:a=Na.Mobile;
break;default:a=Na.Desktop}return a}(a);break;case 5:c=function(){var a;switch(Ja.os[1]){case 2:a=Na.Mobile;break;default:a=Na.Desktop}return a}(a);break;case 7:c=function(){var a;switch(Ja.os[1]){case 5:a=Na.UnknownEnvironment;break;default:a=Na.Desktop}return a}(a)}return c}(a)}(this);(function(){function a(a,b,c,e,f,g){for(var f=0,h=e.length;f<h;f++){var i=e[f];if(i){for(var j=!1,i=i[a];i;){if(i.sizcache===c){j=e[i.sizset];break}if(1===i.nodeType&&!g)i.sizcache=c,i.sizset=f;if(i.nodeName.toLowerCase()===
b){j=i;break}i=i[a]}e[f]=j}}}function b(a,b,c,e,f,g){for(var f=0,h=e.length;f<h;f++){var i=e[f];if(i){for(var j=!1,i=i[a];i;){if(i.sizcache===c){j=e[i.sizset];break}if(1===i.nodeType){if(!g)i.sizcache=c,i.sizset=f;if("string"!==typeof b){if(i===b){j=!0;break}}else if(0<k.filter(b,[i]).length){j=i;break}}i=i[a]}e[f]=j}}}var c=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,e=0,f=Object.prototype.toString,g=!1,i=!0,
j=/\\/g,l=/\W/;[0,0].sort(function(){i=!1;return 0});var k=function(a,b,e,g){var e=e||[],h=b=b||document;if(1!==b.nodeType&&9!==b.nodeType)return[];if(!a||"string"!==typeof a)return e;var i,j,l,m,p,q=!0,s=k.isXML(b),t=[],u=a;do if(c.exec(""),i=c.exec(u))if(u=i[3],t.push(i[1]),i[2]){m=i[3];break}while(i);if(1<t.length&&o.exec(a))if(2===t.length&&n.relative[t[0]])j=v(t[0]+t[1],b);else for(j=n.relative[t[0]]?[b]:k(t.shift(),b);t.length;)a=t.shift(),n.relative[a]&&(a+=t.shift()),j=v(a,j);else if(!g&&
1<t.length&&9===b.nodeType&&!s&&n.match.ID.test(t[0])&&!n.match.ID.test(t[t.length-1])&&(i=k.find(t.shift(),b,s),b=i.expr?k.filter(i.expr,i.set)[0]:i.set[0]),b){i=g?{expr:t.pop(),set:r(g)}:k.find(t.pop(),1===t.length&&("~"===t[0]||"+"===t[0])&&b.parentNode?b.parentNode:b,s);j=i.expr?k.filter(i.expr,i.set):i.set;for(0<t.length?l=r(j):q=!1;t.length;)i=p=t.pop(),n.relative[p]?i=t.pop():p="",null==i&&(i=b),n.relative[p](l,i,s)}else l=[];l||(l=j);l||k.error(p||a);if("[object Array]"===f.call(l))if(q)if(b&&
1===b.nodeType)for(a=0;null!=l[a];a++)l[a]&&(!0===l[a]||1===l[a].nodeType&&k.contains(b,l[a]))&&e.push(j[a]);else for(a=0;null!=l[a];a++)l[a]&&1===l[a].nodeType&&e.push(j[a]);else e.push.apply(e,l);else r(l,e);m&&(k(m,h,e,g),k.uniqueSort(e));return e};k.uniqueSort=function(a){if(t&&(g=i,a.sort(t),g))for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1);return a};k.matches=function(a,b){return k(a,null,null,b)};k.matchesSelector=function(a,b){return 0<k(b,null,null,[a]).length};k.find=function(a,
b,c){var e;if(!a)return[];for(var f=0,g=n.order.length;f<g;f++){var h,i=n.order[f];if(h=n.leftMatch[i].exec(a)){var k=h[1];h.splice(1,1);if("\\"!==k.substr(k.length-1)&&(h[1]=(h[1]||"").replace(j,""),e=n.find[i](h,b,c),null!=e)){a=a.replace(n.match[i],"");break}}}e||(e="undefined"!==typeof b.getElementsByTagName?b.getElementsByTagName("*"):[]);return{set:e,expr:a}};k.filter=function(a,b,c,e){for(var f,g,h=a,i=[],j=b,l=b&&b[0]&&k.isXML(b[0]);a&&b.length;){for(var m in n.filter)if(null!=(f=n.leftMatch[m].exec(a))&&
f[2]){var o,p,r=n.filter[m];p=f[1];g=!1;f.splice(1,1);if("\\"!==p.substr(p.length-1)){j===i&&(i=[]);if(n.preFilter[m])if(f=n.preFilter[m](f,j,c,i,e,l)){if(!0===f)continue}else g=o=!0;if(f)for(var q=0;null!=(p=j[q]);q++)if(p){o=r(p,f,q,j);var s=e^!!o;c&&null!=o?s?g=!0:j[q]=!1:s&&(i.push(p),g=!0)}if(void 0!==o){c||(j=i);a=a.replace(n.match[m],"");if(!g)return[];break}}}if(a===h)if(null==g)k.error(a);else break;h=a}return j};k.error=function(a){throw"Syntax error, unrecognized expression: "+a;};var n=
k.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,
PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c="string"===typeof b,e=c&&!l.test(b),c=c&&!e;e&&(b=b.toLowerCase());for(var e=0,f=a.length,g;e<f;e++)if(g=a[e]){for(;(g=g.previousSibling)&&1!==g.nodeType;);a[e]=c||g&&g.nodeName.toLowerCase()===b?g||!1:g===b}c&&k.filter(b,
a,!0)},">":function(a,b){var c,e="string"===typeof b,f=0,g=a.length;if(e&&!l.test(b))for(b=b.toLowerCase();f<g;f++){if(c=a[f])c=c.parentNode,a[f]=c.nodeName.toLowerCase()===b?c:!1}else{for(;f<g;f++)(c=a[f])&&(a[f]=e?c.parentNode:c.parentNode===b);e&&k.filter(b,a,!0)}},"":function(c,f,g){var h,i=e++,j=b;"string"===typeof f&&!l.test(f)&&(h=f=f.toLowerCase(),j=a);j("parentNode",f,i,c,h,g)},"~":function(c,f,g){var h,i=e++,j=b;"string"===typeof f&&!l.test(f)&&(h=f=f.toLowerCase(),j=a);j("previousSibling",
f,i,c,h,g)}},find:{ID:function(a,b,c){if("undefined"!==typeof b.getElementById&&!c)return(a=b.getElementById(a[1]))&&a.parentNode?[a]:[]},NAME:function(a,b){if("undefined"!==typeof b.getElementsByName){for(var c=[],e=b.getElementsByName(a[1]),f=0,g=e.length;f<g;f++)e[f].getAttribute("name")===a[1]&&c.push(e[f]);return 0===c.length?null:c}},TAG:function(a,b){if("undefined"!==typeof b.getElementsByTagName)return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,e,f,g){a=" "+a[1].replace(j,
"")+" ";if(g)return a;for(var g=0,h;null!=(h=b[g]);g++)h&&(f^(h.className&&0<=(" "+h.className+" ").replace(/[\t\n\r]/g," ").indexOf(a))?c||e.push(h):c&&(b[g]=!1));return!1},ID:function(a){return a[1].replace(j,"")},TAG:function(a){return a[1].replace(j,"").toLowerCase()},CHILD:function(a){if("nth"===a[1]){a[2]||k.error(a[0]);a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===a[2]&&"2n"||"odd"===a[2]&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0;
a[3]=b[3]-0}else a[2]&&k.error(a[0]);a[0]=e++;return a},ATTR:function(a,b,c,e,f,g){b=a[1]=a[1].replace(j,"");!g&&n.attrMap[b]&&(a[1]=n.attrMap[b]);a[4]=(a[4]||a[5]||"").replace(j,"");"~="===a[2]&&(a[4]=" "+a[4]+" ");return a},PSEUDO:function(a,b,e,f,g){if("not"===a[1])if(1<(c.exec(a[3])||"").length||/^\w/.test(a[3]))a[3]=k(a[3],null,null,b);else return a=k.filter(a[3],b,e,1^g),e||f.push.apply(f,a),!1;else if(n.match.POS.test(a[0])||n.match.CHILD.test(a[0]))return!0;return a},POS:function(a){a.unshift(!0);
return a}},filters:{enabled:function(a){return!1===a.disabled&&"hidden"!==a.type},disabled:function(a){return!0===a.disabled},checked:function(a){return!0===a.checked},selected:function(a){return!0===a.selected},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!k(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),a=a.type;return"text"===a&&(b===a||null===b)},radio:function(a){return"radio"===
a.type},checkbox:function(a){return"checkbox"===a.type},file:function(a){return"file"===a.type},password:function(a){return"password"===a.type},submit:function(a){return"submit"===a.type},image:function(a){return"image"===a.type},reset:function(a){return"reset"===a.type},button:function(a){return"button"===a.type||"button"===a.nodeName.toLowerCase()},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)}},setFilters:{first:function(a,b){return 0===b},last:function(a,b,c,e){return b===
e.length-1},even:function(a,b){return 0===b%2},odd:function(a,b){return 1===b%2},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,e){var f=b[1],g=n.filters[f];if(g)return g(a,c,b,e);if("contains"===f)return 0<=(a.textContent||a.innerText||k.getText([a])||"").indexOf(b[3]);if("not"===f){b=b[3];c=0;for(e=b.length;c<e;c++)if(b[c]===a)return!1;return!0}k.error(f)},CHILD:function(a,
b){var c=b[1],e=a;switch(c){case "only":case "first":for(;e=e.previousSibling;)if(1===e.nodeType)return!1;if("first"===c)return!0;e=a;case "last":for(;e=e.nextSibling;)if(1===e.nodeType)return!1;return!0;case "nth":var c=b[2],f=b[3];if(1===c&&0===f)return!0;var g=b[0],h=a.parentNode;if(h&&(h.sizcache!==g||!a.nodeIndex)){for(var i=0,e=h.firstChild;e;e=e.nextSibling)if(1===e.nodeType)e.nodeIndex=++i;h.sizcache=g}e=a.nodeIndex-f;return 0===c?0===e:0===e%c&&0<=e/c}},ID:function(a,b){return 1===a.nodeType&&
a.getAttribute("id")===b},TAG:function(a,b){return"*"===b&&1===a.nodeType||a.nodeName.toLowerCase()===b},CLASS:function(a,b){return-1<(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)},ATTR:function(a,b){var c=b[1],c=n.attrHandle[c]?n.attrHandle[c](a):null!=a[c]?a[c]:a.getAttribute(c),e=c+"",f=b[2],g=b[4];return null==c?"!="===f:"="===f?e===g:"*="===f?0<=e.indexOf(g):"~="===f?0<=(" "+e+" ").indexOf(g):!g?e&&!1!==c:"!="===f?e!==g:"^="===f?0===e.indexOf(g):"$="===f?e.substr(e.length-g.length)===
g:"|="===f?e===g||e.substr(0,g.length+1)===g+"-":!1},POS:function(a,b,c,e){var f=n.setFilters[b[2]];if(f)return f(a,c,b,e)}}},o=n.match.POS,p=function(a,b){return"\\"+(b-0+1)},q;for(q in n.match)n.match[q]=RegExp(n.match[q].source+/(?![^\[]*\])(?![^\(]*\))/.source),n.leftMatch[q]=RegExp(/(^(?:.|\r|\n)*?)/.source+n.match[q].source.replace(/\\(\d+)/g,p));var r=function(a,b){a=Array.prototype.slice.call(a,0);return b?(b.push.apply(b,a),b):a};try{Array.prototype.slice.call(document.documentElement.childNodes,
0)}catch(s){r=function(a,b){var c=0,e=b||[];if("[object Array]"===f.call(a))Array.prototype.push.apply(e,a);else if("number"===typeof a.length)for(var g=a.length;c<g;c++)e.push(a[c]);else for(;a[c];c++)e.push(a[c]);return e}}var t,u;document.documentElement.compareDocumentPosition?t=function(a,b){return a===b?(g=!0,0):!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1}:(t=function(a,b){var c,e,f=[],i=[];c=a.parentNode;e=b.parentNode;
var j=c;if(a===b)return g=!0,0;if(c===e)return u(a,b);if(c){if(!e)return 1}else return-1;for(;j;)f.unshift(j),j=j.parentNode;for(j=e;j;)i.unshift(j),j=j.parentNode;c=f.length;e=i.length;for(j=0;j<c&&j<e;j++)if(f[j]!==i[j])return u(f[j],i[j]);return j===c?u(a,i[j],-1):u(f[j],b,1)},u=function(a,b,c){if(a===b)return c;for(a=a.nextSibling;a;){if(a===b)return-1;a=a.nextSibling}return 1});k.getText=function(a){for(var b="",c,e=0;a[e];e++)c=a[e],3===c.nodeType||4===c.nodeType?b+=c.nodeValue:8!==c.nodeType&&
(b+=k.getText(c.childNodes));return b};(function(){var a=document.createElement("div"),b="script"+(new Date).getTime(),c=document.documentElement;a.innerHTML="<a name='"+b+"'/>";c.insertBefore(a,c.firstChild);if(document.getElementById(b))n.find.ID=function(a,b,c){if("undefined"!==typeof b.getElementById&&!c)return(b=b.getElementById(a[1]))?b.id===a[1]||"undefined"!==typeof b.getAttributeNode&&b.getAttributeNode("id").nodeValue===a[1]?[b]:void 0:[]},n.filter.ID=function(a,b){var c="undefined"!==typeof a.getAttributeNode&&
a.getAttributeNode("id");return 1===a.nodeType&&c&&c.nodeValue===b};c.removeChild(a);c=a=null})();(function(){var a=document.createElement("div");a.appendChild(document.createComment(""));if(0<a.getElementsByTagName("*").length)n.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if("*"===a[1]){for(var e=[],f=0;c[f];f++)1===c[f].nodeType&&e.push(c[f]);c=e}return c};a.innerHTML="<a href='#'></a>";if(a.firstChild&&"undefined"!==typeof a.firstChild.getAttribute&&"#"!==a.firstChild.getAttribute("href"))n.attrHandle.href=
function(a){return a.getAttribute("href",2)};a=null})();document.querySelectorAll&&function(){var a=k,b=document.createElement("div");b.innerHTML="<p class='TEST'></p>";if(!(b.querySelectorAll&&0===b.querySelectorAll(".TEST").length)){k=function(b,c,e,f){c=c||document;if(!f&&!k.isXML(c)){var g=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(g&&(1===c.nodeType||9===c.nodeType)){if(g[1])return r(c.getElementsByTagName(b),e);if(g[2]&&n.find.CLASS&&c.getElementsByClassName)return r(c.getElementsByClassName(g[2]),
e)}if(9===c.nodeType){if("body"===b&&c.body)return r([c.body],e);if(g&&g[3]){var h=c.getElementById(g[3]);if(h&&h.parentNode){if(h.id===g[3])return r([h],e)}else return r([],e)}try{return r(c.querySelectorAll(b),e)}catch(i){}}else if(1===c.nodeType&&"object"!==c.nodeName.toLowerCase()){var g=c,j=(h=c.getAttribute("id"))||"__sizzle__",l=c.parentNode,m=/^\s*[+~]/.test(b);h?j=j.replace(/'/g,"\\$&"):c.setAttribute("id",j);if(m&&l)c=c.parentNode;try{if(!m||l)return r(c.querySelectorAll("[id='"+j+"'] "+
b),e)}catch(o){}finally{h||g.removeAttribute("id")}}}return a(b,c,e,f)};for(var c in a)k[c]=a[c];b=null}}();(function(){var a=document.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var c=!b.call(document.createElement("div"),"div"),e=!1;try{b.call(document.documentElement,"[test!='']:sizzle")}catch(f){e=!0}k.matchesSelector=function(a,f){f=f.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!k.isXML(a))try{if(e||!n.match.PSEUDO.test(f)&&!/!=/.test(f)){var g=
b.call(a,f);if(g||!c||a.document&&11!==a.document.nodeType)return g}}catch(h){}return 0<k(f,null,null,[a]).length}}})();(function(){var a=document.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(a.getElementsByClassName&&0!==a.getElementsByClassName("e").length&&(a.lastChild.className="e",1!==a.getElementsByClassName("e").length))n.order.splice(1,0,"CLASS"),n.find.CLASS=function(a,b,c){if("undefined"!==typeof b.getElementsByClassName&&!c)return b.getElementsByClassName(a[1])},
a=null})();k.contains=document.documentElement.contains?function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:document.documentElement.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)&16)}:function(){return!1};k.isXML=function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?"HTML"!==a.nodeName:!1};var v=function(a,b){for(var c,e=[],f="",g=b.nodeType?[b]:b;c=n.match.PSEUDO.exec(a);)f+=c[0],a=a.replace(n.match.PSEUDO,"");a=n.relative[a]?a+"*":a;c=0;for(var h=g.length;c<
h;c++)k(a,g[c],e);return k.filter(f,e)};window.Sizzle=k})();var He=kc.getSizzle();Be=He;Be.select=He;window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){setTimeout(a,1E3/60)};var Ee,Ie=window.navigator.appName;Ee="Microsoft Internet Explorer"==Ie?30:"Netscape"!=Ie?26:28;switch(Ee){case 30:r.defaultAm=2;break;case 28:r.defaultAm=3;break;case 26:r.defaultAm=
1;break;default:throw"bad dbits value";}r.DB=Ee;r.DM=(1<<r.DB)-1;r.DV=1<<r.DB;r.BI_FP=52;r.FV=Math.pow(2,r.BI_FP);r.F1=r.BI_FP-r.DB;r.F2=2*r.DB-r.BI_FP;r.initBiRc();r.BI_RM="0123456789abcdefghijklmnopqrstuvwxyz";r.lowprimes=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,
397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509];r.lplim=67108864/r.lowprimes[r.lowprimes.length-1]|0;var Nd=window.ReportGrid?window.ReportGrid:window.ReportGrid={};Nd.$=Nd.$||{};Nd.$.pk=Nd.$.pk||{};Nd.$.pk.rg_query_BaseQuery=Nd.$.pk.rg_query_BaseQuery||db;Nd.$.pk.rg_query_Query=Nd.$.pk.rg_query_Query||Jb;V.SymbolCache.cache=new V.SymbolCache;xa.layoutDefault=new ea;xa.layoutType=new ea;xa.layoutArgs=new ea;xa.layoutDefault.set("barchart","cartesian");xa.layoutDefault.set("funnelchart",
"simple");xa.layoutDefault.set("geo","simple");xa.layoutDefault.set("heatgrid","cartesian");xa.layoutDefault.set("linechart","cartesian");xa.layoutDefault.set("piechart","simple");xa.layoutDefault.set("sankey","simple");xa.layoutDefault.set("scattergraph","cartesian");xa.layoutDefault.set("streamgraph","x");xa.layoutType.set("cartesian",fb);xa.layoutType.set("simple",ad);xa.layoutType.set("x",$b);g.NamedColors.byName=new ea;g.NamedColors.byName.set("aliceblue",g.NamedColors.aliceblue=g.Rgb.fromInt(15792383));
g.NamedColors.byName.set("alice blue",g.NamedColors.aliceblue);g.NamedColors.byName.set("antiquewhite",g.NamedColors.antiquewhite=g.Rgb.fromInt(16444375));g.NamedColors.byName.set("antique white",g.NamedColors.antiquewhite);g.NamedColors.byName.set("aqua",g.NamedColors.aqua=g.Rgb.fromInt(65535));g.NamedColors.byName.set("aquamarine",g.NamedColors.aquamarine=g.Rgb.fromInt(8388564));g.NamedColors.byName.set("azure",g.NamedColors.azure=g.Rgb.fromInt(15794175));g.NamedColors.byName.set("beige",g.NamedColors.beige=
g.Rgb.fromInt(16119260));g.NamedColors.byName.set("bisque",g.NamedColors.bisque=g.Rgb.fromInt(16770244));g.NamedColors.byName.set("black",g.NamedColors.black=g.Rgb.fromInt(0));g.NamedColors.byName.set("blanchedalmond",g.NamedColors.blanchedalmond=g.Rgb.fromInt(16772045));g.NamedColors.byName.set("blanched almond",g.NamedColors.blanchedalmond);g.NamedColors.byName.set("blue",g.NamedColors.blue=g.Rgb.fromInt(255));g.NamedColors.byName.set("blueviolet",g.NamedColors.blueviolet=g.Rgb.fromInt(9055202));
g.NamedColors.byName.set("blue violet",g.NamedColors.blueviolet);g.NamedColors.byName.set("brown",g.NamedColors.brown=g.Rgb.fromInt(10824234));g.NamedColors.byName.set("burlywood",g.NamedColors.burlywood=g.Rgb.fromInt(14596231));g.NamedColors.byName.set("burly wood",g.NamedColors.burlywood);g.NamedColors.byName.set("cadetblue",g.NamedColors.cadetblue=g.Rgb.fromInt(6266528));g.NamedColors.byName.set("cadet blue",g.NamedColors.cadetblue);g.NamedColors.byName.set("chartreuse",g.NamedColors.chartreuse=
g.Rgb.fromInt(8388352));g.NamedColors.byName.set("chart reuse",g.NamedColors.chartreuse);g.NamedColors.byName.set("chocolate",g.NamedColors.chocolate=g.Rgb.fromInt(13789470));g.NamedColors.byName.set("coral",g.NamedColors.coral=g.Rgb.fromInt(16744272));g.NamedColors.byName.set("cornflowerblue",g.NamedColors.cornflowerblue=g.Rgb.fromInt(6591981));g.NamedColors.byName.set("corn flower blue",g.NamedColors.cornflowerblue);g.NamedColors.byName.set("cornsilk",g.NamedColors.cornsilk=g.Rgb.fromInt(16775388));
g.NamedColors.byName.set("corn silk",g.NamedColors.cornsilk);g.NamedColors.byName.set("crimson",g.NamedColors.crimson=g.Rgb.fromInt(14423100));g.NamedColors.byName.set("cyan",g.NamedColors.cyan=g.Rgb.fromInt(65535));g.NamedColors.byName.set("darkblue",g.NamedColors.darkblue=g.Rgb.fromInt(139));g.NamedColors.byName.set("dark blue",g.NamedColors.darkblue);g.NamedColors.byName.set("darkcyan",g.NamedColors.darkcyan=g.Rgb.fromInt(35723));g.NamedColors.byName.set("dark cyan",g.NamedColors.darkcyan);g.NamedColors.byName.set("darkgoldenrod",
g.NamedColors.darkgoldenrod=g.Rgb.fromInt(12092939));g.NamedColors.byName.set("dark golden rod",g.NamedColors.darkgoldenrod);g.NamedColors.byName.set("darkgray",g.NamedColors.darkgray=g.NamedColors.darkgrey=g.Rgb.fromInt(11119017));g.NamedColors.byName.set("dark gray",g.NamedColors.darkgray);g.NamedColors.byName.set("darkgrey",g.NamedColors.darkgrey);g.NamedColors.byName.set("dark grey",g.NamedColors.darkgrey);g.NamedColors.byName.set("darkgreen",g.NamedColors.darkgreen=g.Rgb.fromInt(25600));g.NamedColors.byName.set("dark green",
g.NamedColors.darkgreen);g.NamedColors.byName.set("darkkhaki",g.NamedColors.darkkhaki=g.Rgb.fromInt(12433259));g.NamedColors.byName.set("dark khaki",g.NamedColors.darkkhaki);g.NamedColors.byName.set("darkmagenta",g.NamedColors.darkmagenta=g.Rgb.fromInt(9109643));g.NamedColors.byName.set("dark magenta",g.NamedColors.darkmagenta);g.NamedColors.byName.set("darkolivegreen",g.NamedColors.darkolivegreen=g.Rgb.fromInt(5597999));g.NamedColors.byName.set("dark olive green",g.NamedColors.darkolivegreen);g.NamedColors.byName.set("darkorange",
g.NamedColors.darkorange=g.Rgb.fromInt(16747520));g.NamedColors.byName.set("dark orange",g.NamedColors.darkorange);g.NamedColors.byName.set("darkorchid",g.NamedColors.darkorchid=g.Rgb.fromInt(10040012));g.NamedColors.byName.set("dark orchid",g.NamedColors.darkorchid);g.NamedColors.byName.set("darkred",g.NamedColors.darkred=g.Rgb.fromInt(9109504));g.NamedColors.byName.set("dark red",g.NamedColors.darkred);g.NamedColors.byName.set("darksalmon",g.NamedColors.darksalmon=g.Rgb.fromInt(15308410));g.NamedColors.byName.set("dark salmon",
g.NamedColors.darksalmon);g.NamedColors.byName.set("darkseagreen",g.NamedColors.darkseagreen=g.Rgb.fromInt(9419919));g.NamedColors.byName.set("dark sea green",g.NamedColors.darkseagreen);g.NamedColors.byName.set("darkslateblue",g.NamedColors.darkslateblue=g.Rgb.fromInt(4734347));g.NamedColors.byName.set("dark slate blue",g.NamedColors.darkslateblue);g.NamedColors.byName.set("darkslategray",g.NamedColors.darkslategray=g.NamedColors.darkslategrey=g.Rgb.fromInt(3100495));g.NamedColors.byName.set("dark slate gray",
g.NamedColors.darkslategray);g.NamedColors.byName.set("darkslategrey",g.NamedColors.darkslategrey);g.NamedColors.byName.set("dark slate grey",g.NamedColors.darkslategrey);g.NamedColors.byName.set("darkturquoise",g.NamedColors.darkturquoise=g.Rgb.fromInt(52945));g.NamedColors.byName.set("dark turquoise",g.NamedColors.darkturquoise);g.NamedColors.byName.set("darkviolet",g.NamedColors.darkviolet=g.Rgb.fromInt(9699539));g.NamedColors.byName.set("dark violet",g.NamedColors.darkviolet);g.NamedColors.byName.set("deeppink",
g.NamedColors.deeppink=g.Rgb.fromInt(16716947));g.NamedColors.byName.set("deep pink",g.NamedColors.deeppink);g.NamedColors.byName.set("deepskyblue",g.NamedColors.deepskyblue=g.Rgb.fromInt(49151));g.NamedColors.byName.set("deep sky blue",g.NamedColors.deepskyblue);g.NamedColors.byName.set("dimgray",g.NamedColors.dimgray=g.NamedColors.dimgrey=g.Rgb.fromInt(6908265));g.NamedColors.byName.set("dim grey",g.NamedColors.dimgrey);g.NamedColors.byName.set("dimgrey",g.NamedColors.dimgrey);g.NamedColors.byName.set("dim grey",
g.NamedColors.dimgrey);g.NamedColors.byName.set("dodgerblue",g.NamedColors.dodgerblue=g.Rgb.fromInt(2003199));g.NamedColors.byName.set("dodger blue",g.NamedColors.dodgerblue);g.NamedColors.byName.set("firebrick",g.NamedColors.firebrick=g.Rgb.fromInt(11674146));g.NamedColors.byName.set("fire brick",g.NamedColors.firebrick);g.NamedColors.byName.set("floralwhite",g.NamedColors.floralwhite=g.Rgb.fromInt(16775920));g.NamedColors.byName.set("floral white",g.NamedColors.floralwhite);g.NamedColors.byName.set("forestgreen",
g.NamedColors.forestgreen=g.Rgb.fromInt(2263842));g.NamedColors.byName.set("forest green",g.NamedColors.forestgreen);g.NamedColors.byName.set("fuchsia",g.NamedColors.fuchsia=g.Rgb.fromInt(16711935));g.NamedColors.byName.set("gainsboro",g.NamedColors.gainsboro=g.Rgb.fromInt(14474460));g.NamedColors.byName.set("ghostwhite",g.NamedColors.ghostwhite=g.Rgb.fromInt(16316671));g.NamedColors.byName.set("ghost white",g.NamedColors.ghostwhite);g.NamedColors.byName.set("gold",g.NamedColors.gold=g.Rgb.fromInt(16766720));
g.NamedColors.byName.set("goldenrod",g.NamedColors.goldenrod=g.Rgb.fromInt(14329120));g.NamedColors.byName.set("golden rod",g.NamedColors.goldenrod);g.NamedColors.byName.set("gray",g.NamedColors.gray=g.NamedColors.grey=g.Rgb.fromInt(8421504));g.NamedColors.byName.set("grey",g.NamedColors.grey);g.NamedColors.byName.set("green",g.NamedColors.green=g.Rgb.fromInt(32768));g.NamedColors.byName.set("greenyellow",g.NamedColors.greenyellow=g.Rgb.fromInt(11403055));g.NamedColors.byName.set("green yellow",g.NamedColors.greenyellow);
g.NamedColors.byName.set("honeydew",g.NamedColors.honeydew=g.Rgb.fromInt(15794160));g.NamedColors.byName.set("honey dew",g.NamedColors.honeydew);g.NamedColors.byName.set("hotpink",g.NamedColors.hotpink=g.Rgb.fromInt(16738740));g.NamedColors.byName.set("hot pink",g.NamedColors.hotpink);g.NamedColors.byName.set("indianred",g.NamedColors.indianred=g.Rgb.fromInt(13458524));g.NamedColors.byName.set("indian red",g.NamedColors.indianred);g.NamedColors.byName.set("indigo",g.NamedColors.indigo=g.Rgb.fromInt(4915330));
g.NamedColors.byName.set("ivory",g.NamedColors.ivory=g.Rgb.fromInt(16777200));g.NamedColors.byName.set("khaki",g.NamedColors.khaki=g.Rgb.fromInt(15787660));g.NamedColors.byName.set("lavender",g.NamedColors.lavender=g.Rgb.fromInt(15132410));g.NamedColors.byName.set("lavenderblush",g.NamedColors.lavenderblush=g.Rgb.fromInt(16773365));g.NamedColors.byName.set("lavender blush",g.NamedColors.lavenderblush);g.NamedColors.byName.set("lawngreen",g.NamedColors.lawngreen=g.Rgb.fromInt(8190976));g.NamedColors.byName.set("lawn green",
g.NamedColors.lawngreen);g.NamedColors.byName.set("lemonchiffon",g.NamedColors.lemonchiffon=g.Rgb.fromInt(16775885));g.NamedColors.byName.set("lemon chiffon",g.NamedColors.lemonchiffon);g.NamedColors.byName.set("lightblue",g.NamedColors.lightblue=g.Rgb.fromInt(11393254));g.NamedColors.byName.set("light blue",g.NamedColors.lightblue);g.NamedColors.byName.set("lightcoral",g.NamedColors.lightcoral=g.Rgb.fromInt(15761536));g.NamedColors.byName.set("light coral",g.NamedColors.lightcoral);g.NamedColors.byName.set("lightcyan",
g.NamedColors.lightcyan=g.Rgb.fromInt(14745599));g.NamedColors.byName.set("light cyan",g.NamedColors.lightcyan);g.NamedColors.byName.set("lightgoldenrodyellow",g.NamedColors.lightgoldenrodyellow=g.Rgb.fromInt(16448210));g.NamedColors.byName.set("light golden rod yellow",g.NamedColors.lightgoldenrodyellow);g.NamedColors.byName.set("lightgray",g.NamedColors.lightgray=g.NamedColors.lightgrey=g.Rgb.fromInt(13882323));g.NamedColors.byName.set("light gray",g.NamedColors.lightgray);g.NamedColors.byName.set("lightgrey",
g.NamedColors.lightgrey);g.NamedColors.byName.set("light grey",g.NamedColors.lightgrey);g.NamedColors.byName.set("lightgreen",g.NamedColors.lightgreen=g.Rgb.fromInt(9498256));g.NamedColors.byName.set("light green",g.NamedColors.lightgreen);g.NamedColors.byName.set("lightpink",g.NamedColors.lightpink=g.Rgb.fromInt(16758465));g.NamedColors.byName.set("light pink",g.NamedColors.lightpink);g.NamedColors.byName.set("lightsalmon",g.NamedColors.lightsalmon=g.Rgb.fromInt(16752762));g.NamedColors.byName.set("light salmon",
g.NamedColors.lightsalmon);g.NamedColors.byName.set("lightseagreen",g.NamedColors.lightseagreen=g.Rgb.fromInt(2142890));g.NamedColors.byName.set("light sea green",g.NamedColors.lightseagreen);g.NamedColors.byName.set("lightskyblue",g.NamedColors.lightskyblue=g.Rgb.fromInt(8900346));g.NamedColors.byName.set("light sky blue",g.NamedColors.lightskyblue);g.NamedColors.byName.set("lightslategray",g.NamedColors.lightslategray=g.NamedColors.lightslategrey=g.Rgb.fromInt(7833753));g.NamedColors.byName.set("light slate gray",
g.NamedColors.lightslategray);g.NamedColors.byName.set("lightslategrey",g.NamedColors.lightslategrey);g.NamedColors.byName.set("light slate grey",g.NamedColors.lightslategrey);g.NamedColors.byName.set("lightsteelblue",g.NamedColors.lightsteelblue=g.Rgb.fromInt(11584734));g.NamedColors.byName.set("light steel blue",g.NamedColors.lightsteelblue);g.NamedColors.byName.set("lightyellow",g.NamedColors.lightyellow=g.Rgb.fromInt(16777184));g.NamedColors.byName.set("light yellow",g.NamedColors.lightyellow);
g.NamedColors.byName.set("lime",g.NamedColors.lime=g.Rgb.fromInt(65280));g.NamedColors.byName.set("limegreen",g.NamedColors.limegreen=g.Rgb.fromInt(3329330));g.NamedColors.byName.set("lime green",g.NamedColors.limegreen);g.NamedColors.byName.set("linen",g.NamedColors.linen=g.Rgb.fromInt(16445670));g.NamedColors.byName.set("magenta",g.NamedColors.magenta=g.Rgb.fromInt(16711935));g.NamedColors.byName.set("maroon",g.NamedColors.maroon=g.Rgb.fromInt(8388608));g.NamedColors.byName.set("mediumaquamarine",
g.NamedColors.mediumaquamarine=g.Rgb.fromInt(6737322));g.NamedColors.byName.set("mediuma quamarine",g.NamedColors.mediumaquamarine);g.NamedColors.byName.set("mediumblue",g.NamedColors.mediumblue=g.Rgb.fromInt(205));g.NamedColors.byName.set("medium blue",g.NamedColors.mediumblue);g.NamedColors.byName.set("mediumorchid",g.NamedColors.mediumorchid=g.Rgb.fromInt(12211667));g.NamedColors.byName.set("medium orchid",g.NamedColors.mediumorchid);g.NamedColors.byName.set("mediumpurple",g.NamedColors.mediumpurple=
g.Rgb.fromInt(9662683));g.NamedColors.byName.set("medium purple",g.NamedColors.mediumpurple);g.NamedColors.byName.set("mediumseagreen",g.NamedColors.mediumseagreen=g.Rgb.fromInt(3978097));g.NamedColors.byName.set("medium sea green",g.NamedColors.mediumseagreen);g.NamedColors.byName.set("mediumslateblue",g.NamedColors.mediumslateblue=g.Rgb.fromInt(8087790));g.NamedColors.byName.set("medium slate blue",g.NamedColors.mediumslateblue);g.NamedColors.byName.set("mediumspringgreen",g.NamedColors.mediumspringgreen=
g.Rgb.fromInt(64154));g.NamedColors.byName.set("medium spring green",g.NamedColors.mediumspringgreen);g.NamedColors.byName.set("mediumturquoise",g.NamedColors.mediumturquoise=g.Rgb.fromInt(4772300));g.NamedColors.byName.set("medium turquoise",g.NamedColors.mediumturquoise);g.NamedColors.byName.set("mediumvioletred",g.NamedColors.mediumvioletred=g.Rgb.fromInt(13047173));g.NamedColors.byName.set("medium violet red",g.NamedColors.mediumvioletred);g.NamedColors.byName.set("midnightblue",g.NamedColors.midnightblue=
g.Rgb.fromInt(1644912));g.NamedColors.byName.set("midnight blue",g.NamedColors.midnightblue);g.NamedColors.byName.set("mintcream",g.NamedColors.mintcream=g.Rgb.fromInt(16121850));g.NamedColors.byName.set("mint cream",g.NamedColors.mintcream);g.NamedColors.byName.set("mistyrose",g.NamedColors.mistyrose=g.Rgb.fromInt(16770273));g.NamedColors.byName.set("misty rose",g.NamedColors.mistyrose);g.NamedColors.byName.set("moccasin",g.NamedColors.moccasin=g.Rgb.fromInt(16770229));g.NamedColors.byName.set("navajowhite",
g.NamedColors.navajowhite=g.Rgb.fromInt(16768685));g.NamedColors.byName.set("navajo white",g.NamedColors.navajowhite);g.NamedColors.byName.set("navy",g.NamedColors.navy=g.Rgb.fromInt(128));g.NamedColors.byName.set("oldlace",g.NamedColors.oldlace=g.Rgb.fromInt(16643558));g.NamedColors.byName.set("old lace",g.NamedColors.oldlace);g.NamedColors.byName.set("olive",g.NamedColors.olive=g.Rgb.fromInt(8421376));g.NamedColors.byName.set("olivedrab",g.NamedColors.olivedrab=g.Rgb.fromInt(7048739));g.NamedColors.byName.set("olive drab",
g.NamedColors.olivedrab);g.NamedColors.byName.set("orange",g.NamedColors.orange=g.Rgb.fromInt(16753920));g.NamedColors.byName.set("orangered",g.NamedColors.orangered=g.Rgb.fromInt(16729344));g.NamedColors.byName.set("orangered",g.NamedColors.orangered);g.NamedColors.byName.set("orchid",g.NamedColors.orchid=g.Rgb.fromInt(14315734));g.NamedColors.byName.set("palegoldenrod",g.NamedColors.palegoldenrod=g.Rgb.fromInt(15657130));g.NamedColors.byName.set("pale golden rod",g.NamedColors.palegoldenrod);g.NamedColors.byName.set("palegreen",
g.NamedColors.palegreen=g.Rgb.fromInt(10025880));g.NamedColors.byName.set("pale green",g.NamedColors.palegreen);g.NamedColors.byName.set("paleturquoise",g.NamedColors.paleturquoise=g.Rgb.fromInt(11529966));g.NamedColors.byName.set("pale turquoise",g.NamedColors.paleturquoise);g.NamedColors.byName.set("palevioletred",g.NamedColors.palevioletred=g.Rgb.fromInt(14381203));g.NamedColors.byName.set("pale violet red",g.NamedColors.palevioletred);g.NamedColors.byName.set("papayawhip",g.NamedColors.papayawhip=
g.Rgb.fromInt(16773077));g.NamedColors.byName.set("papaya whip",g.NamedColors.papayawhip);g.NamedColors.byName.set("peachpuff",g.NamedColors.peachpuff=g.Rgb.fromInt(16767673));g.NamedColors.byName.set("peach puff",g.NamedColors.peachpuff);g.NamedColors.byName.set("peru",g.NamedColors.peru=g.Rgb.fromInt(13468991));g.NamedColors.byName.set("pink",g.NamedColors.pink=g.Rgb.fromInt(16761035));g.NamedColors.byName.set("plum",g.NamedColors.plum=g.Rgb.fromInt(14524637));g.NamedColors.byName.set("powderblue",
g.NamedColors.powderblue=g.Rgb.fromInt(11591910));g.NamedColors.byName.set("powder blue",g.NamedColors.powderblue);g.NamedColors.byName.set("purple",g.NamedColors.purple=g.Rgb.fromInt(8388736));g.NamedColors.byName.set("red",g.NamedColors.red=g.Rgb.fromInt(16711680));g.NamedColors.byName.set("rosybrown",g.NamedColors.rosybrown=g.Rgb.fromInt(12357519));g.NamedColors.byName.set("rosy brown",g.NamedColors.rosybrown);g.NamedColors.byName.set("royalblue",g.NamedColors.royalblue=g.Rgb.fromInt(4286945));
g.NamedColors.byName.set("royal blue",g.NamedColors.royalblue);g.NamedColors.byName.set("saddlebrown",g.NamedColors.saddlebrown=g.Rgb.fromInt(9127187));g.NamedColors.byName.set("saddle brown",g.NamedColors.saddlebrown);g.NamedColors.byName.set("salmon",g.NamedColors.salmon=g.Rgb.fromInt(16416882));g.NamedColors.byName.set("sandybrown",g.NamedColors.sandybrown=g.Rgb.fromInt(16032864));g.NamedColors.byName.set("sandy brown",g.NamedColors.sandybrown);g.NamedColors.byName.set("seagreen",g.NamedColors.seagreen=
g.Rgb.fromInt(3050327));g.NamedColors.byName.set("sea green",g.NamedColors.seagreen);g.NamedColors.byName.set("seashell",g.NamedColors.seashell=g.Rgb.fromInt(16774638));g.NamedColors.byName.set("sea shell",g.NamedColors.seashell);g.NamedColors.byName.set("sienna",g.NamedColors.sienna=g.Rgb.fromInt(10506797));g.NamedColors.byName.set("silver",g.NamedColors.silver=g.Rgb.fromInt(12632256));g.NamedColors.byName.set("skyblue",g.NamedColors.skyblue=g.Rgb.fromInt(8900331));g.NamedColors.byName.set("sky blue",
g.NamedColors.skyblue);g.NamedColors.byName.set("slateblue",g.NamedColors.slateblue=g.Rgb.fromInt(6970061));g.NamedColors.byName.set("slate blue",g.NamedColors.slateblue);g.NamedColors.byName.set("slategray",g.NamedColors.slategray=g.NamedColors.slategrey=g.Rgb.fromInt(7372944));g.NamedColors.byName.set("slate gray",g.NamedColors.slategray);g.NamedColors.byName.set("slategrey",g.NamedColors.slategrey);g.NamedColors.byName.set("slate grey",g.NamedColors.slategrey);g.NamedColors.byName.set("snow",g.NamedColors.snow=
g.Rgb.fromInt(16775930));g.NamedColors.byName.set("springgreen",g.NamedColors.springgreen=g.Rgb.fromInt(65407));g.NamedColors.byName.set("spring green",g.NamedColors.springgreen);g.NamedColors.byName.set("steelblue",g.NamedColors.steelblue=g.Rgb.fromInt(4620980));g.NamedColors.byName.set("steel blue",g.NamedColors.steelblue);g.NamedColors.byName.set("tan",g.NamedColors.tan=g.Rgb.fromInt(13808780));g.NamedColors.byName.set("teal",g.NamedColors.teal=g.Rgb.fromInt(32896));g.NamedColors.byName.set("thistle",
g.NamedColors.thistle=g.Rgb.fromInt(14204888));g.NamedColors.byName.set("tomato",g.NamedColors.tomato=g.Rgb.fromInt(16737095));g.NamedColors.byName.set("turquoise",g.NamedColors.turquoise=g.Rgb.fromInt(4251856));g.NamedColors.byName.set("violet",g.NamedColors.violet=g.Rgb.fromInt(15631086));g.NamedColors.byName.set("wheat",g.NamedColors.wheat=g.Rgb.fromInt(16113331));g.NamedColors.byName.set("white",g.NamedColors.white=g.Rgb.fromInt(16777215));g.NamedColors.byName.set("whitesmoke",g.NamedColors.whitesmoke=
g.Rgb.fromInt(16119285));g.NamedColors.byName.set("white smoke",g.NamedColors.whitesmoke);g.NamedColors.byName.set("yellow",g.NamedColors.yellow=g.Rgb.fromInt(16776960));g.NamedColors.byName.set("yellowgreen",g.NamedColors.yellowgreen=g.Rgb.fromInt(10145074));g.NamedColors.byName.set("yellow green",g.NamedColors.yellowgreen);Bb.En.get_language();ib.EnUS.get_culture();var Fe;if(null!=(Fe=window.JSON))ja.Json.nativeDecoder=Fe.parse,ja.Json.nativeEncoder=Fe.stringify;Yb.DIGITS_BASE10="0123456789";Yb.DIGITS_HEXU=
"0123456789ABCDEF";Yb.DIGITS_HEXL="0123456789abcdef";Yb.DIGITS_OCTAL="01234567";Yb.DIGITS_BN="0123456789abcdefghijklmnopqrstuvwxyz";Yb.DIGITS_BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";Yb.PROTO_HTTP="http://";Yb.PROTO_HTTPS="http://";Yb.PROTO_FILE="file://";Yb.PROTO_FTP="ftp://";Yb.PROTO_RTMP="rtmp://";za.WEEKDAYS="Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(",");za.WEEKDAYS_ABBREV="Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",");za.MONTHS="January,February,March,April,May,June,July,August,September,October,November,December".split(",");
za.MONTHS_ABBREV="Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(",");za.DAYS_OF_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31];va._reparse=new R("^\\d{4}-\\d\\d-\\d\\d(( |T)\\d\\d:\\d\\d(:\\d\\d(\\.\\d{1,3})?)?)?Z?$","");D._reparse=new R("^[+\\-]?(?:0|[1-9]\\d*)(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?","");D._reparseStrict=new R("^[+\\-]?(?:0|[1-9]\\d*)(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?$","");da.ZERO=0;da.ONE=1;da.BYTE_MASK=255;O._reparse=new R("^([+-])?\\d+$","");E._re=new R("[{](\\d+)(?::[^}]*)?[}]",
"m");E._reSplitWC=new R("(\r\n|\n\r|\n|\r)","g");E._reReduceWS=new R("\\s+","");E._reStripTags=new R("(<[a-z]+[^>/]*/?>|</[a-z]+>)","i");E._reFormat=new R("{(\\d+)(?::([a-zA-Z]+))?(?:,([^\"',}]+|'[^']+'|\"[^\"]+\"))?(?:,([^\"',}]+|'[^']+'|\"[^\"]+\"))?(?:,([^\"',}]+|'[^']+'|\"[^\"]+\"))?}","m");E._reCollapse=new R("\\s+","g");E.__ucwordsPattern=new R("[^a-zA-Z]([a-z])","");E.__ucwordswsPattern=new R("\\s([a-z])","");E.__alphaNumPattern=new R("^[a-z0-9]+$","i");E.__digitsPattern=new R("^[0-9]+$","");
E._reInterpolateNumber=new R("[-+]?(?:\\d+\\.\\d+|\\d+\\.|\\.\\d+|\\d+)(?:[eE][-]?\\d+)?","");Z.Sprintf.kPAD_ZEROES=1;Z.Sprintf.kLEFT_ALIGN=2;Z.Sprintf.kSHOW_SIGN=4;Z.Sprintf.kPAD_POS=8;Z.Sprintf.kALT_FORM=16;Z.Sprintf.kLONG_VALUE=32;Z.Sprintf.kUSE_SEPARATOR=64;Z.Sprintf.DEBUG=!1;Z.Sprintf.TRACE=!1;sa.FIELD_DATA="__dhx_data__";sa.FIELD_EVENT="__dhx_on__";sa.FIELD_TRANSITION="__dhx_transition__";Zb.refloat=new R("(\\d+(?:\\.\\d+)?)","");ob._escapePattern=new R("[*+?|{[()^$.# \\\\]","");ha.refloat=
new R("(\\d+(?:\\.\\d+)?)","");ma.window="undefined"!=typeof window?window:null;ma.document="undefined"!=typeof window?window.document:null;U.doc=function(){var a=new wa([ma.document]),b=Cb.create([a]);a.parentNode=b.parentNode=ma.document.documentElement;return b}();U.selectionEngine=function(){var a;if(Zc.supported())a=new Zc;else if(kc.supported())a=new kc;else throw"no selector engine available";return a}(this);ic.prefix=function(){var a=new ea;a.set("svg","http://www.w3.org/2000/svg");a.set("xhtml",
"http://www.w3.org/1999/xhtml");a.set("xlink","http://www.w3.org/1999/xlink");a.set("xml","http://www.w3.org/XML/1998/namespace");a.set("xmlns","http://www.w3.org/2000/xmlns/");return a}();$c._usepage=(new R("WebKit","")).match(ma.window.navigator.userAgent);Ba.timeout=0;Ba.interval=0;Ba._step=Ba.step;Xa._id=0;Xa._inheritid=0;lb.at="@";lb.bracketMismatch="Bracket mismatch! Inside template, non-paired brackets, '{' or '}', should be replaced by @{'{'} and @{'}'}.";hc.p1=0;hc.readPos=0;hc.tokenMin=
0;hc.tokenMax=0;r.MAX_RADIX=36;r.MIN_RADIX=2;$a.bias=1024;$a.cnst=2102;Pb.BASE_URL_GEOJSON="https://api.reportgrid.com/geo/json/";Pb.SERVICE_RENDERING_STATIC="https://api.reportgrid.com/services/viz/charts/up.json";Pb.LEGACY_RENDERING_STATIC="https://api.reportgrid.com/services/viz/charts/upandsee.{ext}";mb.lastid=0;mb.chartsCounter=0;mb.chartsLoaded=0;bc.snapping={minute:[{to:10,s:1},{to:20,s:2},{to:30,s:5},{to:60,s:10},{to:120,s:30},{to:240,s:60},{to:960,s:240}],minutetop:480,hour:[{to:12,s:1},
{to:24,s:6},{to:60,s:12},{to:240,s:24},{to:480,s:48},{to:960,s:120}],hourtop:240,month:[{to:13,s:1},{to:25,s:2},{to:49,s:4},{to:73,s:6}],monthtop:12,year:[{to:10,s:1},{to:20,s:2},{to:50,s:5}],yeartop:10};Kb.LIMIT_WIDTH=10;Kb.LIMIT_HEIGHT=10;Kb.DEFAULT_WIDTH=400;Kb.DEFAULT_HEIGHT=300;qb.PivotTable.defaultColorStart=new g.Hsl(210,1,1);qb.PivotTable.defaultColorEnd=new g.Hsl(210,1,0.5);L.DownloaderMenu.DEFAULT_FORMATS=["png","jpg","pdf"];L.DownloaderMenu.DEFAULT_TITLE="Download";L.Logo.registry=new ea;
L.Logo._id=0;L.Logo.LOGO_WIDTH=194;L.Logo.LOGO_HEIGHT=29;L.Tooltip.DEFAULT_DISTANCE=0;L.Tooltip.DEFAULT_ANCHOR="bottomright";ua.warner=window.console&&window.console.warn?function(a){console.warn(""+n.string(a))}:function(){};Lb.defaultStartColor=new g.Hsl(210,1,1);Lb.defaultEndColor=new g.Hsl(210,1,0.5);i.TransformerArray.instance=new i.TransformerArray;i.TransformerObject.instance=new i.TransformerObject;i.TransformerString.instance=new i.TransformerString;i.TransformerBool.instance=new i.TransformerBool;
i.TransformerInt.instance=new i.TransformerInt;i.TransformerFloat.instance=new i.TransformerFloat;i.TransformerFunction.instance=new i.TransformerFunction;i.TransformerExpressionToFunction.interp=new Ec;i.TransformerExpressionToFunction.pattern=new R("^\\s*=","");Tb.ALLOWED_FORMATS=["pdf","ps","png","jpg","svg"];Sa.FORMAT="jpg";Sa.nextframeid=0;fb.ALT_RIGHT=20;fb.ALT_LEFT=20;fb.ALT_TOP=8;fb.ALT_BOTTOM=8;fb.REYAXIS=new R("^y(\\d+)$","");fb.REYINDEX=new R("^y(\\d+)","");fb.REYTITLE=new R("^y(\\d+)title$",
"");$b.ALT_RIGHT=20;$b.ALT_LEFT=20;$b.ALT_TOP=8;$b.ALT_BOTTOM=8;s.Coords.retransform=new R("translate\\(\\s*(\\d+(?:\\.\\d+)?)\\s*(?:[, ]\\s*(\\d+(?:\\.\\d+)?)\\s*)?\\)","");s.StreamGraph.vid=0;V.SVGSymbolBuilder.SIZE_PATTERN=new R("^(\\d+)x(\\d+)$","");V.SVGSymbolBuilder.ALIGN_PATTERN=new R("^(center|left|right)\\s+(center|top|bottom)$","i");V.SVGSymbolBuilder.HORIZONTAL_PATTERN=new R("^(center|left|right)$","i");V.SVGSymbolBuilder.VERTICAL_PATTERN=new R("^(top|bottom)$","i");V.SymbolCache.DEFAULT_SYMBOL=
"circle";xc.modulus="00:ca:a7:37:07:b0:26:63:cb:f1:37:9d:e9:cc:c1:bd:f1:57:f5:90:72:4d:74:e2:5f:33:df:6c:c4:e4:7f:95:3c:87:89:ed:3c:60:cc:b0:15:f9:ad:57:77:52:4b:25:9b:c8:f9:d0:8a:b8:0a:ab:17:3d:7c:cf:1d:19:a3:8c:43:9b:ee:5b:2e:9e:45:18:b3:97:2a:91:c2:90:c2:1e:49:a3:5e:b1:48:09:1c:ee:06:b9:6e:ec:22:e6:2d:06:b8:b4:22:5f:4d:5e:81:6a:91:13:30:5d:6c:b5:7c:cc:fa:47:dc:8e:b4:f3:fd:0a:6e:d2:f8:09:3c:b1:c2:90:19";xc.publicExponent="3";W.validPeriods="minute,hour,day,week,month,year,eternity".split(",");W.validGroupValues=
["hour","day","week","month","year"];ya.TIME_TOKEN="time:";Ca.range=new R("(\\d+(?:\\.\\d+)?|\\.\\d+)?-(\\d+(?:\\.\\d+|\\.\\d+)?)?","");xa.html=["pivottable","leaderboard"];xa.svg="barchart,geo,funnelchart,heatgrid,linechart,piechart,scattergraph,streamgraph,sankey".split(",");xa.visualizations=xa.svg.concat(xa.html);xa.layouts=["simple","cartesian","x"];g.Colors._reParse=new R("^(?:(hsl|rgb|rgba|cmyk)\\(([^)]+)\\))|(?:(?:0x|#)([a-f0-9]{3,6}))$","i");x.DateParser.daynumeric="0?[1-9]|[1-2][0-9]|3[0-1]";
x.DateParser.months=ib.EnUS.get_culture().date.months.slice(0,-1).map(function(a){return a.toLowerCase()});x.DateParser.shortmonths=ib.EnUS.get_culture().date.abbrMonths.slice(0,-1).map(function(a){return a.toLowerCase()});x.DateParser.days=ib.EnUS.get_culture().date.days.map(function(a){return a.toLowerCase()});x.DateParser.shortdays=ib.EnUS.get_culture().date.abbrDays.map(function(a){return a.toLowerCase()});x.DateParser.sfullmonths=x.DateParser.months.join("|");x.DateParser.sshortmonths=x.DateParser.shortmonths.join("|");
x.DateParser.sfulldays=x.DateParser.days.join("|");x.DateParser.sshortdays=x.DateParser.shortdays.join("|");x.DateParser.day="(0?[0-9]|[1-2][0-9]|3[0-1])(?:st|nd|rd|th)?";x.DateParser.month="(?:0?[1-9]|1[0-2])";x.DateParser.hour="(?:0?[0-9]|1[0-9]|2[0-3])";x.DateParser.hhour="(?:0[0-9]|1[0-2])";x.DateParser.hohour="(?:0?[0-9]|1[0-2])";x.DateParser.fminsec="(?:0[0-9]|[1-5][0-9])";x.DateParser.minsec="(?:0?[0-9]|[1-5][0-9])";x.DateParser.ampm="(?:(?:in\\s+the\\s+)?(am|pm|evening|morning|afternoon))";
x.DateParser.daypart="(?:(?:in\\s+the\\s+)?(evening|morning|afternoon|sunsrise|sunset|dawn|dusk|noon|mid-day|midday|mid-night|midnight))";x.DateParser.period="minute|minutes|hour|hours|day|days|week|weeks|month|months|year|years|second|seconds";x.DateParser.dateexp=new R("(?:(?:\\b("+x.DateParser.sfullmonths+")\\s+"+x.DateParser.day+"(?:\\s*,\\s*(\\d{2,4}))?\\b)|(?:\\b("+x.DateParser.sshortmonths+")\\s+"+x.DateParser.day+"(?:\\s*,?\\s*(\\d{2,4}))?\\b)|(?:\\b"+x.DateParser.day+"\\s+("+x.DateParser.sfullmonths+
")(?:\\s+(\\d{2,4}))?\\b)|(?:\\b"+x.DateParser.day+"\\s+("+x.DateParser.sshortmonths+")(?:\\s+(\\d{2,4}))?\\b)|(?:\\b(?:"+x.DateParser.day+"\\s+)?("+x.DateParser.sfullmonths+")\\s+(\\d{2,4})\\b)|(?:\\b(?:"+x.DateParser.day+"\\s+)?("+x.DateParser.sshortmonths+")\\s+(\\d{2,4})\\b)|(?:\\b("+x.DateParser.month+")/"+x.DateParser.day+"(?:/(\\d{2,4}))?\\b)|(?:\\b"+x.DateParser.day+"/("+x.DateParser.month+")(?:/(\\d{2,4}))?\\b)|(?:\\b(\\d{2,4})-("+x.DateParser.month+")-"+x.DateParser.day+"\\b)|(?:^\\s*"+
x.DateParser.day+"\\s*$))","i");x.DateParser.absdateexp=new R("(?:(?:\\b(today|now|this\\s+second|tomorrow|yesterday)\\b)|(?:\\b(?:(next|last|this)\\s+)?("+x.DateParser.sfullmonths+")\\b)|(?:\\b(?:(next|last|this)\\s+)?("+x.DateParser.sfulldays+")\\b)|(?:\\b(?:(next|last|this)\\s+)?("+x.DateParser.sshortmonths+")\\b)|(?:\\b(?:(next|last|this)\\s+)?("+x.DateParser.sshortdays+")\\b))","i");x.DateParser.relexp=new R("(?:(?:\\b(plus\\s+|minus\\s|\\+|-|in)\\s*(\\d+)?\\s+("+x.DateParser.period+")\\b)|(?:\\b(\\d+)?\\s+("+
x.DateParser.period+")\\s+(from|before|hence|after|ago)?\\b))","i");x.DateParser.timeexp=new R("(?:\\bat\\s+)?(?:(?:\\b("+x.DateParser.hohour+"):("+x.DateParser.minsec+")\\s*"+x.DateParser.ampm+"\\b)|(?:(?:\\b|T)("+x.DateParser.hour+"):("+x.DateParser.minsec+")(?:[:]("+x.DateParser.minsec+")(?:\\.(\\d+))?)?\\b)|(?:(?:^|\\s+)("+x.DateParser.hhour+")("+x.DateParser.fminsec+")\\s*"+x.DateParser.ampm+"?(?:\\s+|$))|(?:\\b("+x.DateParser.hohour+")\\s*"+x.DateParser.ampm+"\\b)|(?:\\b"+x.DateParser.daypart+
"\\b))","i");J.Error.errorPositionPattern="{0}.{1}({2}): ";T.Contour.contourDx=[1,0,1,1,-1,0,-1,1,0,0,0,0,-1,0,-1,null];T.Contour.contourDy=[0,-1,0,0,0,-1,0,0,1,-1,1,1,0,-1,0,null];t.Graphs.id=0;C.Const.TWO_PI=6.283185307179586;C.Const.PI=3.141592653589793;C.Const.HALF_PI=1.5707963267948966;C.Const.TO_DEGREE=57.29577951308232;C.Const.TO_RADIAN=0.017453292519943295;C.Const.LN10=2.302585092994046;C.Const.E=2.718281828459045;C.scale.Linears._default_color=new g.Hsl(0,0,0);q.LineInternals.arcOffset=-Math.PI/
2;q.LineInternals.arcMax=2*Math.PI-1.0E-6;q.LineInternals._lineBasisBezier1=[0,2/3,1/3,0];q.LineInternals._lineBasisBezier2=[0,1/3,2/3,0];q.LineInternals._lineBasisBezier3=[0,1/6,2/3,1/6];q.Symbol.sqrt3=Math.sqrt(3);q.Symbol.tan30=Math.tan(30*Math.PI/180);tb.ERegs._escapePattern=new R("[*+?|{[()^$.# \\\\]","");nb.main()})();
